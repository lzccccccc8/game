window.__require=function e(t,i,a){function o(n,_){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var r="function"==typeof __require&&__require;if(!_&&r)return r(s,!0);if(m)return m(s,!0);throw new Error("Cannot find module '"+n+"'")}n=s}var l=i[n]={exports:{}};t[n][0].call(l.exports,function(e){return o(t[n][1][e]||e)},l,l.exports,e,t,i,a)}return i[n].exports}for(var m="function"==typeof __require&&__require,n=0;n<a.length;n++)o(a[n]);return o}({DataManager_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"c2653JTzoJqB3/T8Nobbmh6","DataManager_ThunderZeus");var a=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioData=i.eAudioName=i.m_WinCount=i.m_ScoreTransCount=i.m_LockCount=i.m_Max_Bet=i.m_iItem_LockNum4=i.m_iItem_LockNum3=i.m_iItem_LockNum2=i.m_iItem_LockNum1=i.m_iItem_LockNum0=i.m_iPayTypeCountGenSpe=i.m_iPayTypeCountGen=i.m_iRuleCount=i.m_iJackpotCount=i.m_iItemCol2=i.m_iLinesCount=i.m_iItemResCount=i.m_iItemRow1=i.m_iItemRow=i.m_iItemCol=i.m_iItem_Jackpot3=i.m_iItem_Jackpot2=i.m_iItem_Jackpot1=i.m_iItem_Jackpot0=i.m_iItem_FREE=i.m_iItem_WILD=i.m_iKeepDecPoint=i.m_Delay3=i.m_Delay2=i.m_Delay1=i.m_Delay05=i.m_iVerUI=void 0;var o=cc._decorator,m=o.ccclass;o.property,i.m_iVerUI=0,i.m_Delay05=.5,i.m_Delay1=1,i.m_Delay2=2,i.m_Delay3=3,i.m_iKeepDecPoint=2,i.m_iItem_WILD=19,i.m_iItem_FREE=20,i.m_iItem_Jackpot0=21,i.m_iItem_Jackpot1=22,i.m_iItem_Jackpot2=23,i.m_iItem_Jackpot3=24,i.m_iItemCol=5,i.m_iItemRow=3,i.m_iItemRow1=4,i.m_iItemResCount=25,i.m_iLinesCount=49,i.m_iItemCol2=4,i.m_iJackpotCount=4,i.m_iRuleCount=4,i.m_iPayTypeCountGen=8,i.m_iPayTypeCountGenSpe=4,i.m_iItem_LockNum0=4,i.m_iItem_LockNum1=8,i.m_iItem_LockNum2=12,i.m_iItem_LockNum3=16,i.m_iItem_LockNum4=20,i.m_Max_Bet=5,i.m_LockCount=4,i.m_ScoreTransCount=6,i.m_WinCount=3;var n=function(){function e(){}return a([m],e)}();i.default=n,function(e){e[e.BGM_Gen=0]="BGM_Gen",e[e.BGM_Free=1]="BGM_Free",e[e.BGM_Special=2]="BGM_Special",e[e.Sound_GameWinTrans=3]="Sound_GameWinTrans",e[e.Sound_TotalWinTrans=4]="Sound_TotalWinTrans",e[e.Sound_SmallWin=5]="Sound_SmallWin",e[e.Sound_MiddleWin=6]="Sound_MiddleWin",e[e.Sound_BigWin=7]="Sound_BigWin",e[e.Sound_FreeEnab=8]="Sound_FreeEnab",e[e.Sound_FreeEnab1=9]="Sound_FreeEnab1",e[e.Sound_Spin=10]="Sound_Spin",e[e.Sound_SpinStop=11]="Sound_SpinStop",e[e.Sound_Bed=12]="Sound_Bed",e[e.Sound_Auto2Man=13]="Sound_Auto2Man",e[e.Sound_RollingSllow=14]="Sound_RollingSllow",e[e.Sound_Line=15]="Sound_Line",e[e.Sound_Lock=16]="Sound_Lock",e[e.Sound_Unlock=17]="Sound_Unlock",e[e.Sound_Cash=18]="Sound_Cash",e[e.Sound_FreeGameTimesAdd=19]="Sound_FreeGameTimesAdd",e[e.Sound_FreeIconStop=20]="Sound_FreeIconStop",e[e.Sound_FireIconStop=21]="Sound_FireIconStop",e[e.Sound_CardBig=22]="Sound_CardBig",e[e.Sound_Firework=23]="Sound_Firework",e[e.Sound_WILDIconStop=24]="Sound_WILDIconStop",e[e.Sound_FireEnab=25]="Sound_FireEnab",e[e.Sound_SPScorePlus=26]="Sound_SPScorePlus",e[e.Sound_Free_LionWait=27]="Sound_Free_LionWait",e[e.Sound_Free_LionSelect=28]="Sound_Free_LionSelect",e[e.Sound_FireOut=29]="Sound_FireOut",e[e.Sound_FireNumAdd=30]="Sound_FireNumAdd"}(i.eAudioName||(i.eAudioName={}));var _=function(){function e(){this.ary_AudioNames=["BGM_Gen","BGM_Free","BGM_Special","Sound_GameWinTrans","Sound_TotalWinTrans","Sound_SmallWin","Sound_MiddleWin","Sound_BigWin","Sound_FreeEnab","Sound_FreeEnab1","Sound_Spin","Sound_SpinStop","Sound_Bed","Sound_Auto2Man","Sound_RollingSllow","Sound_Line","Sound_Lock","Sound_Unlock","Sound_Cash","Sound_FreeGameTimesAdd","Sound_FreeIconStop","Sound_FireIconStop","Sound_CardBig","Sound_Firework","Sound_WILDIconStop","Sound_FireEnab","Sound_SPScorePlus","Sound_Free_LionWait","Sound_Free_LionSelect","Sound_FireOut","Sound_FireNumAdd"],this.ary_AudioVolume=[.15,.15,.15,.5,1,.5,.5,1,.5,1,1,1,1,.5,.3,1,.5,.2,.5,.5,.3,.3,1,.5,1,.5,.5,.5,.5,.5,.5]}return a([m],e)}();i.AudioData=_,cc._RF.pop()},{}],DealAutoTrans_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"de563/nVje0LMtyXFv3uL3H","DealAutoTrans_ThunderZeus");var a=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.ePlayMode=void 0;var o,m=e("./GameLogic_ThunderZeus"),n=cc._decorator,_=n.ccclass;n.property,function(e){e[e.ePM_Man=0]="ePM_Man",e[e.ePM_Auto=1]="ePM_Auto"}(o=i.ePlayMode||(i.ePlayMode={}));var s=function(){function e(e){this.m_ePlayMode=o.ePM_Man,this.spinBtnIsTouch=!1,this.spinBtnTouchTimer=0,this.spinBtnTouchTimes=1,this.m_SpinLeftSpriteFrame=[],this.m_Logic=e}return e.prototype.SetBtnAutoSpinState=function(e,t){void 0===t&&(t=!0),e?(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=!0,this.m_BtnStop.node.active=!e,this.m_BtnStop.interactable=!0,this.m_BtnAutoSpin.node.active=e,this.m_BtnAutoSpin.interactable=t):(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=t,this.m_BtnStop.node.active=e,this.m_BtnStop.interactable=!0,this.m_BtnAutoSpin.node.active=e,this.m_BtnAutoSpin.interactable=!0)},e.prototype.SetBtnStopSpinState=function(e,t){void 0===t&&(t=!0),e&&(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=!0,this.m_BtnStop.node.active=e,this.m_BtnStop.interactable=t,this.m_BtnAutoSpin.node.active=!e,this.m_BtnAutoSpin.interactable=!0)},e.prototype.OnAutoBtn=function(){var e=this.m_ePlayMode==o.ePM_Man?o.ePM_Auto:o.ePM_Man;this.IsAutoPlay(e)},e.prototype.IsAutoPlay=function(e){this.m_ePlayMode!=e&&this.m_ePlayMode==o.ePM_Man&&(this.m_Logic.m_GameTypeCur==m.eGameTypeCur.eGTN_SpecialGame||(this.m_Logic.m_GameTypeNext,m.eGameTypeNext.eGTN_SpecialGame)),this.m_ePlayMode=e},e.prototype.onSpinBtnTouchStart=function(){this.m_Logic.m_GameState!=m.eGameState.eGS_Playing&&(this.spinBtnTouchTimer=0,this.spinBtnIsTouch=!0)},e.prototype.onSpinBtnTouchEnd=function(){this.spinBtnIsTouch=!1,this.m_spinBtnPressParticle.active=!1},e.prototype.onSpinBtnTouchCancel=function(){this.spinBtnIsTouch=!1,this.m_spinBtnPressParticle.active=!1},e.prototype.onSpinBtnTouch=function(){this.m_spinBtnPressParticle.active=!1,this.spinBtnIsTouch=!1,this.spinBtnTouchTimer=0,this.SetMan2AutoSpin(),this.m_Logic.SetBtnState(m.eBtnState.eBS_FSIdle),this.m_Logic.m_DealWinPro.ShowGameWin()},e.prototype.UpdateTouch=function(){this.spinBtnIsTouch&&this.m_Logic.m_GameTypeCur==m.eGameTypeCur.eGTC_General&&(this.spinBtnTouchTimer+=cc.director.getDeltaTime(),this.spinBtnTouchTimer,this.spinBtnTouchTimer>this.spinBtnTouchTimes&&this.onSpinBtnTouch())},e.prototype.SetMan2AutoSpin=function(){this.m_ePlayMode==o.ePM_Man&&this.IsAutoPlay(o.ePM_Auto)},e.prototype.SetAuto2ManSpin=function(){this.m_ePlayMode==o.ePM_Auto&&this.IsAutoPlay(o.ePM_Man)},a([_],e)}();i.default=s,cc._RF.pop()},{"./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],DealBetRelevant_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"86e981bepjo2uYOlzlAeYe6","DealBetRelevant_ThunderZeus");var a=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var o=e("./GameLogic_ThunderZeus"),m=cc._decorator,n=m.ccclass,_=(m.property,function(){function e(e){this.m_iBet=0,this.m_iLines=0,this.m_fTotalBet=0,this.m_ShowIconRateNumCtrl0=new Array(10),this.m_ShowIconRateNumCtrl1=new Array(10),this.m_ShowIconRateNumCtrl2=new Array(10),this.m_ShowAllBet0=[5,10,15,20,25,50,60,80,250,300],this.m_ShowAllBet1=[20,30,40,50,100,300,400,500,1e3,2500],this.m_ShowAllBet2=[100,300,500,700,1e3,3e3,4e3,5e3,1e4,25e3],this.m_Logic=e}return e.prototype.Final=function(){this.m_ShowTotalBetCtrl=null,this.m_ShowLinesCtrl=null},e.prototype.ShowAllData=function(){this.m_ShowTotalBetCtrl.ShowNum1(this.m_fTotalBet,!0,-1,!1);for(var e=0;e<10;e++)this.m_ShowIconRateNumCtrl0[e].ShowNum1(this.m_ShowAllBet0[e]*(this.m_fTotalBet/25),!0,-1,!0),this.m_ShowIconRateNumCtrl1[e].ShowNum1(this.m_ShowAllBet1[e]*(this.m_fTotalBet/25),!0,-1,!0),this.m_ShowIconRateNumCtrl2[e].ShowNum1(this.m_ShowAllBet2[e]*(this.m_fTotalBet/25),!0,-1,!0)},e.prototype.ShowIconRate=function(e,t){this.ShowImageNum(e,t)},e.prototype.ShowImageNum=function(e,t,i){void 0===i&&(i=!0),i?e.ShowNum1(t,!0,0,!1):e.ShowNum2(t,!0,!1)},e.prototype.MaxBet=function(){},e.prototype.AddBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=1)},e.prototype.SubBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=-1)},e.prototype.BIsCanChangeBet=function(){switch(this.m_Logic.m_GameState){case o.eGameState.eGS_CanChangeBet:return!0}return!1},a([n],e)}());i.default=_,cc._RF.pop()},{"./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],DealItemRelevant_FreeThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"723d3tlfZnRyeWTiCv2ehBY","DealItemRelevant_FreeThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.eRollState=void 0;var n,_=e("./DataManager_ThunderZeus"),s=e("./DealAutoTrans_ThunderZeus"),r=e("./GameLogic_ThunderZeus"),l=cc._decorator,c=l.ccclass;l.property,function(e){e[e.eRS_None=0]="eRS_None",e[e.eRS_Rolling=1]="eRS_Rolling"}(n=i.eRollState||(i.eRollState={}));var h=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;return a.m_ItemCtrl=null,a.m_eRollState=n.eRS_None,a.m_fItemTransInter=.2,a.m_fItemTransTimer=0,a.m_fItemStopTotalTime=1,a.m_fItemStopTotalTimer=0,a.m_iColStop=0,a.m_bIsTransing=!1,a.m_bIsGetResult=!1,a.m_bIsAutoStopOpened=!1,a.m_list_iColCanShowRollEff=new Array,a.m_bIsRunRollEff=!1,a.m_fRollEffTotalTime=3,a.m_fRollEffTimer=0,a.m_bIsOverall=!1,a.m_fStopSoundTime=.1,a.m_Logic=t[0],a}return o(t,e),t.prototype.Final=function(){this.m_ItemCtrl=null},t.prototype.UpdateState=function(){this.m_ItemCtrl.StateItemCtrl()},t.prototype.ResetParam=function(){this.m_fItemTransTimer=0,this.m_fItemStopTotalTimer=0,this.m_bIsTransing=!1,this.m_bIsGetResult=!1,this.m_eRollState=n.eRS_None,this.m_bIsAutoStopOpened=!1,this.m_bIsRunRollEff=!1,this.m_fRollEffTimer=0,this.m_RollerEff&&(this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID),this.m_RollerEff=!1),this.m_bIsOverall=!1},t.prototype.ShowInitResultSpr=function(){this.m_ItemCtrl.ShowInitResultSpr()},t.prototype.OnTrans=function(){this.m_ItemCtrl.OnTrans()},t.prototype.SetAllItemResult=function(e){this.m_ItemCtrl.SetAllItemResult(e),this.m_Logic.m_GameMode==r.eGameMode.eGM_SpecialGame?this.m_fStopSoundTime=.4:this.m_fStopSoundTime=.1},t.prototype.SetAItemResult=function(e,t,i){this.m_ItemCtrl.SetOneItemResult(e,t,i)},t.prototype.SetAllItemStop=function(e){var t=this;void 0===e&&(e=!0);var i=!1;if(this.m_bIsRunRollEff){this.m_list_iColCanShowRollEff[0];for(var a=1;a<_.m_iItemCol2-1;a++)this.Get_m_ary_bIsCanStop(a)||(this.SetAColItemStop(a),i=!0)}else this.m_ItemCtrl.SetAllItemStop(),this.m_Logic.m_DealSound&&(this.m_SoundSpin=this.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,this.m_Logic.m_iSeatID,!1,!0)),i=!0;i&&e&&this.scheduleOnce(function(){t.m_Logic.m_DealSound&&(t.m_SoundSpin=t.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,t.m_Logic.m_iSeatID,!1,!0))},.25)},t.prototype.SetAColItemStop=function(e,t){var i=this;void 0===t&&(t=!0),this.m_ItemCtrl.SetAColItemStop(e),t&&this.scheduleOnce(function(){var t=i.GetStopSound(e);i.m_ItemCtrl.m_GameTypeCurIndex==r.eGameTypeCur.eGTN_SpecialGame&&(t=0),1==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_FireIconStop,i.m_Logic.m_iSeatID,!1,!0)):2==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_FreeIconStop,i.m_Logic.m_iSeatID,!1,!0)):i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,i.m_Logic.m_iSeatID,!1,!0))},this.m_fStopSoundTime),this.m_fRollEffTimer=0,-1!=this.m_list_iColCanShowRollEff.indexOf(e)&&(this.m_bIsRunRollEff=!1),this.m_RollerEff&&(this.m_RollerEff=!1,null!=this.m_RollingSllow&&this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID)),this.m_bIsRunRollEff=!1,this.m_RollerEff=!1},t.prototype.GetImage=function(e,t){return this.m_ItemCtrl.GetImage(e,t)},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_ItemCtrl.Get_IsAllItemTransEnd()},t.prototype.Get_m_ary_bIsCanStop=function(e){return this.m_ItemCtrl.Get_m_ary_bIsCanStop(e)},t.prototype.DealTransStop=function(){var e=this;switch(this.m_eRollState){case n.eRS_None:this.m_bIsGetResult&&(cc.log("DealTransStop,this.m_bIsGetResult==true",this.m_Logic.m_GameMode,this.m_Logic.m_arys_ItemResult_1),this.OnTrans(),this.m_Logic.m_GameMode!=r.eGameMode.eGM_FreeGame?this.SetAllItemResult(this.m_Logic.m_arys_ItemResult):(this.m_Logic.m_DealWinPro.m_DealSpecial.ResetItemImage(),this.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1)),this.scheduleOnce(function(){e.SetTransing()},.1),this.m_eRollState=n.eRS_Rolling);break;case n.eRS_Rolling:this.m_bIsTransing&&this.ItemTransLogic()}},t.prototype.SetTransing=function(){this.m_bIsTransing=!0},t.prototype.ItemTransLogic=function(){if(this.m_fRollEffTimer+=cc.director.getDeltaTime(),this.IsAutoStopOpened()){if(this.m_bIsRunRollEff&&this.m_fRollEffTimer<this.m_fRollEffTotalTime)return;if(this.m_fItemTransTimer+=cc.director.getDeltaTime(),this.m_fItemTransTimer>=this.m_fItemTransInter)for(var e=0;e<_.m_iItemCol2;e++)if(!this.Get_m_ary_bIsCanStop(e)){this.m_fItemTransTimer=0,this.SetAColItemStop(e);break}}},t.prototype.AllStopItem=function(){this.m_bIsTransing&&this.m_bIsGetResult&&(this.SetAllItemStop(),this.m_Logic.m_eStartKey=r.eStartKey.eSK_None)},t.prototype.DesignateStopItem=function(){if(this.m_bIsTransing&&this.m_bIsGetResult){var e=this.m_iColStop;e<0||e>=this.m_Logic.m_arys_ItemResult.length||this.Get_m_ary_bIsCanStop(e)||(this.SetAColItemStop(e),this.m_fItemStopTotalTimer=0)}},t.prototype.IsAutoStopOpened=function(){return!!this.m_bIsAutoStopOpened||(this.m_Logic.m_DealAutoTrans.m_ePlayMode==s.ePlayMode.ePM_Auto?(this.m_bIsAutoStopOpened=!0,!0):(this.m_fItemStopTotalTimer+=cc.director.getDeltaTime(),this.m_fItemStopTotalTimer>=this.m_fItemStopTotalTime&&(this.m_bIsAutoStopOpened=!0,!0)))},t.prototype.AColStopEvn=function(){},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),this.m_ItemCtrl.SetModifySpeed(e,t)},t.prototype.SetSpItemResIndex=function(e){e>=0&&e<_.m_Max_Bet&&(this.m_ItemCtrl.m_SpItemResIndex=e)},t.prototype.SetSpCurrentGameType=function(e){this.m_ItemCtrl.m_GameTypeCurIndex=e},t.prototype.SetIBet=function(e){this.m_ItemCtrl.m_iBet=e},t.prototype.GetStopSound=function(e){var t=0;if(e>=0&&e<=_.m_iItemCol)for(var i=_.m_iItemRow-1;i>=0;i--){var a=this.m_Logic.m_arys_ItemResult[e][i];if(a>=9&&a<=108||a>=111&&a<=114){t=1;break}if(a==_.m_iItem_FREE){t=2;break}}return t},m([c],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus","./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],DealItemRelevant_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"efdb0BWhX7t6rsJAojR9jsE","DealItemRelevant_ThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.eRollState=void 0;var n,_=e("./DataManager_ThunderZeus"),s=e("./DealAutoTrans_ThunderZeus"),r=e("./GameLogic_ThunderZeus"),l=cc._decorator,c=l.ccclass;l.property,function(e){e[e.eRS_None=0]="eRS_None",e[e.eRS_Rolling=1]="eRS_Rolling"}(n=i.eRollState||(i.eRollState={}));var h=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;return a.m_ItemCtrl=null,a.m_eRollState=n.eRS_None,a.m_fItemTransInter=.2,a.m_fItemTransTimer=0,a.m_fItemStopTotalTime=1,a.m_fItemStopTotalTimer=0,a.m_iColStop=0,a.m_bIsTransing=!1,a.m_bIsGetResult=!1,a.m_bIsAutoStopOpened=!1,a.m_list_iColCanShowRollEff=new Array,a.m_bIsRunRollEff=!1,a.m_fRollEffTotalTime=3,a.m_fRollEffTimer=0,a.m_bIsOverall=!1,a.m_fStopSoundTime=.1,a.m_Logic=t[0],a}return o(t,e),t.prototype.Final=function(){this.m_ItemCtrl=null},t.prototype.UpdateState=function(){this.m_ItemCtrl.StateItemCtrl()},t.prototype.ResetParam=function(){cc.log("\u91cd\u7f6e\u53c2\u6570"),this.m_fItemTransTimer=0,this.m_fItemStopTotalTimer=0,this.m_bIsTransing=!1,this.m_bIsGetResult=!1,this.m_eRollState=n.eRS_None,this.m_bIsAutoStopOpened=!1,this.m_bIsRunRollEff=!1,this.m_fRollEffTimer=0,this.m_RollerEff&&(this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID),this.m_RollerEff=!1),this.m_bIsOverall=!1},t.prototype.ShowInitResultSpr=function(){this.m_ItemCtrl.ShowInitResultSpr()},t.prototype.OnTrans=function(){this.m_ItemCtrl.OnTrans()},t.prototype.SetAllItemResult=function(e){this.m_ItemCtrl.SetAllItemResult(e),cc.log("\u8bbe\u7f6e\u5168\u90e8item\u7ed3\u679c"),this.m_Logic.m_GameMode==r.eGameMode.eGM_SpecialGame?this.m_fStopSoundTime=.4:this.m_fStopSoundTime=.1},t.prototype.SetAItemResult=function(e,t,i){this.m_ItemCtrl.SetOneItemResult(e,t,i)},t.prototype.SetAllItemStop=function(e){var t=this;void 0===e&&(e=!0);var i=!1;if(this.m_bIsRunRollEff){this.m_list_iColCanShowRollEff[0];for(var a=1;a<_.m_iItemCol-1;a++)this.Get_m_ary_bIsCanStop(a)||(this.SetAColItemStop(a),i=!0)}else this.m_ItemCtrl.SetAllItemStop(),this.m_Logic.m_DealSound&&(this.m_SoundSpin=this.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,this.m_Logic.m_iSeatID,!1,!0)),i=!0;i&&e&&this.scheduleOnce(function(){t.m_Logic.m_DealSound&&(t.m_SoundSpin=t.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,t.m_Logic.m_iSeatID,!1,!0))},.25)},t.prototype.SetAColItemStop=function(e,t){var i=this;void 0===t&&(t=!0),this.m_ItemCtrl.SetAColItemStop(e),t&&this.scheduleOnce(function(){var t=i.GetStopSound(e);i.m_ItemCtrl.m_GameTypeCurIndex==r.eGameTypeCur.eGTN_SpecialGame&&(t=0),1==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_FireIconStop,i.m_Logic.m_iSeatID,!1,!0)):2==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_FreeIconStop,i.m_Logic.m_iSeatID,!1,!0)):i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(_.eAudioName.Sound_SpinStop,i.m_Logic.m_iSeatID,!1,!0))},this.m_fStopSoundTime),this.m_fRollEffTimer=0,-1!=this.m_list_iColCanShowRollEff.indexOf(e)&&(this.m_bIsRunRollEff=!1),this.m_RollerEff&&(this.m_RollerEff=!1,null!=this.m_RollingSllow&&this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID)),this.m_bIsRunRollEff=!1,this.m_RollerEff=!1},t.prototype.GetImage=function(e,t){return this.m_ItemCtrl.GetImage(e,t)},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_ItemCtrl.Get_IsAllItemTransEnd()},t.prototype.Get_m_ary_bIsCanStop=function(e){return this.m_ItemCtrl.Get_m_ary_bIsCanStop(e)},t.prototype.DealTransStop=function(){var e=this;switch(this.m_eRollState){case n.eRS_None:this.m_bIsGetResult&&(cc.log("DealTransStop,this.m_bIsGetResult==true",this.m_Logic.m_GameMode),this.OnTrans(),this.m_Logic.m_GameMode!=r.eGameMode.eGM_SpecialGame?this.SetAllItemResult(this.m_Logic.m_arys_ItemResult):(this.m_Logic.m_DealWinPro.m_DealSpecial.ResetItemImage(),this.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1)),this.scheduleOnce(function(){e.SetTransing()},.1),this.m_eRollState=n.eRS_Rolling);break;case n.eRS_Rolling:this.m_bIsTransing&&this.ItemTransLogic()}},t.prototype.SetTransing=function(){cc.log("===SetTransing===="),this.m_bIsTransing=!0},t.prototype.ItemTransLogic=function(){if(this.m_fRollEffTimer+=cc.director.getDeltaTime(),this.IsAutoStopOpened()){if(this.m_bIsRunRollEff&&this.m_fRollEffTimer<this.m_fRollEffTotalTime)return void cc.log("this.m_bIsRunRollEff && this.m_fRollEffTimer < this.m_fRollEffTotalTime");if(this.m_fItemTransTimer+=cc.director.getDeltaTime(),this.m_fItemTransTimer>=this.m_fItemTransInter)for(var e=0;e<_.m_iItemCol;e++)if(!this.Get_m_ary_bIsCanStop(e)){this.m_fItemTransTimer=0,this.SetAColItemStop(e);break}}},t.prototype.AllStopItem=function(){cc.log("===AllStopItem==",this.m_bIsTransing,this.m_bIsGetResult),this.m_bIsTransing&&this.m_bIsGetResult?(this.SetAllItemStop(),this.m_Logic.m_eStartKey=r.eStartKey.eSK_None,cc.log("===AllStopItem==\u505c\u6b62\u6eda\u8f6e\uff01")):cc.log("===AllStopItem==\u6b63\u5728\u8f6c \u6216\u6ca1\u83b7\u5f97\u7ed3\u679c\uff01")},t.prototype.DesignateStopItem=function(){if(this.m_bIsTransing&&this.m_bIsGetResult){var e=this.m_iColStop;e<0||e>=this.m_Logic.m_arys_ItemResult.length||this.Get_m_ary_bIsCanStop(e)||(this.SetAColItemStop(e),this.m_fItemStopTotalTimer=0)}},t.prototype.IsAutoStopOpened=function(){return!!this.m_bIsAutoStopOpened||(this.m_Logic.m_DealAutoTrans.m_ePlayMode==s.ePlayMode.ePM_Auto?(this.m_bIsAutoStopOpened=!0,!0):(this.m_fItemStopTotalTimer+=cc.director.getDeltaTime(),this.m_fItemStopTotalTimer>=this.m_fItemStopTotalTime&&(this.m_bIsAutoStopOpened=!0,!0)))},t.prototype.AColStopEvn=function(){},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),this.m_ItemCtrl.SetModifySpeed(e,t)},t.prototype.SetSpItemResIndex=function(){},t.prototype.SetSpCurrentGameType=function(e){this.m_ItemCtrl.m_GameTypeCurIndex=e},t.prototype.SetIBet=function(e){this.m_ItemCtrl.m_iBet=e},t.prototype.GetStopSound=function(e){var t=0;if(e>=0&&e<=_.m_iItemCol)for(var i=_.m_iItemRow-1;i>=0;i--){var a=this.m_Logic.m_arys_ItemResult[e][i];if(a>=9&&a<=108||a>=111&&a<=114){t=1;break}if(a==_.m_iItem_FREE){t=2;break}}return t},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},m([c],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus","./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],DealSpecial_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"cd3fd3STLIB7gpcS4Fs6P+V","DealSpecial_ThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./DataManager_ThunderZeus"),_=e("./DealAutoTrans_ThunderZeus"),s=e("./DealWinProcess_ThunderZeus"),r=e("./GameLogic_ThunderZeus"),l=cc._decorator,c=l.ccclass,h=(l.property,function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_ary_SprNumLock=new Array(12),a.m_ary_SprTips=new Array(4),a.m_list_SprItems=[],a.m_list_gAnimItemShowing1=[],a.m_list_gAnimItemShowing2=[],a.m_dic_iqPreObj=new Map,a.m_list_gAnimItemNumCtrl=[],a.m_list_gAnimItemNumCtrl2=[],a.m_dic_iqNumCtrl=new Map,a.m_totalTime=0,a.m_Line=4,a.m_totoalWin=0,a.m_arys_Scatter=new Array,a.m_aryScore=[50,100,150,200,250,500,750,1e3,2500,5e3],a.m_FireBallEndPosx=[-160,0,160],a.m_winJackpotTile=[],a.fireBallCount=0,a.m_ary_SprFireNum=new Array(12),a.m_list_icPairNumSpe=new Map,a.m_list_ItemNormalImage=[],a.m_isBigIcon=!1;var o=t[0];a.m_Logic=o;for(var m=s.ePreObj.ePO_None+1;m<s.ePreObj.ePO_MaxValue;m++)a.m_dic_iqPreObj.set(m,[]),a.m_dic_iqNumCtrl.set(m,[]);return a.ClearScatter(),a}return o(t,e),t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.StartAnim=function(){var e=this;this.scheduleOnce(function(){e.m_Logic.m_Image_Logo.active=!1,e.m_Logic.m_Root.active=!1,e.m_Root.active=!0,e.Panel_SpecialSpinPar.active=!0,e.ResetItemImage(),e.StartAnimation(),e.m_Panel_Jackpot.active=!1},2)},t.prototype.StartAnimation=function(){this.m_Panel_TimesUsedSpecial.active=!1,this.m_collectedBallNumCtrl.ShowNum1(0,!0,-1,!1),this.ShowLottery2(),this.m_Logic.SetStartWaitPlay();var e=function(){this.m_Logic.m_DealAutoTrans.m_ePlayMode==_.ePlayMode.ePM_Auto&&(this.unschedule(e),this.Panel_IntoSpecial.active=!1,this.m_Panel_TimesUsedSpecial.active=!0,this.m_collectedBallNode.active=!0)};this.schedule(e,.1)},t.prototype.OutSpecial=function(){this.m_Logic.m_GameMode=r.eGameMode.eGM_General,this.m_Logic.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!1,this.m_Panel_TimesUsedSpecial.active=!1,this.m_Logic.SetTransMode(),this.OutAnimation()},t.prototype.OutAnimation=function(){var e=this;this.fireBallCount=0,this.m_NumWinCtrl.ShowNum1(0,!0,-1,!1),this.m_Panel_Jackpot.active=!1,this.Panel_WinSpecial.active=!0,this.Panel_OutSpecial.active=!0,this.scheduleOnce(function(){e.m_totoalWin=0;var t=0,i=0;cc.log("\u7b49\u5f85\u65f6\u95f4\u81ea\u52a8\u8fdb\u5165\u514d\u8d39\u6e38\u620f n=",i);var a=function(){var e=this;this.scheduleOnce(function(){e.m_Logic.m_DealWinPro.m_TransScenePanel.opacity=0,e.m_Logic.m_DealWinPro.m_TransScenePanel.active=!0,cc.tween(e.m_Logic.m_DealWinPro.m_TransScenePanel).to(.5,{opacity:255}).call(function(){e.m_Panel_Jackpot.active=!0,e.Panel_WinSpecial.active=!1,e.Panel_SpecialSpinPar.active=!1,e.m_Root.active=!1,e.m_Logic.m_Root.active=!0,e.m_Logic.m_Image_Logo.active=!0,e.Tips_End.active=!1,e.m_FireBallLight.active=!1,e.m_FireBallLight1.active=!1,e.m_FireBallLight2.active=!1;for(var t=0;t<e.m_list_gAnimItemShowing1.length;t++)(a=e.m_list_gAnimItemShowing1[t]).active=!1,e.m_dic_iqPreObj.get(s.ePreObj.ePO_ItemAnim).push(a);e.m_list_gAnimItemShowing1=[];for(var i=0;i<e.m_list_gAnimItemShowing2.length;i++){var a;(a=e.m_list_gAnimItemShowing2[i]).active=!1,e.m_dic_iqPreObj.get(s.ePreObj.ePO_ItemAnim_1).push(a)}e.m_list_gAnimItemShowing2=[];for(var o=0;o<e.m_list_gAnimItemNumCtrl.length;o++){var m=e.m_list_gAnimItemNumCtrl[o];e.m_dic_iqNumCtrl.get(s.ePreObj.ePO_ItemAnim).push(m)}e.m_list_gAnimItemNumCtrl=[];for(var n=0;n<e.m_list_gAnimItemNumCtrl2.length;n++)m=e.m_list_gAnimItemNumCtrl2[n],e.m_dic_iqNumCtrl.get(s.ePreObj.ePO_ItemAnim_1).push(m);e.m_list_gAnimItemNumCtrl2=[];for(var _=0;_<e.m_winJackpotTile.length;_++)e.m_winJackpotTile[_].active=!1;e.m_Logic.m_DealWinPro.m_iJackpotId=-1,e.m_Logic.m_DealWinPro.m_dJackpotScore=0,e.m_Logic.m_arys_ItemResult=e.GetRanResult(),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr(),e.m_Logic.m_freeReels.length>0&&(e.m_Logic.SetItemResult(e.m_Logic.m_freeReels),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr(),e.m_Logic.m_DealItem2.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem2.ShowInitResultSpr()),cc.tween(e.m_Logic.m_DealWinPro.m_TransScenePanel).to(.5,{opacity:0}).call(function(){e.m_Logic.m_DealWinPro.m_TransScenePanel.active=!1,cc.log("===========\u706b\u7403\u603b\u5206",e.fireBallCount),e.m_Logic.m_DealWinPro.BackToGeneral()}).start()}).start()},n.m_Delay2)},o=function(){for(cc.log("======================callback1=",t,i,this.m_arys_Scatter[t][i]);-1==this.m_arys_Scatter[t][i];)if(i<n.m_iItemRow1-1)i++;else if(t<n.m_iItemCol-1)t++,i=0;else if(t==n.m_iItemCol-1&&i==n.m_iItemRow1-1){this.unschedule(o),a.call(this);break}var e=!1;this.m_isBigIcon&&(2==t||3==t?(t=4,i=0):1==t&&(i=0,this.m_arys_Scatter[t][i]>=9&&this.m_arys_Scatter[t][i]<n.m_iItem_WILD?this.FireBallEndAnim(t,i,!1):this.m_arys_Scatter[t][i]>=n.m_iItem_Jackpot0&&this.m_arys_Scatter[t][i]<=n.m_iItem_Jackpot3&&this.FireBallEndAnim(t,i,!0),t=4,i=0,e=!0)),this.m_arys_Scatter[t][i]>0&&!e&&(this.m_arys_Scatter[t][i]>=9&&this.m_arys_Scatter[t][i]<n.m_iItem_WILD?this.FireBallEndAnim(t,i,!1):this.m_arys_Scatter[t][i]>=n.m_iItem_Jackpot0&&this.m_arys_Scatter[t][i]<=n.m_iItem_Jackpot3&&this.FireBallEndAnim(t,i,!0),i<n.m_iItemRow1-1?i++:t<n.m_iItemCol-1?(t++,i=0):t==n.m_iItemCol-1&&i==n.m_iItemRow1-1&&(this.unschedule(o),a.call(this)))};e.schedule(o,n.m_Delay1)},n.m_Delay05)},t.prototype.SetScatterData=function(e){new Array(5);for(var t=n.m_iItemRow1-1;t>=0;t--)for(var i=0;i<n.m_iItemCol;i++){var a=t;e[i][a]>=9&&e[i][a]<n.m_iItem_WILD?this.m_arys_Scatter[i][t]=e[i][a]:e[i][a]>=n.m_iItem_Jackpot0&&e[i][a]<=n.m_iItem_Jackpot3?this.m_arys_Scatter[i][t]=e[i][a]:this.m_arys_Scatter[i][t]=-1}cc.log("SetScatterData",this.m_arys_Scatter),this.IsBigIcon()},t.prototype.SetScatterData_1=function(e){new Array(5);for(var t=n.m_iItemRow1-1;t>=0;t--)for(var i=0;i<n.m_iItemCol;i++){var a=t;e[i][a]>=9&&e[i][a]<n.m_iItem_WILD?this.m_arys_Scatter[i][t]=e[i][a]:e[i][a]>=n.m_iItem_Jackpot0&&e[i][a]<=n.m_iItem_Jackpot3?this.m_arys_Scatter[i][t]=e[i][a]:this.m_arys_Scatter[i][t]=-1}cc.log("SetScatterData_1",this.m_arys_Scatter),this.IsBigIcon()},t.prototype.IsBigIcon=function(){this.m_isBigIcon=!0;for(var e=this.m_arys_Scatter[1][0],t=1;t<3;t++)for(var i=0;i<n.m_iItemRow1;i++)this.m_arys_Scatter[t][i]!=e&&(this.m_isBigIcon=!1);cc.log("this.m_isBigIcon",this.m_isBigIcon)},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case s.ePreObj.ePO_ItemAnim:(i=cc.instantiate(this.m_gScatterItemAnim)).parent=this.m_transItemAnimP;break;case s.ePreObj.ePO_ItemAnim_1:(i=cc.instantiate(this.m_gScatterItemAnim1)).parent=this.m_transItemAnimP}(t=i).active=!1}return t},t.prototype.ShowLottery_Special=function(){var e=0;new Array(5),this.ShowSpecialTimesUsed();for(var t=n.m_iItemRow1-1;t>=0;t--)for(var i=0;i<n.m_iItemCol;i++)if(this.m_Logic.m_arys_ItemResult_1[i][t]>=9&&this.m_Logic.m_arys_ItemResult_1[i][t]<n.m_iItem_WILD||this.m_Logic.m_arys_ItemResult_1[i][t]>=n.m_iItem_Jackpot0&&this.m_Logic.m_arys_ItemResult_1[i][t]<=n.m_iItem_Jackpot3){var a=i,o=t;-1==this.m_arys_Scatter[i][t]&&(this.m_arys_Scatter[i][t]=this.m_Logic.m_arys_ItemResult_1[i][t],this.AddItemShowing(a,o),e++)}for(t=n.m_iItemRow1-1;t>=0;t--)for(i=0;i<n.m_iItemCol;i++)if(a=i,o=t,this.m_arys_Scatter[i][t]>-1){var m=this.m_Logic.m_DealItem1.GetImage(a,o);m&&(m.node.active=!1,this.m_list_ItemNormalImage.push(m))}this.m_collectedBallNumCtrl.ShowNum1(this.GetFireBallCountNum(),!0,-1,!1),e>0&&this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(n.eAudioName.Sound_FireNumAdd,this.m_Logic.m_iSeatID,!1,!1)},t.prototype.ShowSpecialTimesUsed=function(){this.m_totalTime>=0&&this.m_totalTime<this.m_ary_SprTips.length&&(this.m_transTip.spriteFrame=this.m_ary_SprTips[this.m_totalTime]),cc.log("this.m_totalTime",this.m_totalTime)},t.prototype.ShowLottery2=function(){for(var e=0;e<n.m_iItemCol;e++)for(var t=0;t<n.m_iItemRow1;t++)if(this.m_Logic.m_arys_ItemResult_1[e][t]>=9&&this.m_Logic.m_arys_ItemResult_1[e][t]<n.m_iItem_WILD||this.m_Logic.m_arys_ItemResult_1[e][t]>=n.m_iItem_Jackpot0&&this.m_Logic.m_arys_ItemResult_1[e][t]<=n.m_iItem_Jackpot3){var i=e,a=t;cc.log("==ShowLottery2=="+i+","+a+","+this.m_Logic.m_arys_ItemResult_1[e][t]),this.AddItemShowing(i,a)}this.m_collectedBallNumCtrl.ShowNum1(this.GetFireBallCountNum(),!0,-1,!1)},t.prototype.AddItemShowing=function(e,t){if(!this.IsBigIcon||2!=e&&3!=e){var i;cc.log("~~~~~~~~==AddItemShowing=="+e+","+t,this.m_Logic.m_arys_ItemResult_1[e][t]);var a,o=0;this.m_isBigIcon&&1==e?(o=1,(i=this.GetPreObj(s.ePreObj.ePO_ItemAnim_1)).setPosition(cc.v2(this.m_arys_VecItems[2][1].x,this.m_arys_VecItems[2][1].y)),a=this.GetPreObjNumCtrl(s.ePreObj.ePO_ItemAnim_1,i)):((i=this.GetPreObj(s.ePreObj.ePO_ItemAnim)).setPosition(cc.v2(this.m_arys_VecItems[e][t].x,this.m_arys_VecItems[e][t].y)),a=this.GetPreObjNumCtrl(s.ePreObj.ePO_ItemAnim,i));var m=this.m_Logic.m_arys_ItemResult_1[e][t],_=cc.find("Image_Item",i).getComponent(cc.Sprite),r=cc.find("Panel_NumPar",i);if(_.node.active=!1,m>=9&&m<n.m_iItem_WILD){r.active=!0;var l=this.GetFireNumStr(m);a.ShowNum2(l,!0,!1)}else r.active=!1,_.node.active||(_.node.active=!0),_.spriteFrame=this.m_list_SprItems[o][this.m_Logic.m_arys_ItemResult_1[e][t]];i.active=!0,this.m_isBigIcon&&1==e?(this.m_list_gAnimItemShowing2.push(i),this.m_list_gAnimItemNumCtrl2.push(a)):(this.m_list_gAnimItemShowing1.push(i),this.m_list_gAnimItemNumCtrl.push(a))}},t.prototype.FireBallEndAnim=function(e,t,i){var a=this;cc.log("FireBallEndAnim",e,t,this.m_arys_Scatter[e][t]);var o=this.m_arys_VecItems[e][t].x,m=this.m_arys_VecItems[e][t].y;this.m_isBigIcon&&1==e&&(o=this.m_arys_VecItems[2][1].x,m=this.m_arys_VecItems[2][1].y);var _=this.m_FireBallLight,s=3*Math.random();(_=1==s?this.m_FireBallLight:(s=2)?this.m_FireBallLight1:this.m_FireBallLight2).active=!0,_.angle=this.getAngle(_.position,cc.v3(o,m,0));var r=_.position.sub(cc.v3(o,m,0)).mag();_.width=r,this.scheduleOnce(function(){if(a.scheduleOnce(function(){_.active=!1},.5),i)a.m_Logic.m_DealWinPro.m_iJackpotId>-1&&(o=100*a.m_Logic.m_DealWinPro.m_dJackpotScore,cc.log("\u5f69\u91d1\u7ed3\u7b97\u5206\u6570\uff1a",o),a.m_totoalWin+=o,a.m_NumWinCtrl.ShowNum2(a.m_totoalWin,!0,!1),a.m_Logic.OnShowMarquee());else{var o=a.GetFireNumStr(a.m_arys_Scatter[e][t]);cc.log("\u706b\u7403\u7ed3\u7b97\u5206\u6570\uff1a",o),a.m_totoalWin+=o,a.fireBallCount+=o,a.m_NumWinCtrl.ShowNum2(a.m_totoalWin,!0,!1)}a.m_Logic.m_DealSound&&a.m_Logic.m_DealSound.SEPlay(n.eAudioName.Sound_SPScorePlus,a.m_Logic.m_iSeatID,!1,!1)},.2)},t.prototype.CheckResult=function(e){for(var t=0,i=(Array(),0);i<n.m_iItemCol;i++)for(var a=0;a<n.m_iItemRow;a++)e[i][a]>=9&&e[i][a]<n.m_iItem_WILD?t++:e[i][a]>=n.m_iItem_Jackpot0&&e[i][a]<=n.m_iItem_Jackpot3&&(cc.log("\u7ed3\u679c\u6709\u5f69\u91d1\uff01"),t++);return t>=4?this.GetRanResult():e},t.prototype.GetRanResult=function(){for(var e=Array(),t=0;t<n.m_iItemCol;t++){e[t]=[];for(var i=0;i<n.m_iItemRow;i++){var a=this.m_Logic.game.iGameBase.SMGlobal_Random(0,9);e[t][i]=a}}return e},t.prototype.ClearScatter=function(){for(var e=0;e<n.m_iItemCol;e++){this.m_arys_Scatter[e]=[];for(var t=n.m_iItemRow1-1;t>=0;t--)this.m_arys_Scatter[e][t]=-1}},t.prototype.GetPreObjNumCtrl=function(e,t){var i=null;if(this.m_dic_iqNumCtrl.has(e))if(this.m_dic_iqNumCtrl.get(e).length>0)i=this.m_dic_iqNumCtrl.get(e).pop();else{var a=cc.find("Panel_NumPar",t);i=this.m_Logic.game.iGameBase.NewShowNum(a,this.m_gNumPrefab,this.m_ary_SprFireNum,this.m_list_icPairNumSpe,!1,!1)}return i},t.prototype.GetFireNumStr=function(e){var t=0;if(e>=9&&e<=108){var i=e-9;i<this.m_aryScore.length&&(t=this.m_aryScore[i]*this.m_Logic.m_iBet)}return t},t.prototype.ResetItemImage=function(){for(var e=0;e<this.m_list_ItemNormalImage.length;e++)this.m_list_ItemNormalImage[e].node.active=!0;this.m_list_ItemNormalImage=[]},t.prototype.getAngle=function(e,t){var i=t.x-e.x,a=t.y-e.y;return-cc.v2(i,a).signAngle(cc.v2(1,0))/Math.PI*180},t.prototype.GetFireBallCountNum=function(){for(var e=0,t=0;t<n.m_iItemCol;t++)for(var i=0;i<n.m_iItemRow1;i++)this.m_arys_Scatter[t][i]>=0&&e++;return e},m([c],t)}(cc.Component));i.default=h,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus","./DealWinProcess_ThunderZeus":"DealWinProcess_ThunderZeus","./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],DealWinProcess_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"1a589wS6C/E8ROeMRKL5LmR","DealWinProcess_ThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.eLuckyPrizeID=i.eManPullJPState=i.eTransScoreMode=i.eShowLinesMode=i.ePreObj=i.eTransScoreKey=void 0;var n,_,s,r,l=e("./DataManager_ThunderZeus"),c=e("./DealAutoTrans_ThunderZeus"),h=e("./DealSpecial_ThunderZeus"),S=e("./GameLogic_ThunderZeus");(function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanGetScoreFast=1]="eSK_CanGetScoreFast",e[e.eSK_CanGetScoreAll=2]="eSK_CanGetScoreAll"})(n=i.eTransScoreKey||(i.eTransScoreKey={})),function(e){e[e.ePO_None=-1]="ePO_None",e[e.ePO_ItemAnim=0]="ePO_ItemAnim",e[e.ePO_LinesFra=1]="ePO_LinesFra",e[e.ePO_Bouns=2]="ePO_Bouns",e[e.ePO_ItemWILD=3]="ePO_ItemWILD",e[e.ePO_ItemAnim_1=4]="ePO_ItemAnim_1",e[e.ePO_Bouns_1=5]="ePO_Bouns_1",e[e.ePO_MaxValue=6]="ePO_MaxValue"}(_=i.ePreObj||(i.ePreObj={})),function(e){e[e.eSLM_HideAll=0]="eSLM_HideAll",e[e.eSLM_ShowAll=1]="eSLM_ShowAll",e[e.eSLM_ShowAllGen=2]="eSLM_ShowAllGen",e[e.eSLM_HideAllGen=3]="eSLM_HideAllGen",e[e.eSLM_ShowSingle=4]="eSLM_ShowSingle",e[e.eSLM_HideSingle=5]="eSLM_HideSingle",e[e.eSLM_ShowFS=6]="eSLM_ShowFS",e[e.eSLM_ShowFSOut=7]="eSLM_ShowFSOut",e[e.eSLM_ShowWILD=8]="eSLM_ShowWILD"}(s=i.eShowLinesMode||(i.eShowLinesMode={})),function(e){e[e.eTSM_None=-1]="eTSM_None",e[e.eTSM_GameToWin=0]="eTSM_GameToWin",e[e.eTSM_GenWinToCredit=1]="eTSM_GenWinToCredit",e[e.eTSM_FSMedTotalWinToCredit=2]="eTSM_FSMedTotalWinToCredit",e[e.eTSM_MedToWin=3]="eTSM_MedToWin",e[e.eTSM_JPToCredit=4]="eTSM_JPToCredit"}(r=i.eTransScoreMode||(i.eTransScoreMode={}));var u,p,d=cc._decorator,g=d.ccclass;d.property,function(e){e[e.eMPJPS_None=0]="eMPJPS_None",e[e.eMPJPS_Timer=1]="eMPJPS_Timer",e[e.eMPJPS_JPPro=2]="eMPJPS_JPPro"}(u=i.eManPullJPState||(i.eManPullJPState={})),function(e){e[e.e_None=-1]="e_None",e[e.e_LP_0=0]="e_LP_0",e[e.e_LP_1=1]="e_LP_1",e[e.e_LP_2=2]="e_LP_2",e[e.e_LP_3=3]="e_LP_3",e[e.MaxValue=4]="MaxValue"}(p=i.eLuckyPrizeID||(i.eLuckyPrizeID={}));var I=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_eTransScoreMode=r.eTSM_None,a.m_list_PrizeInfos=[],a.m_list_ScatterInfos=[],a.m_list_AnimItemCtrlShowing=[],a.m_list_ItemCtrlShowing=[],a.m_ary_imagBG=new Array(2),a.m_iAllAwardsID=-1,a.m_iJackpotId=-1,a.m_dJackpotScore=0,a.m_iBonusID=0,a.m_iFSCountTotal=0,a.m_iFSCountUesed=0,a.m_iFSCountAdd=0,a.m_iFSAgainTimes=0,a.m_iFSCountLave=0,a.m_iFSTrigLinesCount=0,a.m_iNextGameSpecialOdds=0,a.m_dTableScore=0,a.m_dUserPoint=0,a.m_dWinScoreCur=0,a.m_dGameWinScoreCur=0,a.m_dTotalWinScoreCur=0,a.m_dFSTotalWinScore=0,a.m_bIsShowLinesFra=!1,a.m_bIsCanStopLine=!1,a.m_fNextLineToTalTime=2,a.m_fMandPullJPTimer=0,a.m_bIsPullJPAbled=!1,a.m_gBetMask=[],a.m_ary_JackpotNumChange=[],a.m_Button_Set=null,a.m_Panel_Set=null,a.m_Mask_Set=null,a.m_Widget_m_ButtonSet=null,a.m_Widget_PanelSet=null,a.m_Toggle_SoundOn=null,a.m_Toggle_SoundOff=null,a.m_gameInfoImage=[],a.m_gameInfoIndex=0,a.m_list_ItemNormalImage=[],a.m_dic_iqPreObj=new Map,a.m_list_gAnimItemShowing=[],a.m_list_gAnimItemBonusShowing=[],a.m_liat_gLinesShowing=[],a.m_list_gBetShowing=[],a.m_gBetNums0=[],a.m_gBetNums1=[],a.m_gBetNums2=[],a.m_IsShowDonateMessage=!1,a.isShowSymbol=!0,a.mTransScoreKey=n.eSK_None,a.m_ary_SprMutiple=[],a.m_ary_SprFreeTime=[],a.m_ary_SprMultipleNum=[],a.m_Panel_IntoFSCardTimes=[],a.m_SelectReelSpr=[],a.m_FSCardSelectIndex=0,a.m_list_gAnimItemWILDShowing=[],a.soundParticle=null,a.m_eeTransScoreModeJP=r.eTSM_None,a.m_bIsJPTransScoreing=!1,a.m_eManPullJPState=u.eMPJPS_None,a.m_dPreSubNum=0,a.m_dSubNumDva=0,a.m_dPreSubNumJP=0,a.m_dSubNumDvaJP=0,a.m_bChangeAward=!1,a.m_bIsWinFSWaitPlayOver=!1,a.m_bIsWinSpecialWaitPlayOver=!1,a.m_FireBallEndPosx=[-250,0,250],a.showWILDAnimPos0=[160,0,-160],a.showWILDAnimPos1=[80,-80],a.showWILDAnimPosx2=[-460,-242,-26,187,408],a.showWILDAnimPosy2=-33;var o=t[0];a.m_Logic=o,a.m_DealSpecial=new h.default(o);for(var m=_.ePO_None+1;m<_.ePO_MaxValue;m++)a.m_dic_iqPreObj.set(m,[]);return a}return o(t,e),t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.m_Logic.onDestroy(),this.m_TransScoreCtrl.onDestroy(),this.m_DealSpecial.onDestroy(),this.m_TransScoreCtrlJP.onDestroy()},t.prototype.Final=function(){this.m_ary_SprItems=null,this.m_ary_SprItemPanel=null},t.prototype.MyUpdate=function(){this.m_Logic.m_DealAutoTrans.UpdateTouch()},t.prototype.ResetParam=function(){this.m_bIsCanStopLine=!1},t.prototype.UpdateTableScore=function(e){void 0===e&&(e=0)},t.prototype.ShowFSTimesUsed=function(){cc.log("====ShowFSTimesUsed",this.m_iFSCountUesed),this.m_FSTimesUsedCtrl.ShowNum1(this.m_iFSCountUesed,!0,-1,!1)},t.prototype.ShowFSTimesTotal=function(){this.m_FSTotalTimes.ShowNum1(this.m_iFSCountTotal,!0,-1,!1)},t.prototype.ShowFSTotaolWin=function(){this.m_FSShowTotalWinNumCtrl.ShowNum2(this.m_dFSTotalWinScore,!0,!1)},t.prototype.ShowTableScore=function(){cc.log("==>>\u663e\u793a\u53f0\u9762\u5206\u6570\uff1a"+this.m_dTableScore),this.m_Logic.game.iGameBase.isNoWin()?this.ShowUserPoint():this.ShowImageNum(this.m_ShowTotalWinNumCtrl,this.m_dTableScore)},t.prototype.ShowGameWin=function(e){void 0===e&&(e=0),this.ShowImageNum(this.m_ShowGameWinNumCtrl,e)},t.prototype.ShowMidWin=function(){},t.prototype.ShowUserPoint=function(){this.ShowImageNum(this.m_ShowCreditCtrl,this.m_dUserPoint)},t.prototype.ShowImageNum=function(e,t,i){void 0===i&&(i=!0),i?e.ShowNum1(t,!0,0,!1):e.ShowNum2(t,!0,!1)},t.prototype.SetStopLine=function(e){this.m_bIsShowLinesFra&&(this.m_bIsCanStopLine=e)},t.prototype.ShowLottery=function(){this.DealWinEff(this.m_dWinScoreCur)},t.prototype.DealWinEff=function(e){var t=this;if(cc.log("========DealWinEff",e),e>0&&this.m_list_PrizeInfos.length>0){this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?(this.m_gLinesMask.position=cc.v3(0,-305,0),this.m_gLinesMask.setContentSize(886,663)):this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&(this.m_gLinesMask.position=cc.v3(0,-382.5,0),this.m_gLinesMask.setContentSize(886,511)),this.m_gLinesMask.active=!0,this.m_gBetMask[0].active=!0,this.m_gBetMask[1].active=!0,this.m_list_AnimItemCtrlShowing=[],this.m_list_ItemCtrlShowing=[],this.m_bIsShowLinesFra=!0,this.m_fMandPullJPTimer=0;var i=0;this.m_eManPullJPState=u.eMPJPS_Timer;for(var a=!1,o=cc.find("BG",this.m_gMaxItemShow),m=0;m<l.m_iItemCol;m++)for(var n=0;n<l.m_iItemRow;n++)if(this.m_Logic.m_arys_ItemResult[m][n]>9&&this.m_Logic.m_arys_ItemResult[m][n]<20){o.position=m<2?cc.v3(-261,o.position.y,0):cc.v3(261,o.position.y,0),a=!0,cc.find("Icon",o).getComponent(cc.Sprite).spriteFrame=this.m_ary_MaxSprItems[this.m_Logic.m_arys_ItemResult[m][n]-10];break}a?(this.m_gMaxItemShow.active=!0,o.getComponent(cc.Animation).play("Anim_MaxItemBGShow"),this.scheduleOnce(function(){t.SetLineFAndItemAnimAct(s.eSLM_ShowAllGen,-1,e)},3)):this.SetLineFAndItemAnimAct(s.eSLM_ShowAllGen,-1,e);var _=this.m_fNextLineToTalTime;this.ShowWinEff(e,this.m_ShowGameWinNumCtrl,this.m_dGameWinScoreCur);var r=function(){this.m_bIsCanStopLine?(this.unschedule(r),this.m_bIsShowLinesFra=!1,e>0&&(this.m_dWinScoreCur=0,this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&this.ShowGameWin()),this.m_Logic.m_GameState==S.eGameState.eGS_TransGameMode?this.SetLineFAndItemAnimAct(s.eSLM_HideAll):this.DealWinEff_Reset()):(this.SetLineFAndItemAnimAct(s.eSLM_HideSingle),this.SetLineFAndItemAnimAct(s.eSLM_ShowSingle,i),++i==this.m_list_PrizeInfos.length&&(i=0))};this.schedule(r,_)}else this.ShowWinEff(e,this.m_ShowGameWinNumCtrl,this.m_dGameWinScoreCur)},t.prototype.ShowWinEff=function(e,t,i){if(e>0)switch(this.m_Logic.m_PrizeType){case S.ePrizeType.ePT_None:break;case S.ePrizeType.ePT_General:case S.ePrizeType.ePT_Small:case S.ePrizeType.ePT_Medium:case S.ePrizeType.ePT_Big:case S.ePrizeType.ePT_AllAward:if(e>0){var a;this.m_Logic.m_DealSound&&(a=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_GameWinTrans,this.m_Logic.m_iSeatID,!0,!1)),this.m_AddShowNum=t,this.m_SubShowNum=null,this.m_eTransScoreMode=r.eTSM_GameToWin,this.mTransScoreKey=n.eSK_CanGetScoreFast,this.isShowSymbol=!0;var o=function(){this.m_eTransScoreMode=r.eTSM_None,this.mTransScoreKey=n.eSK_None,this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(a,this.m_Logic.m_iSeatID),this.m_Logic.m_DealSound&&(a=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_TotalWinTrans,this.m_Logic.m_iSeatID,!1,!1)),this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?(this.ShowTableScore(),this.ShowWinScoreAnim(1),cc.log("\u666e\u901a\u6e38\u620f\u6700\u7ec8\u5f53\u524d\u5206\uff1a"+this.m_dGameWinScoreCur),this.ShowWinEnd(e)):(this.m_dGameWinScoreCur+=e,cc.log("\u514d\u8d39\u6e38\u620f\u6700\u7ec8\u5f53\u524d\u5206\uff1a"+this.m_dGameWinScoreCur),this.ShowWinEnd(e))};this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?this.m_TransScoreCtrl.TransScore(e,0,o):(this.isShowSymbol=!1,this.m_TransScoreCtrl.TransScore(e,i,o))}}else cc.log("==============\u5206\u6570==0\u4e0d\u64ad\u653e\u52a8\u753b\uff0c\u76f4\u63a5\u663e\u793aend"),this.ShowWinEnd(e)},t.prototype.ShowWinEnd=function(e){cc.log("===ShowWinEnd===,dWinScore",e),!this.m_bIsPullJPAbled&&this.m_iJackpotId>p.e_None&&this.m_iJackpotId<p.MaxValue&&(this.SetLineFAndItemAnimAct(s.eSLM_HideAll),this.GetCJ(this.m_iJackpotId));var t=function(){cc.log("===ShowWinEnd===,dWinScore00",e),this.m_iFSCountAdd>0&&this.ShowWinEnd_FSCountAdd(e),this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame?(this.ShowTableScore(),this.m_Logic.sendWaitBound(),this.m_Text_LinesScores.string="Click play to start"):this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?this.ShowWinEnd_FS2General(e):this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTN_SpecialGame?(this.ShowTableScore(),this.m_Logic.sendWaitSpecial()):this.m_iFSCountAdd<=0&&(this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame&&this.ShowTableScore(),this.m_bIsShowLinesFra?(cc.log("this.SetStopLine(true);-----0002"),this.SetStopLine(!0)):(cc.log("------\x3e>>>>this.DealWinEff_Reset"),this.DealWinEff_Reset()))},i=function(){this.m_bIsPullJPAbled||!this.m_bIsPullJPAbled&&this.m_iJackpotId>p.e_None||(this.unschedule(i),t.call(this))};this.schedule(i,1)},t.prototype.ShowWinEnd_FSCountAdd=function(){var e=this;this.m_bIsWinFSWaitPlayOver=!1,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.m_bIsFSWaitSelectCard=!1,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.SetLineFAndItemAnimAct(s.eSLM_ShowFS);var t=function(){cc.log("\u8ffd\u52a0\u514d\u8d39\u7b49\u5f85\u70b9\u51fb\uff01",this.m_bIsWinFSWaitPlayOver),this.m_bIsWinFSWaitPlayOver&&(cc.log("\u5df2\u70b9\u51fb\uff01"),this.unschedule(t),this.m_gLinesMask.active=!1,this.ResetParam(),this.ShowFSTimesTotal(),this.m_iFSCountAdd=0,this.m_Logic.WaitFreeGameSelect())};this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FreeGameTimesAdd,this.m_Logic.m_iSeatID,!1,!0),this.scheduleOnce(function(){e.SetLineFAndItemAnimAct(s.eSLM_HideAll),e.schedule(t,l.m_Delay1),e.scheduleOnce(function(){e.m_Logic.m_DealAutoTrans.IsAutoPlay(c.ePlayMode.ePM_Auto)},1),e.m_Logic.SetStartWaitPlay()},l.m_Delay2)},t.prototype.ShowWinEnd_FS2General=function(){var e,t,i=this;cc.log("====ShowWinEff  \u5f53\u524d\u514d\u8d39\u6e38\u620f,\u4e0b\u4e00\u8f6e\u4e0d\u662f\u514d\u8d39\u6e38\u620f\uff01"),this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.m_bIsWinFSWaitPlayOver=!1,this.m_FSTips.active=!1,this.m_Logic.m_GameMode=S.eGameMode.eGM_General,this.m_eTransScoreMode=r.eTSM_MedToWin,this.mTransScoreKey=n.eSK_CanGetScoreFast,this.isShowSymbol=!0,this.m_SubShowNum=null,this.m_AddShowNum=this.m_ShowGameWinNumCtrl,t=this.m_dFSTotalWinScore,this.m_Logic.SetPrizeType1(t),this.m_TransScenePanel.opacity=0,this.m_TransScenePanel.active=!0,this.scheduleOnce(function(){i.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_General&&(i.SetLineFAndItemAnimAct(s.eSLM_HideAll),i.m_Logic.m_DealItem.SetAllItemResult(i.m_Logic.m_arys_ItemResult),i.m_Logic.m_DealItem.ShowInitResultSpr(),i.m_gBetMask[0].active=!1,i.m_gBetMask[1].active=!1,i.m_gLinesMask.active=!1,i.m_AnimBateShow.enabled=!1,i.m_AnimBateShow.node.scale=1,i.m_AnimBateShow.node.position=cc.v3(0,0,0),cc.find("Flash",i.m_gFreeStartUI).active=!1,cc.find("FreeStartUI",i.m_gFreeStartUI).active=!1,i.m_Logic.m_Root_2.active=!1,i.m_ImageTrans.node.active=!0),i.m_gFSUseP.active=!1,i.m_PlayerBG.getComponent(cc.Animation).enabled=!1,i.m_PlayerBG.spriteFrame=i.m_ary_imagBG[0],i.m_ImageTrans.spriteFrame=i.m_ary_SprItemPanel[0],i.m_Text_LinesScores.string="Congratulation! You won "+i.m_Logic.game.iGameBase.getNum(t,!1),i.m_PlayerJPPanel.active=!0,i.scheduleOnce(function(){i.m_TransScenePanel.active=!1;var a=function(){var t=this;this.scheduleOnce(function(){t.m_GameWinScoreParticleNode.active=!1,t.m_eTransScoreMode=r.eTSM_None,t.mTransScoreKey=n.eSK_None,t.isShowSymbol=!0,t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.SEStop(e,t.m_Logic.m_iSeatID),t.ResetParam(),t.ShowWinScoreAnim(),t.ShowTableScore(),t.m_dFSTotalWinScore=0,t.m_dGameWinScoreCur=0,t.m_gFSPar.active=!1,t.m_gFSUseP.active=!0,t.m_gLinesMask.active=!1,t.RestCard2Start(),t.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,t.m_Logic.game.iGameBase.setGameTypeCur(t.m_Logic.m_GameTypeCur),t.m_Logic.m_DealItem.SetSpCurrentGameType(t.m_Logic.m_GameTypeCur),t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Gen),t.SetLineFAndItemAnimAct(s.eSLM_HideAll),t.m_Logic.WaitGenGameSelect(),t.m_ShowAddScoreUI.active=!1},1)};i.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_SpecialGame?(a.call(i),i.m_Logic.sendWaitSpecial()):(i.m_GameWinScoreParticleNode.active=!0,i.m_GameWinScoreBigWinAnim.node.active=!1,i.m_Logic.m_DealSound&&(e=i.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_BigWin,i.m_Logic.m_iSeatID,!0,!1)),i.m_ShowAddScoreUI.active=!0,i.m_AddShowNum=i.m_NumWinShowScoreCtrl,i.m_SubShowNum=null,i.m_eTransScoreMode=r.eTSM_GameToWin,i.mTransScoreKey=n.eSK_CanGetScoreFast,i.isShowSymbol=!0,i.m_TransScoreCtrl.TransScore(t,0,a))},1)},2)},t.prototype.TransCJScore=function(){var e,t=this;this.m_Logic.m_DealSound&&(e=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_MiddleWin,this.m_Logic.m_iSeatID,!0,!1)),this.m_bIsJPTransScoreing=!0,this.m_eeTransScoreModeJP=r.eTSM_JPToCredit,this.m_SubShowNumJP=this.m_Logic.m_GameSlotJcakpot.GetShowNum();var i=this.m_dUserPoint;this.m_Logic.game.iGameBase.isNoWin()?(this.m_AddShowNumJP=this.m_ShowCreditCtrl,i=this.m_dUserPoint):(this.m_AddShowNumJP=this.m_ShowTotalWinNumCtrl,i=this.m_dTableScore);var a=100*this.m_dJackpotScore;cc.log(">>>>>>AAAAA="+this.m_dJackpotScore,a),this.m_TransScoreCtrlJP.TransScore(a,i,function(){t.m_bIsJPTransScoreing=!1,t.m_eeTransScoreModeJP=r.eTSM_None,t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.SEStop(e,t.m_Logic.m_iSeatID),cc.log(">>>>>>this.m_dUserPoint="+t.m_dJackpotScore+","+t.m_dUserPoint),t.m_Logic.m_GameSlotJcakpot.ColseJcakpot(t.m_gJackpotPre),t.m_Logic.m_GameSlotJcakpot.StopWinJPEff(t.m_iJackpotId,t.m_Logic.m_ary_dJackpot[t.m_iJackpotId],2),t.m_Logic.m_GameSlotJcakpot.ShowJcakpotNum(t.m_Logic.m_ary_dJackpot,2),t.m_JcakpotEffBG.active=!1,t.m_dJackpotScore=0,t.m_iJackpotId=p.e_None,t.m_bIsPullJPAbled=!1,t.m_eManPullJPState=u.eMPJPS_None,t.m_Logic.sendFinishPayJackpot(),t.m_Logic.OnShowMarquee()})},t.prototype.SubTransScoreJP=function(e){switch(this.m_eeTransScoreModeJP){case r.eTSM_JPToCredit:e>=100*this.m_dJackpotScore&&(this.m_dPreSubNumJP=100*this.m_dJackpotScore),this.m_dSubNumDvaJP=this.m_dPreSubNumJP-e,this.m_dPreSubNumJP=e,this.ShowImageNum(this.m_SubShowNumJP,e),this.m_Logic.game.iGameBase.isNoWin()?this.m_dUserPoint+=this.m_dSubNumDvaJP:this.m_dTableScore+=this.m_dSubNumDvaJP,this.ShowTableScore()}},t.prototype.AddTransScoreJP=function(e){switch(this.m_eeTransScoreModeJP){case r.eTSM_JPToCredit:null!=this.m_AddShowNumJP&&this.ShowImageNum(this.m_AddShowNumJP,e)}},t.prototype.ShowCJ=function(e,t){if(cc.log("===ShowCJ===="+e+","+t),!this.m_JcakpotEffBG.active){switch(this.m_JcakpotEffBG.active=!0,this.m_Logic.m_eStartKey){case S.eStartKey.eSK_StopAllItem:this.m_Logic.m_DealItem.AllStopItem()}this.m_gJackpotPre=this.m_Logic.m_GameSlotJcakpot.PullJcakpot(e,t,this.m_VecTargetJP,cc.v3(1,1,1),cc.v3(2,2,2),!0,2,!1)}},t.prototype.SubTransScore=function(e){switch(this.m_eTransScoreMode){case r.eTSM_GameToWin:case r.eTSM_MedToWin:case r.eTSM_GenWinToCredit:case r.eTSM_FSMedTotalWinToCredit:null!=this.m_SubShowNum&&this.ShowImageNum(this.m_SubShowNum,e)}},t.prototype.AddTransScore=function(e){switch(this.m_eTransScoreMode){case r.eTSM_GameToWin:null!=this.m_AddShowNum&&this.ShowImageNum(this.m_AddShowNum,e,this.isShowSymbol);break;case r.eTSM_MedToWin:case r.eTSM_GenWinToCredit:case r.eTSM_FSMedTotalWinToCredit:null!=this.m_AddShowNum&&this.ShowImageNum(this.m_AddShowNum,e)}},t.prototype.GetWinFast=function(){if(this.m_eTransScoreMode!=r.eTSM_None)switch(this.mTransScoreKey){case n.eSK_None:break;case n.eSK_CanGetScoreFast:this.m_TransScoreCtrl.setScoreState(1),this.mTransScoreKey=n.eSK_CanGetScoreAll,cc.log("\u52a0\u5feb\u8df3\u5206");break;case n.eSK_CanGetScoreAll:this.m_TransScoreCtrl.setScoreState(2),this.mTransScoreKey=n.eSK_None,cc.log("\u505c\u6b62\u8df3\u5206")}},t.prototype.PlayFreeGame=function(e,t,i,a,o,m,n,_,r,c,h,u){var p=this;this.m_Logic.m_GameMode=S.eGameMode.eGM_FreeGame,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.m_bIsFSWaitSelectCard=!1,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.m_Logic.m_DealBetRel.m_iBet=t,this.m_Logic.m_DealBetRel.m_iLines=i,this.m_iFSCountTotal=o,this.m_iFSCountAdd=n,this.m_iFSAgainTimes=_,cc.log("m_iFSCountTotal",this.m_iFSCountTotal,this.m_iFSCountAdd,this.m_iFSAgainTimes),this.m_AnimBateShow.enabled=!0,this.m_AnimBateShow.play(),this.m_PlayerBG.spriteFrame=this.m_ary_imagBG[1],this.m_PlayerBG.getComponent(cc.Animation).play(),this.m_PlayerBG.getComponent(cc.Animation).enabled=!0,this.m_iFSCountUesed=m,this.m_iNextGameSpecialOdds=r,this.m_iFSTrigLinesCount=c,this.m_Logic.m_DealBetRel.m_fTotalBet=h,this.m_iFSCountLave=this.m_iFSCountTotal-this.m_iFSCountUesed,this.m_Logic.m_DealBetRel.ShowAllData(),this.m_dWinScoreCur=0,this.m_dFSTotalWinScore=u,this.m_dWinScoreCur=this.m_dFSTotalWinScore,this.ShowGameWin(this.m_dFSTotalWinScore),cc.log("====PlayFreeGame=====--m_dFSTotalWinScore",this.m_dFSTotalWinScore,this.m_Logic.m_arys_ItemResult_1),this.ShowTableScore(),this.InitFreeItemResult(),this.m_Logic.m_DealItem2.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1),this.m_Logic.m_DealItem2.ShowInitResultSpr(),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FreeEnab,this.m_Logic.m_iSeatID,!1,!0),this.RestCard2Start(),this.SetLineFAndItemAnimAct(s.eSLM_HideAll),this.SetLineFAndItemAnimAct(s.eSLM_ShowFS),this.m_gFSUseP.active=!1,this.m_gFSPar.active=!0,this.m_gIntoFS.active=!1,this.m_Logic.SetStartWaitPlay(),this.scheduleOnce(function(){p.PlayFreeGame1(!1)},2)},t.prototype.InitFreeItemResult=function(){for(var e=0;e<this.m_Logic.m_arys_ItemResult_1.length;e++)if(e>0){for(var t=0;t<3;t++)this.m_Logic.m_arys_ItemResult_1[e][t]=this.m_Logic.m_arys_ItemResult[e-1][t];this.m_Logic.m_arys_ItemResult_1[e][3]=this.GetRandomNum(0,9)}else for(t=0;t<4;t++)this.m_Logic.m_arys_ItemResult_1[e][t]=this.GetRandomNum(0,9)},t.prototype.GetRandomNum=function(e,t){var i=t-e,a=Math.random();return e+Math.round(a*i)},t.prototype.PlayFreeGame1=function(){var e=this;this.m_bIsWinFSWaitPlayOver&&(this.ShowFSTotaolWin(),this.m_dGameWinScoreCur+=this.m_dFSTotalWinScore,cc.log("this.m_iFSCountTotal",this.m_iFSCountTotal),this.m_FSIntoAnimNode.active=!0,this.m_PanelTips.active=!1,this.ShowFSTimesUsed(),this.ShowFSTimesTotal(),this.m_gFSUseP.active=!0,this.m_Logic.m_Root_2.active=!0,this.m_ImageTrans.node.active=!1,this.m_gBetMask[0].active=!1,this.m_gBetMask[1].active=!1,this.m_gLinesMask.active=!1,this.scheduleOnce(function(){e.SetLineFAndItemAnimAct(s.eSLM_HideAll),e.ResetParam(),e.m_PlayerJPPanel.opacity=255,e.m_gIntoFS.active=!1,e.m_ImageTrans.node.opacity=255,e.m_FSIntoAnimNode.active=!1,cc.find("Flash",e.m_gFreeStartUI).active=!0,e.m_gMaxItemShow.active=!1,e.m_Panel_FSUseP_Tip.active=!1;var t=function(){this.m_Logic.m_DealAutoTrans.m_ePlayMode==c.ePlayMode.ePM_Auto&&(this.unschedule(t),this.m_Logic.m_Root_2.active=!0,this.m_ImageTrans.node.active=!1,this.m_gFrreMaxShow.active=!1)};e.schedule(t,.1),e.scheduleOnce(function(){e.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_FreeGame,e.m_Logic.game.iGameBase.setGameTypeCur(e.m_Logic.m_GameTypeCur),e.m_Logic.m_DealItem.SetSpCurrentGameType(e.m_Logic.m_GameTypeCur),e.m_Logic.m_DealSound&&e.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Free,!0),e.m_Logic.WaitFreeGameSelect()},1)},2))},Object.defineProperty(t.prototype,"M_bIsWinFSWaitPlayOver",{get:function(){return this.m_bIsWinFSWaitPlayOver},set:function(e){this.m_bIsWinFSWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.DealWinEff_Reset=function(){cc.log("===DealWinEff_Reset()  \u7ed3\u675f"),this.SetLineFAndItemAnimAct(s.eSLM_HideAll),this.m_gLinesMask.active=!1,this.m_gBetMask[0].active=!1,this.m_gBetMask[1].active=!1,this.m_gMaxItemShow.active=!1,this.ResetParam(),this.m_Logic.StartIdle()},t.prototype.ShowLottery_Special=function(){var e=this;this.m_DealSpecial.ShowLottery_Special(),this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTN_SpecialGame?this.m_DealSpecial.OutSpecial():this.scheduleOnce(function(){e.m_Logic.StartInitIdle()},1)},t.prototype.PlaySpecialGame=function(e,t,i,a,o,m,n,_,s){cc.log("\u8fdb\u5165\u7279\u6b8a\u6e38\u620f==PlaySpecialGame:m_dTotalWinScoreCur=",s),this.m_Logic.m_GameMode=S.eGameMode.eGM_SpecialGame,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinSpecialWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.ShowGameWin(),this.m_DealSpecial.m_totalTime=o,this.m_DealSpecial.ShowSpecialTimesUsed(),this.m_Logic.m_bIsHasSpecialFromInit||this.m_Logic.InitSpecialItemResult(this.m_Logic.m_arys_ItemResult),this.m_Logic.m_DealItem1.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1),this.m_Logic.m_DealItem1.ShowInitResultSpr(),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FireEnab,this.m_Logic.m_iSeatID,!1,!1),this.m_DealSpecial.StartAnim();var r=function(){this.m_bIsWinSpecialWaitPlayOver&&(this.unschedule(r),this.ResetParam(),this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTN_SpecialGame,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Special),this.m_Logic.m_DealItem1.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.m_Logic.WaitSpecialGameSelect())};this.schedule(r,.1)},Object.defineProperty(t.prototype,"M_bIsWinSpecialWaitPlayOver",{get:function(){return this.m_bIsWinSpecialWaitPlayOver},set:function(e){this.m_bIsWinSpecialWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.BackToGeneral=function(){var e;this.m_AddShowNum=this.m_ShowGameWinNumCtrl,this.m_eTransScoreMode=r.eTSM_GameToWin,this.mTransScoreKey=n.eSK_CanGetScoreFast,this.isShowSymbol=!0,this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame?(this.m_Logic.m_Root_2.active=!0,this.m_ImageTrans.node.active=!1):(this.m_Logic.m_Root_2.active=!1,this.m_ImageTrans.node.active=!0),this.m_GameWinScoreBigWinAnim.node.active=!1,this.m_GameWinScoreParticleNode.active=!0,this.m_Logic.m_DealSound&&(e=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FireOut,this.m_Logic.m_iSeatID,!1,!0)),this.m_TransScoreCtrl.TransScore(this.m_DealSpecial.m_totoalWin,0,function(){this.ShowTableScore(),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_TotalWinTrans,this.m_Logic.m_iSeatID,!1,!1),this.ShowWinScoreAnim(),this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealItem1.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(e,this.m_Logic.m_iSeatID),this.m_Logic.WaitGenGameSelect(),this.m_GameWinScoreParticleNode.active=!1,this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Gen),this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame?(this.m_Logic.m_Root_2.active=!0,this.m_ImageTrans.node.active=!1,this.m_Logic.sendWaitBound()):(this.m_Logic.m_Root_2.active=!1,this.m_ImageTrans.node.active=!0)})},t.prototype.SetJcakpotMoved=function(){this.TransCJScore()},t.prototype.GetCJ=function(){this.m_Logic.sendAskForBeginPayJackpot()},t.prototype.TransScoreA=function(e,t,i){var a=this;cc.log("===TransScore=="+t+","+i),this.scheduleOnce(function(){if(t>-1&&i>0){var e,o=i;a.m_ary_JackpotNumChange[t].setString(o),a.ShowCJ(t,100*o),a.m_Logic.m_DealSound&&(e=a.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_GameWinTrans,a.m_Logic.m_iSeatID,!0,!1));var m=o/100;m<=0&&(m=1),cc.log("======m_dGetWinAdd:",m);var n=function(){o>0?((o-=m)<0&&(o=0),this.m_ary_JackpotNumChange[t].setString(o)):(this.unschedule(n),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(e,this.m_Logic.m_iSeatID))};a.schedule(n,.02)}},2)},t.prototype.onSetClick=function(){var e=this;this.m_Panel_Set.active=!0,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Button_Set).to(.25,{position:cc.v3(this.m_Pos_ButtonSet.x+this.m_Width_ButtonSet,this.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=-e.m_Width_ButtonSet,e.m_Button_Set.active=!1,cc.tween(e.m_Panel_Set).to(.25,{position:cc.v3(e.m_Pos_PanelSet.x-e.m_Width_PanelSet,e.m_Pos_PanelSet.y,0)}).call(function(){e.m_Widget_PanelSet.right=0,e.m_Mask_Set.active=!0}).start()}).start()},t.prototype.onMaskClick=function(){var e=this;this.m_Panel_Set.active=!1,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Panel_Set).to(.25,{position:cc.v3(this.m_Pos_PanelSet.x+this.m_Width_PanelSet,this.m_Pos_PanelSet.y,0)}).call(function(){e.m_Mask_Set.active=!1,e.m_Button_Set.active=!0,e.m_Widget_PanelSet.right=-e.m_Width_PanelSet,cc.tween(e.m_Button_Set).to(.25,{position:cc.v3(e.m_Pos_ButtonSet.x-e.m_Width_ButtonSet,e.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=0}).start()}).start()},t.prototype.onSoundClick=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(!e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.InitSound=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.showGamInfoPanel=function(){this.m_PanelRule.active=!0},t.prototype.hideGameInfo=function(){this.m_PanelRule.active=!1},t.prototype.GameInfoNextBtnClick=function(){this.m_gameInfoIndex+1<this.m_gameInfoImage.length&&(this.m_gameInfoIndex+=1),this.showGameInfoItem()},t.prototype.GameInfoPrevBtnClick=function(){this.m_gameInfoIndex-1>=0&&(this.m_gameInfoIndex-=1),this.showGameInfoItem()},t.prototype.showGameInfoItem=function(){for(var e=0;e<this.m_gameInfoImage.length;e++)this.m_gameInfoIndex==e?this.m_gameInfoImage[e].active=!0:this.m_gameInfoImage[e].active=!1},t.prototype.SetLineFAndItemAnimAct=function(e,t,i){switch(void 0===t&&(t=-1),void 0===i&&(i=0),e){case s.eSLM_HideAll:for(var a=0;a<this.m_list_gAnimItemShowing.length;a++)(u=this.m_list_gAnimItemShowing[a]).active=!1,u.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(u);for(a=0;a<this.m_list_gAnimItemBonusShowing.length;a++)(u=this.m_list_gAnimItemBonusShowing[a]).active=!1,this.m_dic_iqPreObj.get(_.ePO_Bouns).push(u);for(this.m_list_gAnimItemShowing=[],this.m_list_gAnimItemBonusShowing=[],a=0;a<this.m_liat_gLinesShowing.length;a++)this.m_liat_gLinesShowing[a].active=!1,this.m_dic_iqPreObj.get(_.ePO_LinesFra).push(this.m_liat_gLinesShowing[a]);for(this.m_liat_gLinesShowing=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].node.active=!0;for(this.m_list_ItemNormalImage=[],a=0;a<this.m_list_gAnimItemWILDShowing.length;a++)this.m_list_gAnimItemWILDShowing[a].active=!1,this.m_list_gAnimItemWILDShowing[a].getComponent(cc.Animation).stop();for(this.m_list_gAnimItemWILDShowing=[],a=0;a<this.m_list_gBetShowing.length;a++)this.m_list_gBetShowing[a].destroy();this.m_list_gBetShowing=[];break;case s.eSLM_ShowAll:for(this.m_Text_LinesScores.string="You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),a=0;a<this.m_list_PrizeInfos.length;a++)for(var o=this.m_list_PrizeInfos[a].line,m=this.m_list_PrizeInfos[a].id,n=this.m_list_PrizeInfos[a].num,r=this.m_list_PrizeInfos[a].ary_ilineFrom,c=0;c<r.length;c++)r[c]>-1&&this.ShowLineFAndItemAnim(c,r[c],o,!1,m,n);for(a=0;a<this.m_list_ScatterInfos.length;a++)for(r=this.m_list_ScatterInfos[a].ary_ilineFrom,c=0;c<r.length;c++)r[c]>-1&&this.ShowLineFAndItemAnim(c,r[c],0);break;case s.eSLM_ShowAllGen:for(this.m_Text_LinesScores.string="You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),a=0;a<this.m_list_PrizeInfos.length;a++)for(o=this.m_list_PrizeInfos[a].line,m=this.m_list_PrizeInfos[a].id,n=this.m_list_PrizeInfos[a].num,r=this.m_list_PrizeInfos[a].ary_ilineFrom,c=0;c<r.length;c++)r[c]>-1&&this.ShowLineFAndItemAnim(c,r[c],o,!1,m,n);break;case s.eSLM_HideAllGen:for(a=0;a<this.m_list_gAnimItemShowing.length;a++)(u=this.m_list_gAnimItemShowing[a]).active=!1,u.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(u);for(this.m_list_gAnimItemShowing=[],a=0;a<this.m_liat_gLinesShowing.length;a++)this.m_liat_gLinesShowing[a].active=!1,this.m_dic_iqPreObj.get(_.ePO_LinesFra).push(this.m_liat_gLinesShowing[a]);for(this.m_liat_gLinesShowing=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].node.active=!0;this.m_list_ItemNormalImage=[];break;case s.eSLM_ShowSingle:if(t<0)return;if(t<this.m_list_PrizeInfos.length){var h=this.m_list_PrizeInfos[t];cc.log("\u4e2d\u5956\u7ebf\u663e\u793a-------------------\u300beSLM_ShowSingle",this.m_list_PrizeInfos[t]),m=h.id,o=h.line,n=h.num,r=h.ary_ilineFrom;var S=h.point*this.m_Logic.m_DealBetRel.m_iBet;for(this.m_Text_LinesScores.string=7!=m?"You won "+this.m_Logic.game.iGameBase.getNum(S,!1)+" on line "+(o+1).toString():"You won "+this.m_Logic.game.iGameBase.getNum(S,!1),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),c=0;c<r.length;c++)r[c]>-1&&this.ShowLineFAndItemAnim(c,r[c],o,!1,m,n);break}break;case s.eSLM_HideSingle:for(a=0;a<this.m_list_gAnimItemShowing.length;a++){var u;(u=this.m_list_gAnimItemShowing[a]).active=!1,u.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(u)}for(this.m_list_gAnimItemShowing=[],a=0;a<this.m_liat_gLinesShowing.length;a++)this.m_liat_gLinesShowing[a].active=!1,this.m_dic_iqPreObj.get(_.ePO_LinesFra).push(this.m_liat_gLinesShowing[a]);for(this.m_liat_gLinesShowing=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].node.active=!0;this.m_list_ItemNormalImage=[];break;case s.eSLM_ShowFS:for(cc.log("this.m_list_ScatterInfos",this.m_list_ScatterInfos.length),a=0;a<this.m_list_ScatterInfos.length;a++)for(r=this.m_list_ScatterInfos[a].ary_ilineFrom,c=0;c<r.length;c++)r[c]>-1&&this.ShowLineFAndItemAnim(c,r[c],0,!0);break;case s.eSLM_ShowFSOut:for(a=0;a<l.m_iItemCol;a++)for(c=0;c<l.m_iItemRow;c++)this.m_Logic.m_arys_ItemResult[a][c]==l.m_iItem_FREE&&this.ShowLineFAndItemAnim(a,c,0,!0)}},t.prototype.ShowLineFAndItemAnim=function(e,t,i,a,o,m){var n=this;if(void 0===i&&(i=-1),void 0===a&&(a=!1),void 0===o&&(o=-1),void 0===m&&(m=0),a)return cc.log("---------",e,t,this.m_Logic.m_GameTypeCur),(p=this.GetPreObj(_.ePO_Bouns)).scale=1,this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?(p.position=this.m_arys_VecItems_2[2][1],p.setScale(3.2,3)):this.m_arys_VecItems[e].length>t&&(p.position=this.m_arys_VecItems[e][t]),p.active=!0,p.getComponent(cc.Animation).play(),this.m_list_gAnimItemBonusShowing.push(p),void cc.tween(p).sequence(cc.moveTo(1,cc.v2(0,0)),cc.moveTo(.1,cc.v2(0,0)),cc.callFunc(function(){cc.find("FreeStartUI",n.m_gFreeStartUI).active=!0,cc.find("FreeStartUI",n.m_gFreeStartUI).getComponent(cc.Animation).play(),cc.find("FreeStartUI",n.m_gFreeStartUI).getComponent(cc.AudioSource).play(),n.m_gFrreMaxShow.active=!0})).start();var s=!1,r=!1;if(this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?0==e?(s=!0,r=!0):e>1&&(s=!0):s=!0,s){var c=cc.instantiate(this.m_gBetNums0[o].parent.getChildByName("Icon_Image"));if(this.m_list_gBetShowing.push(c),o<5?(c.setParent(this.m_gBetMask[0]),c.setPosition(new cc.Vec3(c.position.x-this.m_gBetMask[0].x,c.position.y-this.m_gBetMask[0].position.y,0))):(c.setParent(this.m_gBetMask[1]),c.setPosition(new cc.Vec3(c.position.x-this.m_gBetMask[1].x,c.position.y-this.m_gBetMask[1].position.y,0))),3==m){var h=cc.instantiate(this.m_gBetNums0[o]);this.m_list_gBetShowing.push(h),o<5?(h.setParent(this.m_gBetMask[0]),h.setPosition(new cc.Vec3(this.m_gBetNums0[o].position.x-this.m_gBetMask[0].x,this.m_gBetNums0[o].position.y-this.m_gBetMask[0].position.y,0))):(h.setParent(this.m_gBetMask[1]),h.setPosition(new cc.Vec3(this.m_gBetNums0[o].position.x-this.m_gBetMask[1].x,this.m_gBetNums0[o].position.y-this.m_gBetMask[1].position.y,0)))}else 4==m?(h=cc.instantiate(this.m_gBetNums1[o]),this.m_list_gBetShowing.push(h),o<5?(h.setParent(this.m_gBetMask[0]),h.setPosition(new cc.Vec3(this.m_gBetNums1[o].position.x-this.m_gBetMask[0].x,this.m_gBetNums1[o].position.y-this.m_gBetMask[0].position.y,0))):(h.setParent(this.m_gBetMask[1]),h.setPosition(new cc.Vec3(this.m_gBetNums1[o].position.x-this.m_gBetMask[1].x,this.m_gBetNums1[o].position.y-this.m_gBetMask[1].position.y,0)))):(h=cc.instantiate(this.m_gBetNums2[o]),this.m_list_gBetShowing.push(h),o<5?(h.setParent(this.m_gBetMask[0]),h.setPosition(new cc.Vec3(this.m_gBetNums2[o].position.x-this.m_gBetMask[0].x,this.m_gBetNums2[o].position.y-this.m_gBetMask[0].position.y,0))):(h.setParent(this.m_gBetMask[1]),h.setPosition(new cc.Vec3(this.m_gBetNums2[o].position.x-this.m_gBetMask[1].x,this.m_gBetNums2[o].position.y-this.m_gBetMask[1].position.y,0))));var u,p=this.GetPreObj(_.ePO_ItemAnim),d=cc.find("Image_ItemAnim",p).getComponent(cc.Sprite),g=p.getComponent(cc.Animation);d.node.active=!1,p.active=!0,p.scale=1,d.node.active=!0,this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?e>1?(d.spriteFrame=this.m_ary_SprItems[0][this.m_Logic.m_arys_ItemResult_1[e][t]],this.m_arys_VecItems_2[e].length>t?p.position=this.m_arys_VecItems_2[e][t]:(d.node.active=!1,p.active=!1),this.m_Logic.m_arys_ItemResult_1[e][t]==l.m_iItem_WILD||(8==this.m_Logic.m_arys_ItemResult_1[e][t]?g.play("Anim_Item_0_8"):9==this.m_Logic.m_arys_ItemResult_1[e][t]?g.play("Anim_Item_0_9"):g.play("Anim_Item_0_11")),(u=this.m_Logic.m_DealItem2.GetImage(e-1,t)).node.active=!1,this.m_list_ItemNormalImage.push(u)):(p.active=!1,d.node.active=!1):(r?(d.spriteFrame=this.m_ary_SprItems[1][this.m_Logic.m_arys_ItemResult[e][t]],p.position=this.m_arys_VecItems[2][1],p.setScale(3.1,3)):(d.spriteFrame=this.m_ary_SprItems[0][this.m_Logic.m_arys_ItemResult[e][t]],this.m_arys_VecItems[e].length>t&&(p.position=this.m_arys_VecItems[e][t])),this.m_Logic.m_arys_ItemResult[e][t]==l.m_iItem_WILD||(8==this.m_Logic.m_arys_ItemResult[e][t]?g.play("Anim_Item_0_8"):9==this.m_Logic.m_arys_ItemResult[e][t]?g.play("Anim_Item_0_9"):g.play("Anim_Item_0_11")),(u=this.m_Logic.m_DealItem.GetImage(e,t)).node.active=!1,this.m_list_ItemNormalImage.push(u)),this.m_list_gAnimItemShowing.push(p)}var I=this.GetPreObj(_.ePO_LinesFra);this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?this.m_arys_VecItems_2[e].length>t&&(I.position=this.m_arys_VecItems_2[e][t]):this.m_arys_VecItems[e].length>t&&(I.position=this.m_arys_VecItems[e][t]),I.active=!0,this.m_liat_gLinesShowing.push(I)},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case _.ePO_ItemAnim:(i=cc.instantiate(this.m_gItemAnim)).setParent(this.m_transItemAnimP);break;case _.ePO_LinesFra:(i=cc.instantiate(this.m_gLinesFrame)).setParent(this.m_transLinesFrameP);break;case _.ePO_Bouns:(i=cc.instantiate(this.m_gBounsAnimPrefab)).setParent(this.m_transBounsAnimP);break;case _.ePO_ItemWILD:(i=cc.instantiate(this.m_gWILDAnimPrefab)).setParent(this.m_transItemWildAnimP)}(t=i).active=!1}return t},t.prototype.ShowDonateMessage=function(){this.m_Logic.game.iGameBase.ShowDonateMessage()},t.prototype.isHaveFireBall=function(){for(var e=0;e<l.m_iItemCol;e++)for(var t=0;t<l.m_iItemRow;t++){var i=this.m_Logic.m_arys_ItemResult[e][t];if(i>=9&&i<=108)return!0}return!1},t.prototype.isFireNum=function(e){return e>=9&&e<=108},t.prototype.GetFireNumStr=function(e){var t=0;if(this.isFireNum(e)){var i=e-9;i<98?t=25*(i+2)*this.m_Logic.m_iBet:98==i?t=2500*this.m_Logic.m_iBet:99==i&&(t=5e3*this.m_Logic.m_iBet)}return t},t.prototype.CardSelectBtnClick=function(e){if(e.startsWith("Card_")&&!this.m_Logic.m_bIsFSWaitSelectCard){var t=e.split("_"),i=Number(t[1]);this.m_Logic.m_bIsFSWaitSelectCard=!0,this.m_Logic.sendSelectCard(i),this.m_FSCardSelectIndex=i}},t.prototype.RestCard2Start=function(){},t.prototype.IsInPrizeLine=function(e,t){for(var i=0;i<this.m_list_PrizeInfos.length;i++)if(this.m_list_PrizeInfos[i].ary_ilineFrom[e]==t)return!0;return!1},t.prototype.ShowWILDAnim2=function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=-1);var a=this.GetPreObj(_.ePO_ItemWILD);4==e?(a.position=cc.v3(this.m_arys_VecItems[t][0].x,0,0),a.getComponent(cc.Animation).play("Anim_Item_WILD_2")):3==e?(a.position=cc.v3(this.m_arys_VecItems[t][0].x,this.showWILDAnimPos1[1],0),a.getComponent(cc.Animation).play("Anim_Item_WILD_1")):2==e?(a.position=cc.v3(this.m_arys_VecItems[t][0].x,this.showWILDAnimPos1[0],0),a.getComponent(cc.Animation).play("Anim_Item_WILD_1")):(a.position=this.m_arys_VecItems[t][i],a.getComponent(cc.Animation).play("Anim_Item_WILD_0")),a.active=!0,this.m_list_gAnimItemWILDShowing.push(a)},t.prototype.ShowWILDAnim=function(){for(var e=!1,t=[],i=0;i<l.m_iItemCol;i++){t[i]=[];for(var a=0;a<l.m_iItemRow;a++)t[i][a]=-1,this.m_Logic.m_arys_ItemResult[i][a]==l.m_iItem_WILD&&this.IsInPrizeLine(i,a)&&(t[i][a]=1,e=!0)}for(e&&this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_WILDIconStop,this.m_Logic.m_iSeatID,!1,!0),i=0;i<l.m_iItemCol;i++){var o=t[i][0]>=0,m=t[i][1]>=0,n=t[i][2]>=0;o&&m&&n?this.ShowWILDAnim2(4,i):!o&&m&&n?this.ShowWILDAnim2(3,i):o&&m&&!n?this.ShowWILDAnim2(2,i):(o&&this.ShowWILDAnim2(1,i,0),m&&this.ShowWILDAnim2(1,i,1),n&&this.ShowWILDAnim2(1,i,2))}},t.prototype.TestAnimation=function(e){void 0===e&&(e=0),this.m_gIntoFS.active=!0,this.m_FSCardSelectIndex=e},t.prototype.ShowID=function(e){this.m_IDLabel.string="ID:"+e},t.prototype.ShowWinScoreAnim=function(e){void 0===e&&(e=0),0==e?this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1}).to(.2,{scale:.4}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1}).to(.2,{scale:.4}).start():this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&(this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1}).to(.2,{scale:.4}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1}).to(.2,{scale:.4}).start())},m([g],t)}(cc.Component);i.default=I,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus","./DealSpecial_ThunderZeus":"DealSpecial_ThunderZeus","./GameLogic_ThunderZeus":"GameLogic_ThunderZeus"}],GameLogic_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"93a125VcLhXlA9+jKpYCEd9","GameLogic_ThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.eBtnState=i.eGameState=i.eShowMode=i.eGameMode=i.eStartKey=i.ePrizeType=i.eGameTypeNext=i.eGameTypeCur=void 0;var m,n,_,s,r,l,c,h=e("./DataManager_ThunderZeus"),S=e("./DealAutoTrans_ThunderZeus");(function(e){e[e.eGTC_General=0]="eGTC_General",e[e.eGTC_FreeGame=1]="eGTC_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"})(m=i.eGameTypeCur||(i.eGameTypeCur={})),function(e){e[e.eGTN_General=0]="eGTN_General",e[e.eGTN_FreeGame=1]="eGTN_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"}(n=i.eGameTypeNext||(i.eGameTypeNext={})),function(e){e[e.ePT_None=0]="ePT_None",e[e.ePT_General=1]="ePT_General",e[e.ePT_Small=2]="ePT_Small",e[e.ePT_Medium=3]="ePT_Medium",e[e.ePT_Big=4]="ePT_Big",e[e.ePT_AllAward=5]="ePT_AllAward"}(_=i.ePrizeType||(i.ePrizeType={})),function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanSpin=1]="eSK_CanSpin",e[e.eSK_StopAllItem=2]="eSK_StopAllItem",e[e.eSK_WinFSWaitPlay=3]="eSK_WinFSWaitPlay",e[e.eSK_WinSpecialWaitPlay=4]="eSK_WinSpecialWaitPlay"}(s=i.eStartKey||(i.eStartKey={})),function(e){e[e.eGM_General=0]="eGM_General",e[e.eGM_FreeGame=1]="eGM_FreeGame",e[e.eGM_SpecialGame=2]="eGM_SpecialGame"}(r=i.eGameMode||(i.eGameMode={})),function(e){e[e.eSM_None=-1]="eSM_None",e[e.eSM_Score=0]="eSM_Score",e[e.eSM_Money=1]="eSM_Money",e[e.Max=2]="Max"}(i.eShowMode||(i.eShowMode={})),function(e){e[e.eGS_None=0]="eGS_None",e[e.eGS_CanChangeBet=1]="eGS_CanChangeBet",e[e.eGS_Playing=2]="eGS_Playing",e[e.eGS_TransGameMode=3]="eGS_TransGameMode"}(l=i.eGameState||(i.eGameState={})),function(e){e[e.eBS_None=0]="eBS_None",e[e.eBS_GenIdle=1]="eBS_GenIdle",e[e.eBS_FSIdle=2]="eBS_FSIdle",e[e.eBS_Playing=3]="eBS_Playing",e[e.eBS_Auto=4]="eBS_Auto",e[e.eBS_Manual=5]="eBS_Manual",e[e.eBS_Trans=6]="eBS_Trans"}(c=i.eBtnState||(i.eBtnState={}));var u=function(e){function t(t,i){var a=e.call(this)||this;a.game=null,a.AwardLines=[],a.freeTimes=0,a.totalFreeTimes=0,a.allWinDouble=!1,a.freeTotalWinScore=0,a.iNextGameSpecialOdds=0,a.freeSpinAddTimes=0,a.freeSpinAgainTimes=0,a.m_JackpotsCur=[],a.currentWinScore=0,a.m_reels=[],a.m_GameTypeCur=m.eGTC_General,a.m_GameTypeNext=n.eGTN_General,a.m_GameState=l.eGS_None,a.m_PrizeType=_.ePT_None,a.m_eStartKey=s.eSK_None,a.m_iSeatID=0,a.m_iWinType=0,a.m_arys_ItemResult=new Array,a.m_bIsHasFSFromInit=!1,a.m_bIsBSNeedEnab=!1,a.m_bStartCtrl=!1,a.m_bIsIdle=!1,a.m_flgStart=!1,a.m_ary_dJackpot=new Array(h.m_iJackpotCount),a.m_GameMode=r.eGM_General,a.m_arys_ItemResult_1=new Array,a.m_bIsHasSpecialFromInit=!1,a.m_iBetIndex=0,a.m_iBet=1,a.m_freeReels=[],a.m_bBegin=!1,a.isLeave=!1,a.m_bIsFSWaitSelectCard=!1,a.isAccordStand=!1,a.mMarqueelist=[],a.m_bIsWinCJ=!1,a.m_Stage=t,a.m_iSeatID=i;for(var o=0;o<h.m_iItemCol;o++){a.m_arys_ItemResult[o]=[];for(var c=0;c<h.m_iItemRow;c++)a.m_arys_ItemResult[o][c]=0}for(o=0;o<h.m_iItemCol;o++)for(a.m_arys_ItemResult_1[o]=[],c=0;c<h.m_iItemRow1;c++)a.m_arys_ItemResult_1[o][c]=0;return a}return o(t,e),t.prototype.onJackpots=function(e){this.m_JackpotsCur=e,this.game.onJackpots(e)},t.prototype.onBetFail=function(){},t.prototype.onGameScore=function(e){this.m_DealWinPro.m_dTotalWinScoreCur=Math.round(e),this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dTotalWinScoreCur:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur},t.prototype.onUserScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint=t},t.prototype.OnUpScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint+=t,cc.log("====onUserScore\u4e0a\u5206\uff1a",e),this.m_DealWinPro.ShowUserPoint()},t.prototype.OnShowMarquee=function(){this.game.iGameBase.OnShowMarquee()},t.prototype.showInitResult=function(e){this.SetItemResult(e)},t.prototype.onTransScoreInfo=function(e,t){e?(this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur-t,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowUserPoint(),cc.log("====>>\u8f6c\u6362\u5206\u6570\u6210\u529f,\u5f53\u524d\u5269\u4f59\u8d62\u5206\uff1a"+this.m_DealWinPro.m_dTotalWinScoreCur+",\u5f53\u524d\u684c\u9762\u5206\uff1a"+this.m_DealWinPro.m_dTableScore)):cc.log("====>>\u8f6c\u6362\u5206\u6570\u5931\u8d25")},t.prototype.sendChangeBet=function(e){this.game.iGameBase.sendChangeBet(e)},t.prototype.sendRun=function(){this.game.iGameBase.sendRun(),cc.log("\u53d1\u9001\u6570\u636e-----------------\x3e>SetPlayingData")},t.prototype.sendTransScore=function(e){this.game.iGameBase.sendTransScore(e)},t.prototype.sendSelectCard=function(e){cc.log("\u53d1\u9001\u6570\u636e-----sendSelectCard",e),this.game.iGameBase.sendSelectCard(e)},t.prototype.onWinJackpot=function(e,t){this.m_bIsWinCJ=!0,this.m_DealWinPro.m_iJackpotId=e;var i=Math.round(100*t)/100;this.m_DealWinPro.m_dJackpotScore=i,this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur+100*i},t.prototype.onPayJackpot=function(e){if(e==this.game.iGameBase.getUserID()){var t=this.m_DealWinPro.m_dJackpotScore;this.m_DealWinPro.TransScoreA(e,this.m_DealWinPro.m_iJackpotId,Number(t.toFixed(2)))}},t.prototype.onWaitBonus=function(e,t,i,a,o,m,n,_,s,r,l,c,h){this.m_DealWinPro.PlayFreeGame(e,t,i,a,o,m,n,_,s,r,l,c),this.m_freeReels=h},t.prototype.onWaitSpecial=function(e,t,i,a,o,m,n,_,s,r){this.m_DealWinPro.PlaySpecialGame(e,t,i,a,o,m,n,_,s),this.m_freeReels=r},t.prototype.onSelectCard=function(e){cc.log("====onSelectCard====="+e);var t=e;0==t?(this.m_GameTypeNext=n.eGTN_SpecialGame,this.m_DealWinPro.m_bChangeAward=!0,this.sendWaitSpecial()):(this.m_DealWinPro.m_iFSCountTotal=t,this.m_DealWinPro.m_iFSAgainTimes=this.m_DealWinPro.m_iFSCountTotal,this.m_DealWinPro.ShowFSTimesTotal(),this.SetStartWaitPlay(),this.m_DealWinPro.PlayFreeGame1(!0))},t.prototype.sendAskForBeginPayJackpot=function(){cc.log("====sendAskForBeginPayJackpot====="),this.game.iGameBase.sendAskForBeginPayJackpot()},t.prototype.sendFinishPayJackpot=function(){this.m_bIsWinCJ=!1,this.game.iGameBase.sendFinishPayJackpot()},t.prototype.sendWaitBound=function(){cc.log("====sendWaitBound====="),this.game.iGameBase.sendWaitBound()},t.prototype.sendWaitSpecial=function(){this.game.iGameBase.sendWaitSpecial()},t.prototype.onSelectCardLast=function(){},t.prototype.onSelectCard2=function(){},t.prototype.UpdateGameSlot=function(){this.m_bStartCtrl&&(this.m_GameMode==r.eGM_SpecialGame?this.m_DealItem1.UpdateState():this.m_GameMode==r.eGM_FreeGame?this.m_DealItem2.UpdateState():this.m_DealItem.UpdateState(),this.m_bIsIdle&&this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Auto&&(this.m_GameTypeCur==m.eGTC_General?this.m_DealWinPro.m_dUserPoint>=this.m_DealBetRel.m_fTotalBet?(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin()):(cc.log("===UpdateGameSlot----\u81ea\u52a8\u53d8\u6210\u624b\u52a8\uff01"),this.m_DealAutoTrans.IsAutoPlay(S.ePlayMode.ePM_Man),this.StartIdle(),this.m_DealWinPro.ShowDonateMessage()):this.m_GameTypeCur==m.eGTC_FreeGame&&this.m_DealWinPro.M_bIsWinFSWaitPlayOver?(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin()):this.m_GameTypeCur==m.eGTN_SpecialGame&&this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver&&(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin())),this.m_GameMode==r.eGM_SpecialGame?this.m_DealItem1.DealTransStop():this.m_GameMode==r.eGM_FreeGame?this.m_DealItem2.DealTransStop():this.m_DealItem.DealTransStop(),this.m_DealWinPro.MyUpdate())},t.prototype.OnKeyStartAction=function(){if(this.game.iGameBase.GetConnected())switch(this.m_eStartKey){case s.eSK_None:cc.log("eSK_None");break;case s.eSK_CanSpin:cc.log("\u53ef\u4ee5\u5f00\u59cb====eSK_CanSpin"),this.OnManualSpin(),this.m_GameTypeCur!=m.eGTC_FreeGame&&this.m_DealWinPro.ShowGameWin();break;case s.eSK_StopAllItem:this.m_GameMode==r.eGM_SpecialGame?this.m_DealItem1.AllStopItem():this.m_GameMode==r.eGM_FreeGame?this.m_DealItem2.AllStopItem():this.m_DealItem.AllStopItem();break;case s.eSK_WinFSWaitPlay:this.m_DealWinPro.M_bIsWinFSWaitPlayOver=!0,this.m_eStartKey=s.eSK_None;break;case s.eSK_WinSpecialWaitPlay:this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!0,this.m_eStartKey=s.eSK_None;break;default:cc.log("default")}},t.prototype.OnManualSpin=function(){switch(this.m_GameState){case l.eGS_None:if(this.m_DealAutoTrans.m_ePlayMode!=S.ePlayMode.ePM_Man)return;break;case l.eGS_CanChangeBet:break;default:return}this.OnSpin()},t.prototype.OnSpin=function(){this.ChangeGameState(l.eGS_Playing)},t.prototype.ShowLottery=function(){switch(this.m_GameState){case l.eGS_Playing:this.m_DealItem.ResetParam(),this.m_DealItem2.ResetParam(),this.m_DealWinPro.ShowLottery()}},t.prototype.StartIdle=function(){this.m_GameState=l.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0,this.m_GameTypeCur==m.eGTC_General?this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Man?(this.SetBtnState(c.eBS_GenIdle),this.m_GameState=l.eGS_CanChangeBet):this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Auto&&this.SetBtnState(c.eBS_Auto):this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Man&&this.SetBtnState(c.eBS_Auto)},t.prototype.StartInitIdle=function(){this.m_GameTypeCur==m.eGTC_General?this.SetBtnState(c.eBS_GenIdle):this.SetBtnState(c.eBS_FSIdle),this.m_GameState=l.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0},t.prototype.SetBtnState=function(e){switch(e){case c.eBS_None:break;case c.eBS_GenIdle:this.m_DealAutoTrans.SetBtnAutoSpinState(!1),this.m_DealBetRel.m_BtnBetAdd.interactable=!0,this.m_DealBetRel.m_BtnBetSub.interactable=!0,this.m_DealWinPro.m_BtnTransScore.interactable=!0;break;case c.eBS_FSIdle:this.m_DealAutoTrans.SetBtnAutoSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1;break;case c.eBS_Playing:this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Auto?(this.m_DealAutoTrans.m_BtnAutoSpin.node.active=!0,this.m_DealAutoTrans.m_BtnAutoSpin.interactable=!0):this.m_DealAutoTrans.SetBtnStopSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1;break;case c.eBS_Auto:this.m_DealAutoTrans.SetBtnAutoSpinState(!1,!0);break;case c.eBS_Manual:break;case c.eBS_Trans:this.m_DealAutoTrans.SetBtnAutoSpinState(!0,!1),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1}},t.prototype.DataInit=function(e,t,i,a,o,m,_,s,r,l,c,S){if(2==o){this.showInitResult(S),this.SetItemSpecialResult(S),this.m_DealWinPro.m_DealSpecial.SetScatterData_1(this.m_arys_ItemResult_1);for(var u=0;u<h.m_iItemCol;u++)for(var p=0;p<h.m_iItemRow1;p++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][p]>0)this.m_arys_ItemResult_1[u][p]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][p];else{var d=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[u][p]=d}}else this.showInitResult(S);this.ResetParam(),this.SetBetIndex(e,t),this.m_DealBetRel.m_iBet=t,this.m_DealBetRel.m_iLines=i,this.m_DealWinPro.m_iBonusID=o,this.m_DealBetRel.m_fTotalBet=l,this.m_DealWinPro.m_dFSTotalWinScore=c,this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.m_GameTypeNext=0==o?n.eGTN_General:1==o?n.eGTN_FreeGame:n.eGTN_SpecialGame,this.m_GameTypeNext==n.eGTN_FreeGame?(cc.log("\u79bb\u7ebf \u4e0b\u5c40\u514d\u8d39 dFSTotalWinScore =",c),this.m_bIsHasFSFromInit=!0):this.m_GameTypeNext==n.eGTN_SpecialGame?this.m_bIsHasSpecialFromInit=!0:(this.m_bIsHasFSFromInit=!1,this.m_bIsHasSpecialFromInit=!1,this.m_DealWinPro.m_dFSTotalWinScore=0),this.m_DealWinPro.m_dWinScoreCur=0,this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowGameWin(),this.m_DealWinPro.ShowUserPoint(),this.m_GameTypeNext==n.eGTN_FreeGame?(this.m_arys_ItemResult_1=this.m_DealWinPro.m_DealSpecial.CheckResult(this.m_arys_ItemResult_1),this.m_DealItem1.SetAllItemResult(this.m_arys_ItemResult_1),this.m_DealItem1.ShowInitResultSpr()):(this.m_DealItem.SetAllItemResult(this.m_arys_ItemResult),this.m_DealItem.ShowInitResultSpr()),this.game.iGameBase.EmitEvent("InitSceneComplete",null)},t.prototype.ResetParam=function(){},t.prototype.SetItemResult_1=function(e){for(var t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow1;i++){var a=e[t][i];a>=8?this.m_arys_ItemResult_1[t][i]=a-8:0==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_WILD:2==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_FREE:3==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot0:4==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot1:5==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot2:6==a&&(this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot3)}this.SetRollEffData()},t.prototype.SetItemResult=function(e){for(var t=0;t<h.m_iItemCol;t++)for(var i=1;i<h.m_iItemRow1;i++){var a=e[t][i];a>=8?this.m_arys_ItemResult[t][i-1]=a-8:0==a?this.m_arys_ItemResult[t][i-1]=h.m_iItem_WILD:2==a?this.m_arys_ItemResult[t][i-1]=h.m_iItem_FREE:3==a?this.m_arys_ItemResult[t][i-1]=h.m_iItem_Jackpot0:4==a?this.m_arys_ItemResult[t][i-1]=h.m_iItem_Jackpot1:5==a?this.m_arys_ItemResult[t][i-1]=h.m_iItem_Jackpot2:6==a&&(this.m_arys_ItemResult[t][i-1]=h.m_iItem_Jackpot3)}cc.log("SetItemResult",this.m_arys_ItemResult),this.SetRollEffData()},t.prototype.DataInitOk=function(){if(this.m_bIsHasFSFromInit)this.sendWaitBound();else if(this.m_bIsHasSpecialFromInit)this.sendWaitSpecial();else{switch(this.AddAction(),this.m_GameState){case l.eGS_Playing:}this.StartInitIdle(),this.m_GameTypeCur!=m.eGTC_FreeGame&&this.m_DealSound&&this.m_DealSound.BGMPlay(h.eAudioName.BGM_Gen,!0),this.m_bStartCtrl=!0}},t.prototype.SetResult=function(e,t,i,a,o,m,_,s,r,l,c,h,S,u){if(this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealWinPro.m_iBonusID=a,this.m_iWinType=o,this.SetAllAwardsID(m),this.m_DealBetRel.m_fTotalBet=s,this.SetItemResult(h),this.SetPrizeInfos(S),this.SetScatterInfos(u),2==a){for(var p=0,d=this.m_DealWinPro.m_list_ScatterInfos,g=0;g<d.length;g++)p+=d[g].point*this.m_DealBetRel.m_iBet;this.m_DealWinPro.m_dWinScoreCur=r>=p?r-p:r}else this.m_DealWinPro.m_dWinScoreCur=r;this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dUserPoint-this.m_DealBetRel.m_fTotalBet,0==this.game.iGameBase.isNoWin()&&(this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.m_GameTypeNext=0==a?n.eGTN_General:1==a?n.eGTN_FreeGame:n.eGTN_SpecialGame,this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowUserPoint(),this.SetWinTypeData(),this.m_DealItem.m_bIsGetResult=!0},t.prototype.SetAllAwardsID=function(e){2==this.m_iWinType?this.m_DealWinPro.m_iAllAwardsID=e>=8?e-8:0==e?h.m_iItem_WILD:2==e?h.m_iItem_FREE:-1:this.m_DealWinPro.m_iAllAwardsID=-1},t.prototype.SetPrizeInfos=function(e){this.m_DealWinPro.m_list_PrizeInfos=[];for(var t=e.length,i=0;i<t;i++){var a=e[i].id;a>=8?a-=8:0==a?a=h.m_iItem_WILD:2==a?a=h.m_iItem_FREE:3==a?a=h.m_iItem_Jackpot0:4==a?a=h.m_iItem_Jackpot1:5==a?a=h.m_iItem_Jackpot2:6==a&&(a=h.m_iItem_Jackpot3);var o={id:a,line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_PrizeInfos.push(o)}},t.prototype.SetScatterInfos=function(e){this.m_DealWinPro.m_list_ScatterInfos=[];for(var t=e.length,i=0;i<t;i++){var a=e[i].id;a>=8?a-=8:0==a?a=h.m_iItem_WILD:2==a?a=h.m_iItem_FREE:3==a?a=h.m_iItem_Jackpot0:4==a?a=h.m_iItem_Jackpot1:5==a?a=h.m_iItem_Jackpot2:6==a&&(a=h.m_iItem_Jackpot3);var o={id:a,line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_ScatterInfos.push(o)}},t.prototype.WaitFreeGameSelect=function(){if(this.m_bIsHasFSFromInit)return this.m_bIsHasFSFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.SetBonusResult=function(e,t,i,a,o,m,_,s,r,l,c,h,S,u,p){this.m_DealWinPro.m_iBonusID=e,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=o,this.m_DealWinPro.m_iFSCountUesed=m,this.m_DealWinPro.m_iFSCountAdd=_,this.m_DealWinPro.m_iNextGameSpecialOdds=s,this.m_DealWinPro.m_dWinScoreCur=l,this.m_DealWinPro.m_dFSTotalWinScore=c,this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,0==e&&(this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur)),this.SetItemResult_1(S),this.SetPrizeInfos(u),this.SetScatterInfos(p),1==this.m_DealWinPro.m_iBonusID?this.m_GameTypeNext=n.eGTN_FreeGame:2==this.m_DealWinPro.m_iBonusID?this.m_GameTypeNext=n.eGTN_SpecialGame:this.m_GameTypeNext=n.eGTN_General,this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealItem2.m_bIsGetResult=!0},t.prototype.ChangeBetResult=function(e,t,i){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData()},t.prototype.ChangeBetPctResult=function(e,t,i,a){this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData(),this.SetUserScore(a)},t.prototype.ChangeBetReleResult=function(e,t,i,a,o){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=i,this.m_DealBetRel.m_fTotalBet=a,this.m_DealBetRel.ShowAllData(),this.SetUserScore(o)},t.prototype.SetUserScore=function(e){var t=e-this.m_DealWinPro.m_dUserPoint;this.m_DealWinPro.m_dUserPoint=e,this.m_DealWinPro.UpdateTableScore(t)},t.prototype.SoundVolResult=function(){},t.prototype.SetWinTypeData=function(){this.m_GameTypeCur==m.eGTC_FreeGame?this.m_PrizeType=_.ePT_Medium:this.SetPrizeType1(this.m_DealWinPro.m_dWinScoreCur)},t.prototype.SetPrizeType=function(){this.m_PrizeType=_.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=_.ePT_AllAward:this.BInTheAward(10,30,!0)?this.m_PrizeType=_.ePT_Medium:this.BInTheAward(5,10)?this.m_PrizeType=_.ePT_Small:this.BInTheAward(30)?this.m_PrizeType=_.ePT_Big:this.m_DealWinPro.m_dWinScoreCur>0&&(this.m_PrizeType=_.ePT_General)},t.prototype.BInTheAward=function(e,t,i){if(void 0===t&&(t=Number.MAX_VALUE),void 0===i&&(i=!1),i&&this.m_GameTypeCur==m.eGTC_FreeGame)return!0;var a=this.m_DealBetRel.m_fTotalBet;return this.m_DealWinPro.m_dWinScoreCur>=e*a&&this.m_DealWinPro.m_dWinScoreCur<t*a},t.prototype.SetPrizeType1=function(e){this.m_PrizeType=_.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=_.ePT_AllAward:this.BInTheAward1(e,10,30)?this.m_PrizeType=_.ePT_Medium:this.BInTheAward1(e,5,10)?this.m_PrizeType=_.ePT_Small:this.BInTheAward1(e,30)?this.m_PrizeType=_.ePT_Big:e>0&&(this.m_PrizeType=_.ePT_General)},t.prototype.BInTheAward1=function(e,t,i){void 0===i&&(i=Number.MAX_VALUE);var a=this.m_DealBetRel.m_fTotalBet;return e>=t*a&&e<i*a},t.prototype.AddAction=function(){this.m_ActOnKeyStop4=this.m_DealBetRel.SubBet,this.m_ActOnKeyStop5=this.m_DealBetRel.AddBet,this.m_ActOnKeyStart=this.OnKeyStartAction,this.m_ActOnKeyAuto=this.m_DealAutoTrans.OnAutoBtn,this.m_ActOnKeyMaxBet=this.m_DealBetRel.MaxBet},t.prototype.RemoveAction=function(){},t.prototype.ChangeGameState=function(e){switch(e){case l.eGS_None:this.IdleRest();break;case l.eGS_Playing:switch(this.m_GameTypeNext){case n.eGTN_General:if(this.m_DealWinPro.m_dUserPoint<this.m_DealBetRel.m_fTotalBet)return cc.log("====ChangeGameState====eGS_Playing \u7206\u673a"),void this.m_DealWinPro.ShowDonateMessage();break;case n.eGTN_FreeGame:this.m_DealWinPro.m_iFSCountUesed+=1,this.m_DealWinPro.ShowFSTimesUsed();break;case n.eGTN_SpecialGame:this.m_DealWinPro.m_DealSpecial.m_totalTime-=1,this.m_DealWinPro.m_DealSpecial.ShowSpecialTimesUsed()}this.m_bIsIdle=!1,this.m_GameState=l.eGS_Playing,this.SetPlayingData()}},t.prototype.IdleRest=function(){this.m_eStartKey=s.eSK_CanSpin},t.prototype.SetPlayingData=function(){switch(this.SetBtnState(c.eBS_Playing),this.m_GameTypeNext){case n.eGTN_General:case n.eGTN_FreeGame:case n.eGTN_SpecialGame:this.sendRun()}this.m_eStartKey=s.eSK_StopAllItem,this.m_DealWinPro.m_Text_LinesScores.string="Good Luck"},t.prototype.OnClickBtn=function(e){if(this.m_bStartCtrl)switch(e.name){case"Button_ToLobby":this.isLeave=!0,this.game.iGameBase.onBtnLeaveGame(),this.m_DealWinPro.onDestroy();break;case"Button_RuleClose":this.m_DealWinPro.hideGameInfo();break;case"Button_Rule":this.m_DealWinPro.showGamInfoPanel(),this.m_DealWinPro.onMaskClick();break;case"Button_RuleInfo":this.m_DealWinPro.showGamInfoPanel();break;case"Button_Sound":cc.log("\u58f0\u97f3\u5f00\u5173"),this.m_DealWinPro.onSoundClick();break;case"Mask_Set":this.m_DealWinPro.onMaskClick();break;case"Button_Set":this.m_DealWinPro.onSetClick();break;case"Button_Spin":if(!this.game.iGameBase.GetConnected())return void this.onBtnLeaveGame();this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==m.eGTC_General?(this.m_DealSound&&this.m_DealSound.SEPlay(h.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.OnKeyStartAction()):(this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver)&&this.m_DealAutoTrans.SetMan2AutoSpin();break;case"Button_Stop":this.m_DealWinPro.GetWinFast(),this.m_eStartKey==s.eSK_StopAllItem&&this.OnKeyStartAction();break;case"Button_BetAdd":this.m_DealSound&&this.m_DealSound.SEPlay(h.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.sendChangeBet(1);break;case"Button_BetSub":this.m_DealSound&&this.m_DealSound.SEPlay(h.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.sendChangeBet(-1);break;case"Button_Auto":if(!this.game.iGameBase.GetConnected())return void this.onBtnLeaveGame();if(this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==m.eGTC_General)if(this.m_DealWinPro.ShowGameWin(),this.PlayBtnAudio(),this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Man){if(this.m_eStartKey!=s.eSK_CanSpin)return;this.m_DealSound&&this.m_DealSound.SEPlay(h.eAudioName.Sound_Auto2Man,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(S.ePlayMode.ePM_Auto)}else this.m_DealAutoTrans.m_ePlayMode==S.ePlayMode.ePM_Auto&&(this.m_DealSound&&this.m_DealSound.SEPlay(h.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(S.ePlayMode.ePM_Man),this.m_GameState==l.eGS_Playing?this.SetBtnState(c.eBS_Playing):this.SetBtnState(c.eBS_GenIdle));else(this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver)&&this.m_DealAutoTrans.SetMan2AutoSpin();break;case"Button_StopAuto":break;case"Button_TransScore":this.game.iGameBase.ShowDona();break;case"Button_RuleRight":this.m_DealWinPro.GameInfoNextBtnClick();break;case"Button_RuleLeft":this.m_DealWinPro.GameInfoPrevBtnClick();break;case"Button_Exit":this.onBtnLeaveGame();break;case"Card_0":case"Card_1":case"Card_2":case"Card_3":case"Card_4":cc.log("m_bIsHasFSFromInit=",this.m_bIsHasFSFromInit),this.m_bIsHasFSFromInit||this.m_DealWinPro.CardSelectBtnClick(e.name)}},t.prototype.PlayBtnAudio=function(){},t.prototype.Final=function(){this.RemoveAction(),this.m_bStartCtrl=!1},t.prototype.SetStartWaitPlay=function(){cc.log("SetStartWaitPlay"),this.m_eStartKey!=s.eSK_WinFSWaitPlay&&this.m_eStartKey!=s.eSK_WinSpecialWaitPlay||this.OnKeyStartAction()},t.prototype.InitSpecialItemResult=function(e){this.m_DealWinPro.m_DealSpecial.SetScatterData(e);for(var t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow1;i++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i]>0)this.m_arys_ItemResult_1[t][i]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i];else{var a=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[t][i]=a}},t.prototype.SetSpecialResult=function(e,t,i,a,o,m,_,s,r,l,c,h,S){this.m_DealWinPro.m_iBonusID=e,this.m_DealWinPro.m_DealSpecial.m_totalTime=o,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=o,this.m_DealWinPro.m_iFSCountUesed=m,this.m_DealWinPro.m_iFSCountAdd=_,this.m_DealWinPro.m_dFSTotalWinScore=r,this.m_DealWinPro.m_dWinScoreCur=s,2!=e&&(this.m_DealWinPro.m_dTotalWinScoreCur+=r,this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dTotalWinScoreCur:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.SetItemSpecialResult(c),this.FixSpecialItemResult(),this.SetPrizeInfos(h),this.SetScatterInfos(S),0==e?this.m_GameTypeNext=n.eGTN_General:1==e?this.m_GameTypeNext=n.eGTN_FreeGame:2==e&&(this.m_GameTypeNext=n.eGTN_SpecialGame),this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealItem1.m_bIsGetResult=!0},t.prototype.SetItemSpecialResult=function(e){for(var t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow1;i++){var a=e[t][i];a>=8?this.m_arys_ItemResult_1[t][i]=a-8:0==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_WILD:2==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_FREE:3==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot0:4==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot1:5==a?this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot2:6==a&&(this.m_arys_ItemResult_1[t][i]=h.m_iItem_Jackpot3)}},t.prototype.ShowLottery_Special=function(){switch(this.m_DealSound&&this.m_DealSound.SEStop(this.m_DealItem1.m_SoundSpin,this.m_iSeatID),this.m_GameState){case l.eGS_Playing:this.m_DealItem1.ResetParam(),this.m_DealWinPro.ShowLottery_Special()}},t.prototype.WaitSpecialGameSelect=function(){if(this.m_bIsHasSpecialFromInit)return this.m_bIsHasSpecialFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.SetBetIndex=function(e,t){this.m_iBetIndex=e,this.m_iBet=t,this.m_DealItem.SetSpItemResIndex(this.m_iBetIndex),this.m_DealItem1.SetSpItemResIndex(this.m_iBetIndex),this.m_DealItem2.SetSpItemResIndex(this.m_iBetIndex),this.m_DealItem.SetIBet(this.m_iBet),this.m_DealItem1.SetIBet(this.m_iBet),this.m_DealItem2.SetIBet(this.m_iBet)},t.prototype.onBtnLeaveGame=function(){this.game.iGameBase.onBtnLeaveGame()},t.prototype.WaitGenGameSelect=function(){this.StartInitIdle()},t.prototype.SetTransMode=function(){this.m_GameState=l.eGS_TransGameMode,this.SetBtnState(c.eBS_Trans),this.m_DealAutoTrans.SetAuto2ManSpin()},t.prototype.isHaveFireBall=function(e){if(void 0===e&&(e=-1),e>=0&&e<h.m_iItemCol){for(var t=0;t<h.m_iItemRow;t++)if((a=this.m_arys_ItemResult[e][t])>=9&&a<=108||a>=111&&a<=114)return!0}else for(var i=0;i<h.m_iItemCol;i++)for(t=0;t<h.m_iItemRow;t++){var a;if((a=this.m_arys_ItemResult[i][t])>=9&&a<=108||a>=111&&a<=114)return!0}return!1},t.prototype.FixSpecialItemResult=function(){for(var e=0;e<h.m_iItemCol;e++)for(var t=0;t<h.m_iItemRow1;t++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[e][t]>0){var i=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[e][t]=i}},t.prototype.SetRollEffData=function(){this.m_DealItem.m_list_iColCanShowRollEff=[];for(var e=new Array,t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow;i++)if(this.m_arys_ItemResult[t][i]==h.m_iItem_FREE){e.push(t);break}if(e.length>0){var a=1;for(i=0;i<e.length&&e[i]==a;i++)this.m_DealItem.m_list_iColCanShowRollEff.push(a),a++}},t.prototype.updateChangeBet=function(e,t,i){this.SetBetIndex(i,e),this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_fTotalBet=t,this.m_DealBetRel.ShowAllData()},t.prototype.onGameMaxWinScore=function(){},t.prototype.onEnterBackground=function(){this.m_DealAutoTrans&&this.m_DealAutoTrans.SetAuto2ManSpin(),null!=this.game.iGameBase&&this.game.iGameBase.GetConnected()||this.m_DealWinPro.onDestroy()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.m_DealItem.onDestroy()},t.prototype.getWinScore=function(){return this.m_DealWinPro.m_dTotalWinScoreCur},t}(cc.Component);i.default=u,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus"}],Game_ThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"d6a5bWGZAWU9MIpGYRWL8/m","Game_ThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.AssetType=void 0;var n,_=e("./DataManager_ThunderZeus"),s=e("./DealAutoTrans_ThunderZeus"),r=e("./DealBetRelevant_ThunderZeus"),l=e("./DealItemRelevant_ThunderZeus"),c=e("./DealItemRelevant_FreeThunderZeus"),h=e("./DealWinProcess_ThunderZeus"),S=e("./GameLogic_ThunderZeus"),u=e("./ItemCtrl_CR_MulRes_FreeThunderZeus"),p=e("./ItemCtrl_CR_MulRes_SpeThunderZeus");(function(e){e[e.AT_SpriteFrame=0]="AT_SpriteFrame",e[e.AT_SpriteAtlas=1]="AT_SpriteAtlas",e[e.AT_Prefab=2]="AT_Prefab",e[e.AT_AudioClip=3]="AT_AudioClip"})(n=i.AssetType||(i.AssetType={}));var d=cc._decorator,g=d.ccclass,I=(d.property,function(e){function t(){var t=e.call(this)||this;return t.handlerPriority=2,t.handlerName="SLOT_ThunderZeus",t.scriptName="Game_ThunderZeus",t.handlerComName="SLOST_COMMON",t.m_bIsStartUpdate=!1,t.m_SoundSystem=null,t.sceneRate=1,t.GameLogic=new S.default(t,0),t.GameLogic.game=t,t}return o(t,e),t.prototype.setIGameBase=function(e){this.iGameBase=e,this.iGameBase.setMyGameLogic(this.GameLogic,this.iGameBase.GetKindID()),this.iGameBase.CommonUI_RootNode(this.node),this.SetSound(),this.SetGameObject(),this.m_bIsStartUpdate=!0,this.GameLogic.isAccordStand=!1,this.iGameBase.AddHandler(),this.GameLogic.m_DealWinPro.ShowID(this.iGameBase.getUserID()),this.iGameBase.setOrientation("V")},t.prototype.netWorkDelay=function(){var e=this;this.m_Signal.active=!0,this.scheduleOnce(function(){e.m_Signal.active=!1},3)},t.prototype.onLoad=function(){},t.prototype.update=function(){this.StageUpdate()},t.prototype.onDestroy=function(){this.GameLogic.isLeave&&null!=this.iGameBase&&this.iGameBase.GetConnected()||this.GameLogic.m_DealWinPro.onDestroy(),this.iGameBase.RemoveHandler(),this.unscheduleAllCallbacks(),this.m_SoundSystem&&(this.m_SoundSystem.ClearAllSound(),this.m_SoundSystem=null),this.GameLogic.Final(),this.GameLogic=null,this.iGameBase.releaseGameRes()},t.prototype.getGameUINode=function(){return null},t.prototype.onLogonFinish=function(){},t.prototype.onJackpots=function(e){if(null!=this.GameLogic.m_DealWinPro.m_ary_PlayerJP)for(var t=0;t<e.length;t++)this.GameLogic.m_DealWinPro.m_ary_JackpotNumChange[t].setString(Math.round(100*e[t])/100)},t.prototype.SetGameObject=function(){for(var e,t,i,a,o,m,S,d,g,I,f,y,P,T,G,L,A,D,C,R,v,B,w,W,b,N,M,F,k,O,E,x,J,Z,j,U,K,V,z,H,q,X,Y,$,Q,ee,te,ie,ae,oe,me,ne,_e,se,re,le,ce,he,Se,ue,pe,de,ge,Ie,fe,ye,Pe,Te,Ge,Le,Ae,De,Ce,Re,ve,Be,we,We,be,Ne,Me,Fe,ke,Oe,Ee,xe,Je,Ze,je,Ue,Ke,Ve,ze,He,qe,Xe=new Array(_.m_iJackpotCount),Ye=new Array(_.m_iJackpotCount),$e=[],Qe=new Array,et=new Array,tt=new Array(_.m_iLinesCount),it=[],at=new Array,ot=new Array,mt=Array(),nt=new Array(_.m_iItemRow),_t=new Array(2),st=(new Array(2),new Array(6),new Array(2)),rt=(new Array(2),[]),lt=new Array,ct=new Array,ht=new Array,St=new Array,ut=new Array(16),pt=new Array(4),dt=null,gt=null,It=null,ft=null,yt=[],Pt=[],Tt=[],Gt=[],Lt=new Array,At=new Array,Dt=new Array,Ct=new Array(10),Rt=new Array(_.m_iItemResCount-1),vt=new Array(2),Bt=new Array(10),wt=new Array(14),Wt=new Array(14),bt=(new Array(12),new Array(14)),Nt=(new Array(12),new Array(12),new Array(14)),Mt=new Array(14),Ft=new Array(4),kt=new Array(4),Ot=new Array(14),Et=new Map,xt=[],Jt=new Array(14),Zt=new Array(10),jt=(new Array(12),new Array(14)),Ut=this.GetGameAsset("Res/Texure/NewTexure/Icon/Icon",n.AT_SpriteAtlas),Kt=0;Kt<2;Kt++){Rt[Kt]=[];for(var Vt=0;Vt<=_.m_iItemResCount;Vt++)Rt[Kt][Vt]=Ut.getSpriteFrame("Icon_"+Vt)}var zt=this.GetGameAsset("Res/Texure/NewTexure/MaxIcon/MaxIcon",n.AT_SpriteAtlas);for(Kt=0;Kt<Ct.length;Kt++)Ct[Kt]=zt.getSpriteFrame(Kt.toString());_t[0]=this.GetGameAsset("Res/Texure/NewTexure/BG1",n.AT_SpriteFrame),_t[1]=this.GetGameAsset("Res/Texure/NewTexure/BG_Animation/1",n.AT_SpriteFrame),Ke=this.GetGameAsset("Res/Texure/Icon_Mask",n.AT_SpriteFrame);var Ht=this.GetGameAsset("Res/Texure/NewTexure/BG",n.AT_SpriteAtlas);for(Kt=0;Kt<vt.length;Kt++)vt[Kt]=Ht.getSpriteFrame("ItemPanel_"+Kt);var qt=this.GetGameAsset1("Res/Texure/Num/NumberYellow",n.AT_SpriteAtlas),Xt=this.GetGameAsset1("Res/Texure/Num/NumberYellow1",n.AT_SpriteAtlas);for(Kt=0;Kt<wt.length;Kt++)Wt[Kt]=qt.getSpriteFrame("NumberYellow_"+Kt),bt[Kt]=qt.getSpriteFrame("NumberYellow_"+Kt);for(this.GetGameAsset("Res/Texure/NumberRed",n.AT_SpriteAtlas),Kt=0;Kt<jt.length;Kt++);var Yt=this.GetGameAsset1("Res/Texure/Num/NumberWhite",n.AT_SpriteAtlas);for(Kt=0;Kt<Nt.length;Kt++)Nt[Kt]=Yt.getSpriteFrame("NumberWhite_"+Kt);for(Kt=0;Kt<Mt.length;Kt++)Mt[Kt]=this.GetGameAsset("Res/Texure/NewTexure/Scores/Numder/"+Kt,n.AT_SpriteFrame);for(Kt=0;Kt<4;Kt++){Ft[Kt]=[];var $t=this.GetGameAsset1("Res/Texure/Jcakpot/jackpotNum_"+Kt,n.AT_SpriteAtlas);for(Vt=0;Vt<13;Vt++)Ft[Kt][Vt]=$t.getSpriteFrame("jackpotNum_"+Kt+"_"+Vt)}for(Kt=0;Kt<kt.length;Kt++)kt[Kt]=this.GetGameAsset("Res/Texure/Jcakpot/JackpotTitle_"+Kt,n.AT_SpriteFrame);var Qt=this.GetGameAsset1("Res/Texure/Num/NumberBlue1",n.AT_SpriteAtlas);for(Kt=0;Kt<Ot.length;Kt++)Ot[Kt]=Qt.getSpriteFrame("NumberBlue1_"+Kt);var ei=this.GetGameAsset1("Res/Texure/Num/NumberSpinLeft",n.AT_SpriteAtlas);for(Kt=0;Kt<4;Kt++)xt[Kt]=ei.getSpriteFrame("NumberSpinLeft_"+Kt);for(Kt=0;Kt<ut.length;Kt++)ut[Kt]=Xt.getSpriteFrame("NumberYellow1_"+Kt);for(Kt=0;Kt<Zt.length;Kt++);U=this.GetGameAsset("Res/Prefab/Prefab_ScatterItemAnim",n.AT_Prefab),K=this.GetGameAsset("Res/Prefab/Prefab_ScatterItemAnim1",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Prefab_NumLock",n.AT_Prefab),Je=this.GetGameAsset1("Res/Prefab/Prefab_Num",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Prefab_NumGameWin",n.AT_Prefab),je=this.GetGameAsset1("Res/Prefab/Prefab_NumFreeSpinTime",n.AT_Prefab),Ze=this.GetGameAsset1("Res/Prefab/Prefab_NumCJ",n.AT_Prefab),qe=this.GetGameAsset("Res/Prefab/Prefab_NumItem",n.AT_Prefab),Ve=this.GetGameAsset("Res/Prefab/Prefab_ItemAnim",n.AT_Prefab),ze=this.GetGameAsset("Res/Prefab/Prefab_LinesFrame",n.AT_Prefab),He=this.GetGameAsset("Res/Prefab/Prefab_BonusAnim",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Panel_TopV",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Panel_BelowV",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Panel_TransScoreV",n.AT_Prefab);var ti,ii=this.GetGameAsset1("Res/Prefab/Panel_SettingV",n.AT_Prefab),ai=this.GetGameAsset1("Res/Prefab/Panel_LoadingV",n.AT_Prefab);for(Et.set(10,"."),Et.set(11,","),Et.set(12,":"),Et.set(13,"$"),Et.set(14,"k"),Et.set(15,"m"),cc.find("GamePlay",this.node.parent),ti=cc.find("GamePlay/Panel_Baground",this.node.parent),o=cc.find("Image_Baground",ti).getComponent(cc.Sprite),m=cc.find("ImageLogo",ti),S=cc.find("Image_Lantern_2",ti),e=cc.find("GamePlay/Panel_Top",this.node.parent),ye=cc.find("Image_BGCredit/Panel_NumPar",e),(ke=cc.find("Image_EffBG",e)).active=!1,xe=cc.find("Frame/PanelJPNumber",ke),Oe=ke.position,Ee=cc.find("Title",ke).getComponent(cc.Sprite),i=cc.find("Button_TransScore",e).getComponent(cc.Button),this.SetBtnEvent(i,!this.iGameBase.isNoWin(),!0),a=cc.find("Button_Exit",e).getComponent(cc.Button),this.SetBtnEvent(a,!0,!0),Te=cc.find("Image_BGWin/Panel_NumPar",e),t=cc.find("Panel_Jackpot",e),Kt=0;Kt<Xe.length;Kt++)Ye[Kt]=cc.find("Image_Jackpot_"+Kt+"/Panel_NumPar",t),$e[Kt]=this.iGameBase.NewJackpotNumChange(cc.find("Image_Jackpot_"+Kt+"/Jackpot",t));for(w=cc.find("GamePlay/Panel_Middle",this.node.parent),d=cc.find("Panel_Trans",w).getComponent(cc.Sprite),ti=cc.find("Panel_TransItems",d.node),Kt=0;Kt<_.m_iItemCol;Kt++){var oi=cc.find("SlogCol_"+Kt,ti);for(Qe[Kt]=[],lt[Kt]=[],et[Kt]=[],Vt=0;Vt<_.m_iItemRow+2;Vt++){Qe[Kt][Vt]=cc.find("SlotItem_"+Vt,oi).getComponent(cc.Sprite);var mi=cc.find("Panel_NumPar",Qe[Kt][Vt].node);et[Kt][Vt]=this.iGameBase.NewShowNum(mi,qe,jt,Et,!1,!1),Vt>0&&Vt<_.m_iItemRow+1&&((pi=Qe[Kt][Vt].node.position).x=oi.position.x,lt[Kt][_.m_iItemRow-Vt]=pi)}}for(P=cc.find("Image_Mask",w),b=cc.find("Panel_TransAnim/Panel_ItemAnim",w),N=cc.find("Panel_TransAnim/Panel_ItemAnim_Bonus",w),M=cc.find("Panel_TransAnim/Panel_MaxItemShow",w),F=cc.find("Panel_TransAnim/Panel_FreeStartUI",w),k=cc.find("Panel_TransAnim/FreeMaxIcon",w),_e=cc.find("Panel_TransAnim/Panel_ItemAnim_WILD",w),se=cc.find("Panel_TransAnim/Panel_LinesFrame",w),g=cc.find("Panel_Tips",w),f=cc.find("Panel_Effect/particle_coin",w),y=cc.find("Panel_Effect/BigWinEffect",w).getComponent(cc.Animation),T=cc.find("Panel_FreeSpinPar",w),L=cc.find("Panel_IntoFreeSpin",T),A=cc.find("Panel_OutFreeSpin",T),G=cc.find("Panel_FSTimesUsed",T),D=cc.find("bgframe/Panel_FSTimesUsedNumPar",G),C=cc.find("bgframe/Panel_FSTimesTotalNumPar",G),R=cc.find("Panel_Win/Panel_FSTotalWinNumPar",G),v=cc.find("Panel_Win/Tips",G),B=cc.find("Panel_Tip",G),W=cc.find("Panel_InfoAnim",T),j=cc.find("GamePlay/Panel_Middle_1",this.node.parent),x=cc.find("Panel_Trans_1",j).getComponent(cc.Sprite),O=cc.find("Panel_TransItems",x.node),Kt=0;Kt<_.m_iItemCol;Kt++)for(oi=cc.find("SlogCol_"+Kt,O),ct[Kt]=[],St[Kt]=[],ht[Kt]=[],Vt=0;Vt<_.m_iItemRow1+1;Vt++)ct[Kt][Vt]=cc.find("SlotItem_"+Vt,oi).getComponent(cc.Sprite),mi=cc.find("Panel_NumPar",ct[Kt][Vt].node),ht[Kt][Vt]=this.iGameBase.NewShowNum(mi,qe,jt,Et,!1,!1),Vt>0&&Vt<_.m_iItemRow1+1&&((pi=ct[Kt][Vt].node.position).x=oi.position.x,St[Kt][_.m_iItemRow1-Vt]=pi);for(J=cc.find("Image_Mask_1",j),E=cc.find("Panel_TransAnim_1",j),Z=cc.find("Panel_TransAnim",E),Y=cc.find("Panel_SpecialSpinPar",j),me=cc.find("Panel_TimesUsedSpecial",Y),V=cc.find("Tips",me).getComponent(cc.Sprite),ne=cc.find("Panel_TimesUsedSpecial/Collected_NumPar",Y),X=cc.find("Panel_IntoSpecial",Y),q=cc.find("Panel_OutSpecial",Y),$=cc.find("Panel_WinSpecial",q),z=cc.find("Panel_NumPar",$),H=cc.find("Tips_End",q),Q=cc.find("Panel_TransEndEffect",j),ee=cc.find("FireBallLight",Q),te=cc.find("FireBallLight1",Q),ie=cc.find("FireBallLight2",Q),ae=cc.find("FireBallLight/fireBallMask",Q),oe=cc.find("fireBall",Q),Kt=0;Kt<_.m_iJackpotCount;Kt++)rt.push(cc.find("JackpotTiles/Tile_"+Kt,$)),rt[Kt].active=!1;ti=cc.find("GamePlay/Panel_Effect",this.node.parent);var ni=cc.find("GamePlay/Panel_Page",this.node.parent);for(ti=cc.find("GamePlay/Panel_Page",this.node.parent),ti=cc.find("GamePlay/Panel_RateShow",this.node.parent),Kt=0;Kt<10;Kt++)Pt[Kt]=cc.find("Icon_"+Kt+"/Panel_NumPar0",ti),Tt[Kt]=cc.find("Icon_"+Kt+"/Panel_NumPar1",ti),Gt[Kt]=cc.find("Icon_"+Kt+"/Panel_NumPar2",ti);we=cc.find("GamePlay/Panel_RateShow/ShowAddScoreUI/NumBG/Panel_Num",this.node.parent),We=cc.find("GamePlay/Panel_RateShow/ShowAddScoreUI",this.node.parent),Be=ti.getComponent(cc.Animation),it[0]=cc.find("Image_Mask0",ti),it[1]=cc.find("Image_Mask1",ti),ti=cc.find("GamePlay/Panel_Page",this.node.parent),(gt=cc.instantiate(ii)).setParent(ni);var _i=cc.find("Panel_Set",gt),si=cc.find("Button_FullScreen/Switch",_i),ri=cc.find("fullScreenOn",si),li=cc.find("fullScreenOff",si);for(this.iGameBase.AddSetSystem(_i,ri,li),dt=cc.find("Button_Set",gt),this.SetBtnEvent(dt.getComponent(cc.Button),!0,!0),(It=cc.find("Panel_Set",gt)).active=!1,ft=cc.find("Mask_Set",It),this.SetBtnEvent(ft.getComponent(cc.Button),!1,!0),he=cc.find("Button_Rule",It).getComponent(cc.Button),this.SetBtnEvent(he,!0,!0),re=cc.find("Button_Sound",It).getComponent(cc.Button),this.SetBtnEvent(re,!0,!0),le=cc.find("Switch/soundOn",re.node),ce=cc.find("Switch/soundOff",re.node),Se=cc.find("Button_ToLobby",It).getComponent(cc.Button),this.SetBtnEvent(Se,!0,!0),pe=cc.find("Panel_Rule",ti),ue=cc.find("Button_RuleClose",pe).getComponent(cc.Button),this.SetBtnEvent(ue,!0,!0),Kt=0;Kt<=6;Kt++)yt.push(cc.find("info_"+Kt,pe));de=cc.find("Button_RuleRight",pe).getComponent(cc.Button),this.SetBtnEvent(de,!0,!0),ge=cc.find("Button_RuleLeft",pe).getComponent(cc.Button),this.SetBtnEvent(ge,!0,!0),(Ie=cc.instantiate(ai)).setParent(ni),Ie.active=!1,fe=cc.find("Panel_TransScene",ti),I=cc.find("StartSpecialGameAnim",ti),this.m_Signal=cc.find("signal",ti),this.m_Signal.active=!1,ti=cc.find("GamePlay/Panel_Below",this.node.parent);var ci=cc.find("IDLabel",ti).getComponent(cc.Label);Ge=cc.find("Image_BGGameWin/Panel_NumPar",ti),Pe=cc.find("Image_BGTotalBet/Panel_NumPar",ti),cc.find("Image_BGJP/Panel_NumPar",ti),Le=cc.find("Button_RuleInfo",ti).getComponent(cc.Button),this.SetBtnEvent(Le,!0,!0),Ae=cc.find("Button_Spin",ti).getComponent(cc.Button),this.SetBtnEvent(Ae,!0,!0),Fe=cc.find("pressParticle",Ae.node),De=cc.find("Button_Stop",ti).getComponent(cc.Button),this.SetBtnEvent(De,!1,!0),ve=cc.find("Button_Auto",ti).getComponent(cc.Button),this.SetBtnEvent(ve,!1,!0),be=cc.find("auto",ve.node),Ne=cc.find("spinleft",ve.node),Me=cc.find("spinleft/Num",ve.node).getComponent(cc.Sprite),Ce=cc.find("Button_BetAdd",ti).getComponent(cc.Button),this.SetBtnEvent(Ce,!0,!0),Re=cc.find("Button_BetSub",ti).getComponent(cc.Button),this.SetBtnEvent(Re,!0,!0),Ue=cc.find("Panel_LinesScore/Text_LinesScores",ti).getComponent(cc.Label);var hi=cc.find("GamePlay/Panel_Middle_2",this.node.parent),Si=cc.find("Panel_Trans",hi).getComponent(cc.Sprite),ui=cc.find("Panel_TransItems",Si.node);for(Kt=0;Kt<4;Kt++)if(oi=cc.find("SlogCol_"+Kt,ui),Lt[Kt]=[],At[Kt]=[],Dt[Kt]=[],0==Kt)for(Vt=0;Vt<5;Vt++)Lt[Kt][Vt]=cc.find("SlotItem_"+Vt,oi).getComponent(cc.Sprite),mi=cc.find("Panel_NumPar",Lt[Kt][Vt].node),Dt[Kt][Vt]=this.iGameBase.NewShowNum(mi,qe,jt,Et,!1,!1),0==Vt&&((pi=Lt[Kt][Vt].node.position).x=oi.position.x,At[Kt][_.m_iItemRow-Vt]=pi);else for(Vt=0;Vt<_.m_iItemRow1+2;Vt++)Lt[Kt][Vt]=cc.find("SlotItem_"+Vt,oi).getComponent(cc.Sprite),mi=cc.find("Panel_NumPar",Lt[Kt][Vt].node),Dt[Kt][Vt]=this.iGameBase.NewShowNum(mi,qe,jt,Et,!1,!1),Vt>0&&Vt<_.m_iItemRow1+1&&((pi=Lt[Kt][Vt].node.position).x=oi.position.x,At[Kt][_.m_iItemRow1-Vt]=pi);for(Kt=0;Kt<5;Kt++)for(At[Kt]=[],Vt=0;Vt<4;Vt++)if(0==Vt){var pi=cc.v3(lt[Kt][Vt].x,lt[Kt][Vt].y+167,lt[Kt][Vt].z);At[Kt][Vt]=pi}else pi=lt[Kt][Vt-1],At[Kt][Vt]=pi;for(this.GameLogic.m_DealAutoTrans=new s.default(this.GameLogic),this.GameLogic.m_DealAutoTrans.m_BtnAutoSpin=ve,this.GameLogic.m_DealAutoTrans.m_BtnSpin=Ae,this.GameLogic.m_DealAutoTrans.m_BtnStop=De,Ae.node.on(cc.Node.EventType.TOUCH_START,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchStart,this.GameLogic.m_DealAutoTrans),Ae.node.on(cc.Node.EventType.TOUCH_END,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchEnd,this.GameLogic.m_DealAutoTrans),Ae.node.on(cc.Node.EventType.TOUCH_CANCEL,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchCancel,this.GameLogic.m_DealAutoTrans),this.GameLogic.m_DealAutoTrans.m_SpinLeftSpriteFrame=xt,this.GameLogic.m_DealAutoTrans.m_autoBtnAutoTag=be,this.GameLogic.m_DealAutoTrans.m_autoBtnAutoTag.active=!0,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinCountTag=Ne,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinCountTag.active=!1,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinLeftCountSprite=Me,this.GameLogic.m_DealAutoTrans.m_spinBtnPressParticle=Fe,this.GameLogic.m_DealItem=new l.default(this.GameLogic),this.GameLogic.m_DealItem.m_ItemCtrl=new p.default(Rt,Qe,et,this,this.GameLogic.ShowLottery.bind(this.GameLogic),this.GameLogic.m_DealItem.AColStopEvn.bind(this.GameLogic.m_DealItem),2200,!0,40,.3),this.GameLogic.m_DealBetRel=new r.default(this.GameLogic),this.GameLogic.m_DealBetRel.m_BtnBetAdd=Ce,this.GameLogic.m_DealBetRel.m_BtnBetSub=Re,this.GameLogic.m_DealBetRel.m_ShowTotalBetCtrl=this.iGameBase.NewShowNum(Pe,Je,Ot,Et,!0,!0),this.GameLogic.m_DealWinPro=new h.default(this.GameLogic),this.GameLogic.m_DealWinPro.m_transCreditNumP=ye,this.GameLogic.m_DealWinPro.m_transTotalWinNumP=Te,this.GameLogic.m_DealWinPro.m_AnimPlayerBG=void 0,this.GameLogic.m_DealWinPro.m_PlayerBG=o,this.GameLogic.m_DealWinPro.m_ary_imagBG=_t,this.GameLogic.m_DealWinPro.m_Text_Tips=void 0,this.GameLogic.m_DealWinPro.m_ImageTrans=d,this.GameLogic.m_DealWinPro.m_transLinesP=void 0,this.GameLogic.m_DealWinPro.m_ary_transLines=tt,this.GameLogic.m_DealWinPro.m_gLinesMask=P,this.GameLogic.m_DealWinPro.m_transLinesCacheP=void 0,this.GameLogic.m_DealWinPro.m_gBetMask[0]=it[0],this.GameLogic.m_DealWinPro.m_gBetMask[1]=it[1],this.GameLogic.m_DealWinPro.m_arys_AnimItems=at,this.GameLogic.m_DealWinPro.m_arys_imagItem=ot,this.GameLogic.m_DealWinPro.m_arys_AnimItemsBonus=mt,this.GameLogic.m_DealWinPro.m_ary_VecLinesScoreNum=nt,this.GameLogic.m_DealWinPro.m_transLinesScoreNumP=void 0,this.GameLogic.m_DealWinPro.m_Text_LinesScores=Ue,this.GameLogic.m_DealWinPro.m_gFSPar=T,this.GameLogic.m_DealWinPro.m_gFSUseP=G,this.GameLogic.m_DealWinPro.m_gIntoFS=L,this.GameLogic.m_DealWinPro.m_OutFS=A,this.GameLogic.m_DealWinPro.m_FSTips=v,this.GameLogic.m_DealWinPro.m_posSelectCard=st,this.GameLogic.m_DealWinPro.m_ary_SprItems=Rt,this.GameLogic.m_DealWinPro.m_SprItems11=Ke,this.GameLogic.m_DealWinPro.m_JcakpotEffBG=ke,this.GameLogic.m_DealWinPro.m_VecTargetJP=Oe,this.GameLogic.m_GameSlotJcakpot=this.iGameBase.NewGameSlotJcakpot_Item(Ee,kt),this.GameLogic.m_GameSlotJcakpot.InitPlayerJcakpotScale(null,this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SetJcakpotMoved.bind(this.GameLogic.m_DealWinPro)),this.GameLogic.m_GameSlotJcakpot.NewShowNum(xe,Je,bt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_ary_SprItemPanel=vt,this.GameLogic.m_DealWinPro.m_ShowCreditCtrl=this.iGameBase.NewShowNum(ye,Je,Nt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_ShowTotalWinNumCtrl=this.iGameBase.NewShowNum(Te,Je,Nt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_ShowGameWinNumCtrl=this.iGameBase.NewShowNum(Ge,Je,Nt,Et,!0,!0),Kt=0;Kt<10;Kt++)this.GameLogic.m_DealBetRel.m_ShowIconRateNumCtrl0[Kt]=this.iGameBase.NewShowNum(Pt[Kt],Je,Nt,Et,!0,!0),this.GameLogic.m_DealBetRel.m_ShowIconRateNumCtrl1[Kt]=this.iGameBase.NewShowNum(Tt[Kt],Je,Nt,Et,!0,!0),this.GameLogic.m_DealBetRel.m_ShowIconRateNumCtrl2[Kt]=this.iGameBase.NewShowNum(Gt[Kt],Je,Nt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_gBetNums0[Kt]=Pt[Kt],this.GameLogic.m_DealWinPro.m_gBetNums1[Kt]=Tt[Kt],this.GameLogic.m_DealWinPro.m_gBetNums2[Kt]=Gt[Kt];for(cc.log("\u521d\u59cb\u5316\u500d\u7387\u5206\u6570\u6570\u636e--------\u300b",Pt,Tt,Tt,this.GameLogic.m_DealWinPro.m_gBetNums0,this.GameLogic.m_DealWinPro.m_gBetNums1,this.GameLogic.m_DealWinPro.m_gBetNums2),this.GameLogic.m_DealWinPro.m_AnimBateShow=Be,this.GameLogic.m_DealWinPro.m_FSTimesUsedCtrl=this.iGameBase.NewShowNum(D,je,Bt,Et,!1,!1),this.GameLogic.m_DealWinPro.m_FSTotalTimes=this.iGameBase.NewShowNum(C,je,Bt,Et,!1,!1),this.GameLogic.m_DealWinPro.m_FSShowTotalWinNumCtrl=this.iGameBase.NewShowNum(R,Je,Jt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_NumWinShowScoreCtrl=this.iGameBase.NewShowNum(we,Je,Mt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_ShowAddScoreUI=We,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ImageTrans=x,this.GameLogic.m_DealWinPro.m_DealSpecial.m_arys_VecItems=St,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gMask=J,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transItemAnimP=Z,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root=j,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprNumLock=ut,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_SprItems=Rt,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gScatterItemAnim=U,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gScatterItemAnim1=K,this.GameLogic.m_DealWinPro.m_ary_MaxSprItems=Ct,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transTip=V,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Panel_TimesUsedSpecial=me,this.GameLogic.m_DealItem1=new l.default(this.GameLogic),this.GameLogic.m_DealItem1.m_ItemCtrl=new p.default(Rt,ct,ht,this,this.GameLogic.ShowLottery_Special.bind(this.GameLogic),this.GameLogic.m_DealItem1.AColStopEvn.bind(this.GameLogic.m_DealItem1),2200,!0,40,.3),this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_SpecialSpinPar=Y,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprTips=pt,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_IntoSpecial=X,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_OutSpecial=q,this.GameLogic.m_DealWinPro.m_DealSpecial.Tips_End=H,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_WinSpecial=$,$.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_NumWinCtrl=this.iGameBase.NewShowNum(z,Je,Zt,Et,!0,!0),this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root.active=!1,this.GameLogic.m_Root=w,this.GameLogic.m_Root.active=!0,this.GameLogic.m_Image_Logo=m,this.GameLogic.Image_Lantern_2=S,this.GameLogic.m_Root_2=hi,this.GameLogic.m_Root_2.active=!1,this.GameLogic.m_DealWinPro.m_gLinesMask.position=cc.v3(0,-382.5,0),this.GameLogic.m_DealWinPro.m_gLinesMask.setContentSize(886,511),Kt=0;Kt<Xe.length;Kt++)Xe[Kt]=this.iGameBase.NewShowNum(Ye[Kt],Ze,Ft[Kt],Et,!0,!0),$e[Kt].setNumSpriteFrame(Ft[Kt]);this.GameLogic.m_DealWinPro.m_DealSpecial.m_Panel_Jackpot=t,this.GameLogic.m_DealWinPro.m_ary_PlayerJP=Xe,this.GameLogic.m_DealWinPro.m_ary_JackpotNumChange=$e,this.GameLogic.m_DealWinPro.m_PlayerJPPanel=e,this.GameLogic.m_DealWinPro.m_TransScoreCtrl=this.iGameBase.NewTransScoreCtrl(this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SubTransScore.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.AddTransScore.bind(this.GameLogic.m_DealWinPro),2,2),this.GameLogic.m_DealWinPro.m_TransScoreCtrlJP=this.iGameBase.NewTransScoreCtrl(this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SubTransScoreJP.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.AddTransScoreJP.bind(this.GameLogic.m_DealWinPro),2,2),this.GameLogic.m_DealWinPro.m_PanelTips=g,this.GameLogic.m_DealWinPro.m_StartSpecialGameAnim=I,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight=ee,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight1=te,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight2=ie,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBallMask=ae,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall=oe,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall.active=!1,this.GameLogic.m_DealWinPro.m_GameWinScoreParticleNode=f,this.GameLogic.m_DealWinPro.m_GameWinScoreBigWinAnim=y,this.GameLogic.m_DealWinPro.m_DealSpecial.m_winJackpotTile=rt,this.GameLogic.m_DealWinPro.m_FSIntoAnimNode=W,this.GameLogic.m_DealWinPro.m_offLineLodingPanel=Ie,this.GameLogic.m_DealWinPro.m_BtnTransScore=i,this.GameLogic.m_DealWinPro.m_PanelRule=pe,this.GameLogic.m_DealWinPro.m_gameInfoImage=yt,this.GameLogic.m_DealWinPro.m_Button_Set=dt,this.GameLogic.m_DealWinPro.m_Panel_Set=It,this.GameLogic.m_DealWinPro.m_Mask_Set=ft,this.GameLogic.m_DealWinPro.m_Widget_PanelSet=It.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Widget_m_ButtonSet=dt.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Toggle_SoundOn=le,this.GameLogic.m_DealWinPro.m_Toggle_SoundOff=ce,this.GameLogic.m_DealWinPro.InitSound(),this.GameLogic.m_DealWinPro.m_TransScenePanel=fe,this.GameLogic.m_DealWinPro.m_arys_VecItems=lt,this.GameLogic.m_DealWinPro.m_arys_VecItems_2=At,this.GameLogic.m_DealWinPro.m_gItemAnim=Ve,this.GameLogic.m_DealWinPro.m_gLinesFrame=ze,this.GameLogic.m_DealWinPro.m_gBounsAnimPrefab=He,this.GameLogic.m_DealWinPro.m_transItemAnimP=b,this.GameLogic.m_DealWinPro.m_transLinesFrameP=se,this.GameLogic.m_DealWinPro.m_transBounsAnimP=N,this.GameLogic.m_DealWinPro.m_transItemWildAnimP=_e,this.GameLogic.m_DealWinPro.m_gWILDAnimPrefab=void 0,this.GameLogic.m_DealWinPro.m_gMaxItemShow=M,this.GameLogic.m_DealWinPro.m_gFreeStartUI=F,this.GameLogic.m_DealWinPro.m_gFrreMaxShow=k,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gNumPrefab=qe,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprFireNum=jt,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_icPairNumSpe=Et,this.GameLogic.m_DealWinPro.m_Panel_FSUseP_Tip=B,this.GameLogic.m_DealWinPro.m_DealSpecial.m_collectedBallNumCtrl=this.iGameBase.NewShowNum(ne,qe,jt,Et,!1,!1),this.GameLogic.m_DealWinPro.m_DealSpecial.m_collectedBallNode=ne,this.GameLogic.m_DealItem2=new c.default(this.GameLogic),this.GameLogic.m_DealItem2.m_ItemCtrl=new u.default(Rt,Lt,Dt,this,this.GameLogic.ShowLottery.bind(this.GameLogic),this.GameLogic.m_DealItem.AColStopEvn.bind(this.GameLogic.m_DealItem2),2200,!0,40,.3),this.GameLogic.m_DealWinPro.m_IDLabel=ci;var di=cc.find("Image_BGWin",e),gi=!this.iGameBase.isNoWin();di.active=gi;var Ii=this.GetGameAsset1("Res/Texure/GameInfo",n.AT_SpriteAtlas);cc.find("Button_RuleClose",pe).getComponent(cc.Sprite).spriteFrame=Ii.getSpriteFrame("return")},t.prototype.StageUpdate=function(){this.m_bIsStartUpdate&&this.GameLogic.UpdateGameSlot()},t.prototype.Leave=function(){cc.log("====Leave====",this.m_bIsStartUpdate),this.m_bIsStartUpdate=!1,this.GameLogic.Final(),this.GameLogic=null,this.m_SoundSystem&&this.m_SoundSystem.ClearAllSound()},t.prototype.SetSound=function(){this.m_SoundSystem=this.iGameBase.NewSoundSystem(),this.GameLogic.m_DealSound=this.m_SoundSystem;var e=new _.AudioData;if(this.m_SoundSystem)for(var t=0;t<e.ary_AudioNames.length;t++){var i=this.GetGameAsset("Res/Sounds/"+e.ary_AudioNames[t],n.AT_AudioClip);this.m_SoundSystem.SEAdd(i,e.ary_AudioVolume[t]),t<3&&this.m_SoundSystem.BGMAdd(i,e.ary_AudioVolume[t])}},t.prototype.SetBtnEvent=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),null!=e){var a=new cc.Component.EventHandler;a.target=this.node,a.component=this.scriptName,a.handler="BtnEventCallback",e.clickEvents.push(a),e.node.active=t,e.interactable=i}},t.prototype.BtnEventCallback=function(e){var t=e.target;this.GameLogic.OnClickBtn(t)},t.prototype.GetGameAsset=function(e,t){return this.iGameBase.GetGameAsset(this.handlerName,e,t)},t.prototype.GetGameAsset1=function(e,t){return this.iGameBase.GetGameAsset1(e,t)},t.prototype.testClick=function(){this.GameLogic.m_DealWinPro.TestAnimation(0)},t.prototype.testClick2=function(){this.GameLogic.m_DealWinPro.TestAnimation(1)},m([g],t)}(cc.Component));i.default=I,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus","./DealAutoTrans_ThunderZeus":"DealAutoTrans_ThunderZeus","./DealBetRelevant_ThunderZeus":"DealBetRelevant_ThunderZeus","./DealItemRelevant_FreeThunderZeus":"DealItemRelevant_FreeThunderZeus","./DealItemRelevant_ThunderZeus":"DealItemRelevant_ThunderZeus","./DealWinProcess_ThunderZeus":"DealWinProcess_ThunderZeus","./GameLogic_ThunderZeus":"GameLogic_ThunderZeus","./ItemCtrl_CR_MulRes_FreeThunderZeus":"ItemCtrl_CR_MulRes_FreeThunderZeus","./ItemCtrl_CR_MulRes_SpeThunderZeus":"ItemCtrl_CR_MulRes_SpeThunderZeus"}],ItemCtrl_CR_MulRes_FreeThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"a40f56EVj6Xw6v/GwfCIUm8","ItemCtrl_CR_MulRes_FreeThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n,_=e("./DataManager_ThunderZeus"),s=cc._decorator,r=s.ccclass;s.property,function(e){e[e.TC_NONR=0]="TC_NONR",e[e.TC_Trans=1]="TC_Trans",e[e.TC_End=2]="TC_End"}(n||(n={}));var l=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_iTransCtrl=n.TC_NONR,a.caller=null,a.AllStopBackEvn=null,a.AColStopBackEvn=null,a.m_fImageHeight=0,a.m_fImageHeight_1=0,a.m_ary_fTransSpeed=[],a.m_ary_fTransSpeedNow=[],a.m_arys_iItemResult=new Array,a.m_ary_iShowResultIdTemp=[],a.m_ary_bIsCanStop=[],a.m_ary_bIsStoped=[],a.m_fX1=0,a.m_fX2=0,a.m_fParabolaHeight=0,a.m_iParabolaReboundSpeed=0,a.m_ary_fParabolaXTemp=[],a.m_ary_bIsCanShowParabola=[],a.m_iStopedCount=0,a.m_ary_SpItemRes=[],a.m_dic_ListImage=null,a.m_ary_VecStartAncPos=[],a.m_ary_VecStartAncPos_1=[],a.m_SpItemResIndex=0,a.m_iBet=1,a.m_GameTypeCurIndex=0,a.m_aryScore=[50,100,150,200,250,500,750,1e3,2500,5e3],a.m_dic_ListItemNum=null,a.m_colMark=0;var o=t[0],m=t[1],_=t[2],s=t[3],r=t[4],l=t[5],c=t[6],h=t[7],S=t[8],u=t[9];if(null==o||null==m||c<0)return cc.log("[ItemCtrl]-> \u521d\u59cb\u5316\u5931\u8d25\uff01"),a;S<=0&&(S=40),a.m_ary_SpItemRes=o,cc.log("\u521d\u59cb\u5316:",m.length,m[0].length),a.m_dic_ListImage=new Map;for(var p=0;p<m.length;p++){for(var d=new Array(m[p].length),g=0;g<m[p].length;g++)d[g]=m[p][g];a.m_dic_ListImage.set(p,d)}for(a.m_dic_ListItemNum=new Map,p=0;p<_.length;p++){for(d=new Array(_[p].length),g=0;g<_[p].length;g++)d[g]=_[p][g];a.m_dic_ListItemNum.set(p,d)}for(p=0;p<m[1].length;p++){var I=m[1][p].node.position;a.m_ary_VecStartAncPos[p]=cc.v2(I.x,I.y)}for(p=0;p<m[0].length;p++)I=m[0][p].node.position,a.m_ary_VecStartAncPos_1[p]=cc.v2(I.x,I.y);a.m_fImageHeight=Math.abs(a.m_ary_VecStartAncPos[1].y-a.m_ary_VecStartAncPos[0].y),a.m_fImageHeight_1=Math.abs(a.m_ary_VecStartAncPos_1[1].y-a.m_ary_VecStartAncPos_1[0].y),a.caller=s,a.AllStopBackEvn=r,a.AColStopBackEvn=l,a.m_bIsShowParabola=h,a.m_iParabolaReboundSpeed=S,a.m_fParabolaHeight=a.m_fImageHeight*u;var f=m.length,y=m[0].length-2;for(a.m_ary_fTransSpeed=new Array(f),a.m_ary_fTransSpeedNow=new Array(f),p=0;p<a.m_ary_fTransSpeed.length;p++)a.m_ary_fTransSpeed[p]=c,a.m_ary_fTransSpeedNow[p]=c;for(a.m_ary_iShowResultIdTemp=new Array(f),p=0;p<f;p++)for(a.m_arys_iItemResult[p]=[],g=0;g<y;g++)a.m_arys_iItemResult[p][g]=0;return a.m_ary_bIsCanStop=new Array(f),a.m_ary_bIsStoped=new Array(f),a.m_ary_fParabolaXTemp=new Array(f),a.m_ary_bIsCanShowParabola=new Array(f),a.m_fX1=-Math.sqrt(a.m_fParabolaHeight),a.m_fX2=-a.m_fX1,a}return o(t,e),t.prototype.StateItemCtrl=function(){switch(this.m_iTransCtrl){case n.TC_NONR:break;case n.TC_Trans:this.m_iStopedCount=0;for(var e=0;e<this.m_ary_bIsStoped.length;e++)this.m_ary_bIsStoped[e]&&this.m_iStopedCount++;if(this.m_iStopedCount==this.m_ary_bIsStoped.length)return void(this.m_iTransCtrl=n.TC_End);for(e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsStoped[e]||this.OnTransing(e,this.m_ary_bIsCanStop[e],this.m_bIsShowParabola);break;case n.TC_End:this.m_iTransCtrl=n.TC_NONR,null!=this.AllStopBackEvn&&this.AllStopBackEvn.call(this.caller)}},t.prototype.ShowInitResultSpr=function(){for(var e=0;e<this.m_dic_ListImage.size;e++){var t=0;0==e&&(t=1);for(var i=0;i<this.m_dic_ListImage.get(e).length;i++)if(i>0&&i<this.m_dic_ListImage.get(e).length-1){var a=this.m_dic_ListImage.get(e),o=cc.find("Item",a[i].node).getComponent(cc.Sprite),m=cc.find("Panel_NumPar",a[i].node),n=cc.find("ItemBG",a[i].node),_=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-i];_=0==e?this.m_arys_iItemResult[e][0]:this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-i];var s=this.m_dic_ListItemNum.get(e);this.isJackPotNum(_)?(a[i].enabled=!0,a[i].node.getComponent(cc.Animation).play(),o.node.active=!0,m.active=!1,o.spriteFrame=this.m_ary_SpItemRes[t][_],n.active=!0):(a[i].enabled=!1,a[i].node.getComponent(cc.Animation).stop(),o.node.active=!0,m.active=!1,o.spriteFrame=this.m_ary_SpItemRes[t][_],n.active=!1),this.m_dic_ListImage.set(e,a),this.m_dic_ListItemNum.set(e,s)}else a=this.m_dic_ListImage.get(e),_=Math.floor(8*Math.random())+1,o=cc.find("Item",a[i].node).getComponent(cc.Sprite),n=cc.find("ItemBG",a[i].node),a[i].enabled=!1,o.node.active=!0,o.spriteFrame=this.m_ary_SpItemRes[t][_],n.active=!1,this.m_dic_ListImage.set(e,a)}},t.prototype.OnTrans=function(){if(this.m_iTransCtrl==n.TC_NONR){for(var e=0;e<this.m_arys_iItemResult.length;e++){for(var t=0;t<this.m_arys_iItemResult[e].length;t++)this.m_arys_iItemResult[e][t]=-1;this.m_ary_iShowResultIdTemp[e]=0,this.m_ary_fParabolaXTemp[e]=0,this.m_ary_bIsCanStop[e]=!1,this.m_ary_bIsStoped[e]=!1,this.m_ary_bIsCanShowParabola[e]=!1,this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]}this.m_iTransCtrl=n.TC_Trans}},t.prototype.SetAllItemResult=function(e){if(null!=e){for(var t=0;t<4;t++){this.m_arys_iItemResult[t]=[];for(var i=0;i<e[0].length;i++)this.m_arys_iItemResult[t][i]=0==t?e[t][i]:e[t+1][i]}this.m_colMark=0}else cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAllItemResult() \u8bbe\u7f6e\u7ed3\u679c\u5931\u8d25")},t.prototype.SetOneItemResult=function(){},t.prototype.SetAllItemStop=function(){if(this.m_iTransCtrl==n.TC_Trans)for(var e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsCanStop[e]=!0},t.prototype.SetAColItemStop=function(e){this.m_iTransCtrl!=n.TC_Trans||e<0||e>=this.m_ary_bIsCanStop.length?cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAColItemStop() \u5931\u8d25\uff01m_iTransCtrl= "+this.m_iTransCtrl+"   col\uff1a"+e):this.m_ary_bIsCanStop[e]=!0},t.prototype.Get_m_ary_bIsCanStop=function(e){return!(e<0||e>=this.m_ary_bIsCanStop.length)&&this.m_ary_bIsCanStop[e]},t.prototype.Get_m_ary_bIsStoped=function(e){return!(e<0||e>=this.m_ary_bIsStoped.length)&&this.m_ary_bIsStoped[e]},t.prototype.GetImage=function(e,t){return e<0||e>=this.m_arys_iItemResult.length||t<0||t>=this.m_arys_iItemResult[0].length?null:this.m_dic_ListImage.get(e)[this.m_dic_ListImage.get(e).length-2-t]},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_iTransCtrl==n.TC_NONR},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),e<0||e>this.m_ary_fTransSpeedNow.length||t<=0||(this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]*t)},t.prototype.OnTransing=function(e,t,i){this.m_ary_iShowResultIdTemp[e]<this.m_arys_iItemResult[e].length?this.OnTransLogic(e,t):this.m_ary_bIsCanShowParabola[e]?i?this.ShowParabolaEff(e,this.ParabolaLogic(e,this.m_fParabolaHeight)):(this.m_ary_bIsStoped[e]=!0,this.ShowParabolaEff(e,0),null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)):this.OnTransLogic(e,!1)},t.prototype.OnTransLogic=function(e,t){for(var i=this.m_ary_fTransSpeedNow[e]*cc.director.getDeltaTime(),a=this.m_dic_ListImage.get(e),o=this.m_dic_ListItemNum.get(e),m=0;m<this.m_dic_ListImage.get(e).length;m++)a[m].node.position=cc.v3(a[m].node.position.x,a[m].node.y-i,0);var n=a[0],_=o[0],s=this.m_ary_VecStartAncPos,r=this.m_fImageHeight,l=0;if(0==e&&(s=this.m_ary_VecStartAncPos_1,r=this.m_fImageHeight_1,l=1),n.node.position.y<=s[0].y-r){this.m_ary_iShowResultIdTemp[e]>=this.m_arys_iItemResult[e].length&&(this.m_ary_bIsCanShowParabola[e]=!0,t=!1);var c=0;if(t){if(0==e?this.m_arys_iItemResult[0][0]==this.m_arys_iItemResult[0][1]?c=this.m_ary_iShowResultIdTemp[e]<2?this.m_arys_iItemResult[e][2]:this.m_arys_iItemResult[e][0]:0==this.m_ary_iShowResultIdTemp[e]?c=this.m_arys_iItemResult[e][3]:1==this.m_ary_iShowResultIdTemp[e]?c=this.m_arys_iItemResult[e][2]:2==this.m_ary_iShowResultIdTemp[e]&&(c=this.m_arys_iItemResult[e][0]):c=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-1-this.m_ary_iShowResultIdTemp[e]],-1!=c){var h=cc.find("Item",n.node).getComponent(cc.Sprite),S=cc.find("Panel_NumPar",n.node),u=cc.find("ItemBG",n.node);this.isJackPotNum(c)?(n.enabled=!0,S.active=!1,h.node.active=!0,h.spriteFrame=this.m_ary_SpItemRes[l][c],n.node.getComponent(cc.Animation).play(),u.active=!0):(n.enabled=!1,h.node.active=!0,S.active=!1,h.spriteFrame=this.m_ary_SpItemRes[l][c],n.node.getComponent(cc.Animation).stop(),u.active=!1),this.m_ary_iShowResultIdTemp[e]++}}else c=this.GetRandomItemSpIndex(),h=cc.find("Item",n.node).getComponent(cc.Sprite),S=cc.find("Panel_NumPar",n.node),u=cc.find("ItemBG",n.node),this.isJackPotNum(c)?(n.enabled=!0,h.node.active=!0,S.active=!1,h.spriteFrame=this.m_ary_SpItemRes[l][c],u.active=!0):(n.enabled=!1,h.node.active=!0,S.active=!1,h.spriteFrame=this.m_ary_SpItemRes[l][c],u.active=!1);var p=n.node.position.y-s[0].y+r;n.node.position=cc.v3(s[s.length-1].x,s[s.length-1].y+p,0),a.shift(),a.push(n),o.shift(),o.push(_),this.m_dic_ListImage.set(e,a),this.m_dic_ListItemNum.set(e,o)}},t.prototype.ParabolaLogic=function(e,t){this.m_ary_fParabolaXTemp[e]+=cc.director.getDeltaTime()*this.m_iParabolaReboundSpeed;var i=this.m_fX1+this.m_ary_fParabolaXTemp[e];return(i=(i=i<this.m_fX1?this.m_fX1:i)>this.m_fX2?this.m_fX2:i)>=this.m_fX2&&(this.m_ary_bIsStoped[e]=!0,null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)),i*i-t},t.prototype.ShowParabolaEff=function(e,t){for(var i=this.m_dic_ListImage.get(e),a=0;a<i.length;a++)this.m_ary_bIsStoped[e]?0==e?this.m_arys_iItemResult[0][0]==this.m_arys_iItemResult[0][1]?i[a].node.position=cc.v3(this.m_ary_VecStartAncPos_1[a].x,this.m_ary_VecStartAncPos_1[a].y+167,0):i[a].node.position=cc.v3(this.m_ary_VecStartAncPos_1[a].x,this.m_ary_VecStartAncPos_1[a].y+334,0):this.m_ary_VecStartAncPos.length>a&&(i[a].node.position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y,0)):0==e?this.m_arys_iItemResult[0][0]==this.m_arys_iItemResult[0][1]?i[a].node.position=cc.v3(this.m_ary_VecStartAncPos_1[a].x,this.m_ary_VecStartAncPos_1[a].y+167+t,0):i[a].node.position=cc.v3(this.m_ary_VecStartAncPos_1[a].x,this.m_ary_VecStartAncPos_1[a].y+334+t,0):this.m_ary_VecStartAncPos.length>a&&(i[a].node.position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y+t,0));this.m_dic_ListImage.set(e,i)},t.prototype.GetRandomItemSpIndex=function(){var e=Math.floor(11*Math.random());return 9==e?e=1==this.m_GameTypeCurIndex?Math.floor(8*Math.random()):8+Math.floor(10*Math.random()):10==e?e=19:11==e&&(this.m_GameTypeCurIndex,e=20),e>=this.m_ary_SpItemRes[0].length&&(e=0),e},t.prototype.isFireNum=function(e){return e>=9&&e<_.m_iItem_WILD},t.prototype.GetFireNumStr=function(e){var t=0;if(this.isFireNum(e)){var i=e-9;i<this.m_aryScore.length&&(t=this.m_aryScore[i]*this.m_iBet)}return t},t.prototype.isJackPotNum=function(e){return e>=_.m_iItem_Jackpot0&&e<=_.m_iItem_LockNum3},m([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus"}],ItemCtrl_CR_MulRes_SpeThunderZeus:[function(e,t,i){"use strict";cc._RF.push(t,"6898b4nid2U0+yRaYyp+lOL","ItemCtrl_CR_MulRes_SpeThunderZeus");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,a){var o,m=arguments.length,n=m<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var _=e.length-1;_>=0;_--)(o=e[_])&&(n=(m<3?o(n):m>3?o(t,i,n):o(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n,_=e("./DataManager_ThunderZeus"),s=cc._decorator,r=s.ccclass;s.property,function(e){e[e.TC_NONR=0]="TC_NONR",e[e.TC_Trans=1]="TC_Trans",e[e.TC_End=2]="TC_End"}(n||(n={}));var l=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_iTransCtrl=n.TC_NONR,a.caller=null,a.AllStopBackEvn=null,a.AColStopBackEvn=null,a.m_fImageHeight=0,a.m_ary_fTransSpeed=[],a.m_ary_fTransSpeedNow=[],a.m_arys_iItemResult=new Array,a.m_ary_iShowResultIdTemp=[],a.m_ary_bIsCanStop=[],a.m_ary_bIsStoped=[],a.m_fX1=0,a.m_fX2=0,a.m_fParabolaHeight=0,a.m_iParabolaReboundSpeed=0,a.m_ary_fParabolaXTemp=[],a.m_ary_bIsCanShowParabola=[],a.m_iStopedCount=0,a.m_ary_SpItemRes=[],a.m_dic_ListImage=null,a.m_ary_VecStartAncPos=[],a.m_SpItemResIndex=0,a.m_iBet=1,a.m_GameTypeCurIndex=0,a.m_aryScore=[50,100,150,200,250,500,750,1e3,2500,5e3],a.m_dic_ListItemNum=null,a.m_colMark=0;var o=t[0],m=t[1],_=t[2],s=t[3],r=t[4],l=t[5],c=t[6],h=t[7],S=t[8],u=t[9];if(null==o||null==m||c<0)return a;S<=0&&(S=40),a.m_ary_SpItemRes=o,a.m_dic_ListImage=new Map;for(var p=0;p<m.length;p++){for(var d=new Array(m[0].length),g=0;g<m[0].length;g++)d[g]=m[p][g];a.m_dic_ListImage.set(p,d)}for(a.m_dic_ListItemNum=new Map,p=0;p<_.length;p++){for(d=new Array(_[0].length),g=0;g<_[0].length;g++)d[g]=_[p][g];a.m_dic_ListItemNum.set(p,d)}for(p=0;p<m[0].length;p++){var I=m[0][p].node.position;a.m_ary_VecStartAncPos[p]=cc.v2(I.x,I.y)}a.m_fImageHeight=Math.abs(a.m_ary_VecStartAncPos[1].y-a.m_ary_VecStartAncPos[0].y),a.caller=s,a.AllStopBackEvn=r,a.AColStopBackEvn=l,a.m_bIsShowParabola=h,a.m_iParabolaReboundSpeed=S,a.m_fParabolaHeight=a.m_fImageHeight*u;var f=m.length,y=m[0].length-2;for(a.m_ary_fTransSpeed=new Array(f),a.m_ary_fTransSpeedNow=new Array(f),p=0;p<a.m_ary_fTransSpeed.length;p++)a.m_ary_fTransSpeed[p]=c,a.m_ary_fTransSpeedNow[p]=c;for(a.m_ary_iShowResultIdTemp=new Array(f),p=0;p<f;p++)for(a.m_arys_iItemResult[p]=[],g=0;g<y;g++)a.m_arys_iItemResult[p][g]=0;return a.m_ary_bIsCanStop=new Array(f),a.m_ary_bIsStoped=new Array(f),a.m_ary_fParabolaXTemp=new Array(f),a.m_ary_bIsCanShowParabola=new Array(f),a.m_fX1=-Math.sqrt(a.m_fParabolaHeight),a.m_fX2=-a.m_fX1,a}return o(t,e),t.prototype.StateItemCtrl=function(){switch(this.m_iTransCtrl){case n.TC_NONR:break;case n.TC_Trans:this.m_iStopedCount=0;for(var e=0;e<this.m_ary_bIsStoped.length;e++)this.m_ary_bIsStoped[e]&&this.m_iStopedCount++;if(this.m_iStopedCount==this.m_ary_bIsStoped.length)return void(this.m_iTransCtrl=n.TC_End);for(e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsStoped[e]||this.OnTransing(e,this.m_ary_bIsCanStop[e],this.m_bIsShowParabola);break;case n.TC_End:this.m_iTransCtrl=n.TC_NONR,null!=this.AllStopBackEvn&&this.AllStopBackEvn.call(this.caller)}},t.prototype.ShowInitResultSpr=function(){for(var e=0;e<this.m_dic_ListImage.size;e++)for(var t=0;t<this.m_dic_ListImage.get(e).length;t++)if(t>0&&t<this.m_dic_ListImage.get(e).length-1){var i=this.m_dic_ListImage.get(e),a=cc.find("Item",i[t].node).getComponent(cc.Sprite),o=cc.find("Panel_NumPar",i[t].node),m=cc.find("ItemBG",i[t].node),n=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-t],_=this.m_dic_ListItemNum.get(e);this.isFireNum(n)?(i[t].enabled=!0,i[t].node.getComponent(cc.Animation).play("Anim_SlotItem"),a.node.active=!1,o.active=!1,_[t].ShowNum2(this.GetFireNumStr(n),!0,!1),this.GetFireNumStr(n)<=0&&(o.active=!1),a.node.active=!0,a.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][9],m.active=!0):this.isJackPotNum(n)?(i[t].enabled=!0,i[t].node.getComponent(cc.Animation).play("Anim_SlotItem"),a.node.active=!0,o.active=!1,a.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-t]],m.active=!0):(i[t].enabled=!1,i[t].node.getComponent(cc.Animation).stop(),a.node.active=!0,o.active=!1,a.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-t]],m.active=!1),this.m_dic_ListImage.set(e,i),this.m_dic_ListItemNum.set(e,_)}else i=this.m_dic_ListImage.get(e),n=Math.floor(8*Math.random())+1,a=cc.find("Item",i[t].node).getComponent(cc.Sprite),m=cc.find("ItemBG",i[t].node),this.isFireNum(n)?(i[t].enabled=!0,a.node.active=!1,m.active=!0):(i[t].enabled=!1,a.node.active=!0,a.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][n],m.active=!1),this.m_dic_ListImage.set(e,i)},t.prototype.OnTrans=function(){if(this.m_iTransCtrl==n.TC_NONR){for(var e=0;e<this.m_arys_iItemResult.length;e++){for(var t=0;t<this.m_arys_iItemResult[0].length;t++)this.m_arys_iItemResult[e][t]=-1;this.m_ary_iShowResultIdTemp[e]=0,this.m_ary_fParabolaXTemp[e]=0,this.m_ary_bIsCanStop[e]=!1,this.m_ary_bIsStoped[e]=!1,this.m_ary_bIsCanShowParabola[e]=!1,this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]}this.m_iTransCtrl=n.TC_Trans}},t.prototype.SetAllItemResult=function(e){if(null!=e&&e.length==this.m_arys_iItemResult.length){cc.log("\u6e38\u620f\u7c7b\u578b\uff1a",this.m_GameTypeCurIndex);for(var t=0;t<e.length;t++)for(var i=0;i<e[0].length;i++)this.m_GameTypeCurIndex,this.m_arys_iItemResult[t][i]=e[t][i];this.m_colMark=0}else cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAllItemResult() \u8bbe\u7f6e\u7ed3\u679c\u5931\u8d25")},t.prototype.SetOneItemResult=function(e,t,i){e<0||e>=this.m_arys_iItemResult.length||t<0||t>=this.m_arys_iItemResult[0].length||i<0||i>=this.m_ary_SpItemRes.length?cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetOneResultImage() \u4f20\u5165\u53c2\u6570\u6709\u8bef\uff01col\uff1a"+e+"    row"+t+"  iResult\uff1a"+i):(this.m_arys_iItemResult[e][t]=i,cc.find("Item",this.m_dic_ListImage[e][this.m_dic_ListImage[e].Count-2-t].node).getComponent(cc.Sprite).spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][this.m_arys_iItemResult[e][t]])},t.prototype.SetAllItemStop=function(){if(this.m_iTransCtrl==n.TC_Trans)for(var e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsCanStop[e]=!0},t.prototype.SetAColItemStop=function(e){this.m_iTransCtrl!=n.TC_Trans||e<0||e>=this.m_ary_bIsCanStop.length?cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAColItemStop() \u5931\u8d25\uff01m_iTransCtrl= "+this.m_iTransCtrl+"   col\uff1a"+e):this.m_ary_bIsCanStop[e]=!0},t.prototype.Get_m_ary_bIsCanStop=function(e){return!(e<0||e>=this.m_ary_bIsCanStop.length)&&this.m_ary_bIsCanStop[e]},t.prototype.Get_m_ary_bIsStoped=function(e){return!(e<0||e>=this.m_ary_bIsStoped.length)&&this.m_ary_bIsStoped[e]},t.prototype.GetImage=function(e,t){return e<0||e>=this.m_arys_iItemResult.length||t<0||t>=this.m_arys_iItemResult[0].length?null:this.m_dic_ListImage.get(e)[this.m_dic_ListImage.get(e).length-2-t]},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_iTransCtrl==n.TC_NONR},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),e<0||e>this.m_ary_fTransSpeedNow.length||t<=0||(this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]*t)},t.prototype.OnTransing=function(e,t,i){this.m_ary_iShowResultIdTemp[e]<this.m_arys_iItemResult[0].length?this.OnTransLogic(e,t):this.m_ary_bIsCanShowParabola[e]?i?this.ShowParabolaEff(e,this.ParabolaLogic(e,this.m_fParabolaHeight)):(this.m_ary_bIsStoped[e]=!0,this.ShowParabolaEff(e,0),null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)):this.OnTransLogic(e,!1)},t.prototype.OnTransLogic=function(e,t){for(var i=this.m_ary_fTransSpeedNow[e]*cc.director.getDeltaTime(),a=this.m_dic_ListImage.get(e),o=this.m_dic_ListItemNum.get(e),m=0;m<this.m_dic_ListImage.get(e).length;m++)a[m].node.position=cc.v3(a[m].node.position.x,a[m].node.y-i,0);var n=a[0],_=o[0];if(n.node.position.y<=this.m_ary_VecStartAncPos[0].y-this.m_fImageHeight){this.m_ary_iShowResultIdTemp[e]>=this.m_arys_iItemResult[0].length&&(this.m_ary_bIsCanShowParabola[e]=!0,t=!1);var s=0;if(t){if(-1!=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-1]){s=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-1-this.m_ary_iShowResultIdTemp[e]];var r=cc.find("Item",n.node).getComponent(cc.Sprite),l=cc.find("Panel_NumPar",n.node),c=cc.find("ItemBG",n.node);this.isJackPotNum(s)?(n.enabled=!0,l.active=!1,r.node.active=!0,r.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][s],n.node.getComponent(cc.Animation).play("Anim_SlotItem"),c.active=!0):(n.enabled=!1,r.node.active=!0,l.active=!1,r.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][s],n.node.getComponent(cc.Animation).stop(),c.active=!1),this.m_ary_iShowResultIdTemp[e]++}}else s=this.GetRandomItemSpIndex(),r=cc.find("Item",n.node).getComponent(cc.Sprite),l=cc.find("Panel_NumPar",n.node),c=cc.find("ItemBG",n.node),this.isFireNum(s)?(n.enabled=!1,r.node.active=!1,l.active=!1,_.ShowNum2(this.GetFireNumStr(s),!0,!1),this.GetFireNumStr(s)<=0&&(l.active=!1),r.node.active=!0,r.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][9],c.active=!0):this.isJackPotNum(s)?(n.enabled=!0,r.node.active=!0,l.active=!1,r.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][s],c.active=!0):(n.enabled=!1,r.node.active=!0,l.active=!1,r.spriteFrame=this.m_ary_SpItemRes[this.m_SpItemResIndex][s],c.active=!1);var h=n.node.position.y-this.m_ary_VecStartAncPos[0].y+this.m_fImageHeight;n.node.position=cc.v3(this.m_ary_VecStartAncPos[this.m_ary_VecStartAncPos.length-1].x,this.m_ary_VecStartAncPos[this.m_ary_VecStartAncPos.length-1].y+h,0),a.shift(),a.push(n),o.shift(),o.push(_),this.m_dic_ListImage.set(e,a),this.m_dic_ListItemNum.set(e,o)}},t.prototype.ParabolaLogic=function(e,t){this.m_ary_fParabolaXTemp[e]+=cc.director.getDeltaTime()*this.m_iParabolaReboundSpeed;var i=this.m_fX1+this.m_ary_fParabolaXTemp[e];return(i=(i=i<this.m_fX1?this.m_fX1:i)>this.m_fX2?this.m_fX2:i)>=this.m_fX2&&(this.m_ary_bIsStoped[e]=!0,null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)),i*i-t},t.prototype.ShowParabolaEff=function(e,t){for(var i=this.m_dic_ListImage.get(e),a=0;a<i.length;a++)this.m_ary_bIsStoped[e]?i[a].node.position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y,0):i[a].node.position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y+t,0);this.m_dic_ListImage.set(e,i)},t.prototype.GetRandomItemSpIndex=function(){var e=Math.floor(11*Math.random());return 9==e?e=1==this.m_GameTypeCurIndex?Math.floor(8*Math.random()):8+Math.floor(10*Math.random()):10==e?e=19:11==e&&(this.m_GameTypeCurIndex,e=20),e>=this.m_ary_SpItemRes[this.m_SpItemResIndex].length&&(e=0),e},t.prototype.isFireNum=function(e){return e>=9&&e<_.m_iItem_WILD},t.prototype.GetFireNumStr=function(e){var t=0;if(this.isFireNum(e)){var i=e-9;i<this.m_aryScore.length&&(t=this.m_aryScore[i]*this.m_iBet)}return t},t.prototype.isJackPotNum=function(e){return e>=_.m_iItem_Jackpot0&&e<=_.m_iItem_LockNum3},m([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{"./DataManager_ThunderZeus":"DataManager_ThunderZeus"}]},{},["DataManager_ThunderZeus","DealAutoTrans_ThunderZeus","DealBetRelevant_ThunderZeus","DealItemRelevant_FreeThunderZeus","DealItemRelevant_ThunderZeus","DealSpecial_ThunderZeus","DealWinProcess_ThunderZeus","GameLogic_ThunderZeus","Game_ThunderZeus","ItemCtrl_CR_MulRes_FreeThunderZeus","ItemCtrl_CR_MulRes_SpeThunderZeus"]);