window.__require=function e(t,o,s){function i(c,n){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!n&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var g=o[c]={exports:{}};t[c][0].call(g.exports,function(e){return i(t[c][1][e]||e)},g,g.exports,e,t,o,s)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<s.length;c++)i(s[c]);return i}({Loading:[function(e,t,o){"use strict";cc._RF.push(t,"e9cdawoTWJGOa3Wg29cavQh","Loading");var s,i=this&&this.__decorate||function(e,t,o,s){var i,r=arguments.length,c=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,s);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});const{ccclass:r,property:c}=cc._decorator;let n=s=class extends cc.Component{constructor(){super(...arguments),this.handlerPriority=1,this.handlerName="Loading",this.progressBar=null,this.progress=null,this.labelProgress=null,this.labelDes=null,this.signal=null,this.logo=null,this.BtnReturn=null,this.logoImages=[],this.lastProgress=0,this.stop=!1,this.isGoBack=!1,this.mILoadingBase=null}onLoad(){cc.error("Loading.onLoad"),this.node.setPosition(cc.v2(.5*cc.visibleRect.width,.5*cc.visibleRect.height)),this.progress.setContentSize(cc.size(cc.visibleRect.width,cc.visibleRect.height)),cc.game.addPersistRootNode(this.node),cc.log("CC_DEV",!1),this.mILoadingBase=cc.director.getScene().getComponentInChildren("LoadingBase"),this.mILoadingBase.BundleInit(this,this.labelDes,this.setProgress.bind(this),this.showLogo.bind(this),this.setLastProgress.bind(this),this.goBack.bind(this)),this.mILoadingBase.addRootNode(this.node),this.mILoadingBase.AddHandler(),this.mILoadingBase.startLoad(!1)}setProgress(e){var t=e;this.lastProgress>e?t=this.lastProgress:this.lastProgress=e,this.labelProgress.node.active=!0,this.labelProgress.string=(100*t).toFixed(2)+"%",this.progressBar.progress=t}setLastProgress(e){this.lastProgress=e}showMessage(){}onDestroy(){this.unscheduleAllCallbacks(),this.mILoadingBase.RemoveHandler()}onExit(){this.stop=!0}goBack(e=!1){}showLogo1(e){let t=cc.assetManager.getBundle("Loading"),o="Res/Loading/";if(e>0){let s=t.get(o+e,cc.SpriteFrame);cc.log("sp:",s),this.logo.getComponent(cc.Sprite).spriteFrame=s}else if(s.kindID>0&&!this.isGoBack&&this.logo){let e=this.logo.getComponent(cc.Sprite);e&&(e.spriteFrame=t.get(o+s.kindID,cc.SpriteFrame))}}showLogo2(e){let t=cc.resources,o="Base/Loading/";if(e>0){let s=t.get(o+e,cc.SpriteFrame);cc.log("sp:",s),this.logo.getComponent(cc.Sprite).spriteFrame=s}else if(s.kindID>0&&!this.isGoBack&&this.logo){let e=this.logo.getComponent(cc.Sprite);e&&(e.spriteFrame=t.get(o+s.kindID,cc.SpriteFrame))}}showLogo(e){if(cc.log("loadingBundle3:"),e>0)this.logo.getComponent(cc.Sprite).spriteFrame=this.getLogoImage(e);else if(this.logo){let e=this.logo.getComponent(cc.Sprite);e&&(e.spriteFrame=this.getLogoImage(0))}}getLogoImage(e){return this.logoImages[0]}};n.kindID=0,i([c(cc.ProgressBar)],n.prototype,"progressBar",void 0),i([c(cc.Node)],n.prototype,"progress",void 0),i([c(cc.Label)],n.prototype,"labelProgress",void 0),i([c(cc.Label)],n.prototype,"labelDes",void 0),i([c(cc.Node)],n.prototype,"signal",void 0),i([c(cc.Node)],n.prototype,"logo",void 0),i([c(cc.Node)],n.prototype,"BtnReturn",void 0),i([c([cc.SpriteFrame])],n.prototype,"logoImages",void 0),n=s=i([r],n),o.default=n,cc._RF.pop()},{}]},{},["Loading"]);