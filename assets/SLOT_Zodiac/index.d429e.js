window.__require=function e(t,i,a){function o(m,r){if(!i[m]){if(!t[m]){var _=m.split("/");if(_=_[_.length-1],!t[_]){var s="function"==typeof __require&&__require;if(!r&&s)return s(_,!0);if(n)return n(_,!0);throw new Error("Cannot find module '"+m+"'")}m=_}var c=i[m]={exports:{}};t[m][0].call(c.exports,function(e){return o(t[m][1][e]||e)},c,c.exports,e,t,i,a)}return i[m].exports}for(var n="function"==typeof __require&&__require,m=0;m<a.length;m++)o(a[m]);return o}({DataManager_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"c87e1dRr+3FXoVvHAS3Yw7t","DataManager_Zodiac");var a=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioData=i.eAudioName=i.m_ScoreTransCount=i.m_LockCount=i.m_Max_Bet=i.m_WinCount=i.m_iPayTypeCountGenSpe=i.m_iPayTypeCountGen=i.m_iRuleCount=i.m_iJackpotCount=i.m_iLinesCount=i.m_iItemResCount=i.m_iItemRow1=i.m_iItemRow=i.m_iItemCol=i.m_iItem_AddTimes=i.m_iItem_FireEnd=i.m_iItem_FireBegain=i.m_iItem_AddScore2=i.m_iItem_AddScore1=i.m_iItem_FREE=i.m_iItem_WILD=i.m_iKeepDecPoint=i.m_Delay3=i.m_Delay2=i.m_Delay1=i.m_Delay05=i.m_iVerUI=i.m_version=void 0;var o=cc._decorator,n=o.ccclass;o.property,i.m_version="1002",i.m_iVerUI=0,i.m_Delay05=.5,i.m_Delay1=1,i.m_Delay2=2,i.m_Delay3=3,i.m_iKeepDecPoint=2,i.m_iItem_WILD=8,i.m_iItem_FREE=11,i.m_iItem_AddScore1=16,i.m_iItem_AddScore2=17,i.m_iItem_FireBegain=10,i.m_iItem_FireEnd=25,i.m_iItem_AddTimes=9,i.m_iItemCol=5,i.m_iItemRow=3,i.m_iItemRow1=3,i.m_iItemResCount=25,i.m_iLinesCount=20,i.m_iJackpotCount=4,i.m_iRuleCount=6,i.m_iPayTypeCountGen=8,i.m_iPayTypeCountGenSpe=4,i.m_WinCount=3,i.m_Max_Bet=5,i.m_LockCount=4,i.m_ScoreTransCount=6,function(e){e[e.BGM_Gen=0]="BGM_Gen",e[e.BGM_Free=1]="BGM_Free",e[e.BGM_Special=2]="BGM_Special",e[e.BGM_SelectBG=3]="BGM_SelectBG",e[e.Sound_GameWinTrans=4]="Sound_GameWinTrans",e[e.Sound_TotalWinTrans=5]="Sound_TotalWinTrans",e[e.Sound_SmallWin=6]="Sound_SmallWin",e[e.Sound_MiddleWin=7]="Sound_MiddleWin",e[e.Sound_BigWin=8]="Sound_BigWin",e[e.Sound_FreeEnab=9]="Sound_FreeEnab",e[e.Sound_FreeEnab1=10]="Sound_FreeEnab1",e[e.Sound_Spin=11]="Sound_Spin",e[e.Sound_SpinStop=12]="Sound_SpinStop",e[e.Sound_Bed=13]="Sound_Bed",e[e.Sound_Auto2Man=14]="Sound_Auto2Man",e[e.Sound_Transition=15]="Sound_Transition",e[e.Sound_BigWinCoinsLoop=16]="Sound_BigWinCoinsLoop",e[e.Sound_Line=17]="Sound_Line",e[e.reel_spining=18]="reel_spining",e[e.Sound_SPScorePlus=19]="Sound_SPScorePlus",e[e.Sound_Cash=20]="Sound_Cash",e[e.Sound_LidClosing=21]="Sound_LidClosing",e[e.Sound_WILDIconStop=22]="Sound_WILDIconStop",e[e.Sound_FireIconStop=23]="Sound_FireIconStop",e[e.Sound_FreeIconStop=24]="Sound_FreeIconStop",e[e.Sound_CoinBurst=25]="Sound_CoinBurst",e[e.Sound_FreeEnd=26]="Sound_FreeEnd",e[e.Sound_RedCoinToBottom_1=27]="Sound_RedCoinToBottom_1",e[e.Sound_RedCoinToBottom_2=28]="Sound_RedCoinToBottom_2",e[e.Sound_RedCoinToBottom_3=29]="Sound_RedCoinToBottom_3",e[e.Sound_RedCoinToBottom_4=30]="Sound_RedCoinToBottom_4",e[e.Sound_RedCoinToBottom_5=31]="Sound_RedCoinToBottom_5",e[e.Sound_RedCoinToBottom_6=32]="Sound_RedCoinToBottom_6",e[e.Sound_CoinsFeature=33]="Sound_CoinsFeature",e[e.Sound_JackpotHit=34]="Sound_JackpotHit",e[e.Sound_JackpoGrand=35]="Sound_JackpoGrand",e[e.Sound_JackpoMajor=36]="Sound_JackpoMajor",e[e.Sound_JackpoMini=37]="Sound_JackpoMini",e[e.Sound_JackpoMinor=38]="Sound_JackpoMinor"}(i.eAudioName||(i.eAudioName={}));var m=function(){function e(){this.ary_AudioNames=["BGM_Gen","BGM_Free","BGM_Special","BGM_SelectBG","Sound_GameWinTrans","Sound_TotalWinTrans","Sound_SmallWin","Sound_MiddleWin","Sound_BigWin","Sound_FreeEnab","Sound_FreeEnab1","Sound_Spin","Sound_SpinStop","Sound_Bed","Sound_Auto2Man","Sound_Transition","Sound_BigWinCoinsLoop","Sound_Line","reel_spining","Sound_SPScorePlus","Sound_Cash","Sound_LidClosing","Sound_WILDIconStop","Sound_FireIconStop","Sound_FreeIconStop","Sound_CoinBurst","Sound_FreeEnd","Sound_RedCoinToBottom_1","Sound_RedCoinToBottom_2","Sound_RedCoinToBottom_3","Sound_RedCoinToBottom_4","Sound_RedCoinToBottom_5","Sound_RedCoinToBottom_6","Sound_CoinsFeature","Sound_JackpotHit","Sound_JackpoGrand","Sound_JackpoMajor","Sound_JackpoMini","Sound_JackpoMinor"],this.ary_AudioVolume=[0,.3,.3,1,.5,.5,.2,1,.5,.5,.3,.5,1,1,1,1,.5,.3,.5,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}return a([n],e)}();i.AudioData=m,cc._RF.pop()},{}],DealAutoTrans_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"f76706v32rMfernlgNGPpoG","DealAutoTrans_Zodiac");var a=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0}),i.ePlayMode=void 0;var o,n=cc._decorator,m=n.ccclass;n.property,function(e){e[e.ePM_Man=0]="ePM_Man",e[e.ePM_Auto=1]="ePM_Auto"}(o=i.ePlayMode||(i.ePlayMode={}));var r=function(){function e(e){this.m_ePlayMode=o.ePM_Man,this.m_Logic=e}return e.prototype.SetBtnAutoSpinState=function(e,t){void 0===t&&(t=!0),this.m_BtnAutoSpin.node.active=e,this.m_BtnAutoSpin.interactable=t},e.prototype.SetBtnStartSpinState=function(e,t){void 0===t&&(t=!0),this.m_BtnSpin.node.active=e,this.m_BtnSpin.interactable=t,this.m_BtnStop.node.active=!e,this.m_BtnStop.interactable=!0},e.prototype.OnAutoBtn=function(){var e=this.m_ePlayMode==o.ePM_Man?o.ePM_Auto:o.ePM_Man;this.IsAutoPlay(e)},e.prototype.IsAutoPlay=function(e){this.m_ePlayMode!=e&&(this.m_ePlayMode==o.ePM_Man?(this.m_AnimationBtnAuto.play(),this.m_EffectBtnAutoSpin.active=!0,this.m_SPBtnAutoSpin.node.active=!0):(this.m_AnimationBtnAuto.stop(),this.m_EffectBtnAutoSpin.active=!1,this.m_SPBtnAutoSpin.node.active=!1,this.m_SPBtnAutoSpin.spriteFrame=this.m_SPButtonAuto)),this.m_ePlayMode=e},e.prototype.SetMan2AutoSpin=function(){this.m_ePlayMode==o.ePM_Man&&this.IsAutoPlay(o.ePM_Auto)},e.prototype.SetAuto2ManSpin=function(){this.m_ePlayMode==o.ePM_Auto&&this.IsAutoPlay(o.ePM_Man)},a([m],e)}();i.default=r,cc._RF.pop()},{}],DealBetRelevant_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"81dc6VAmv95gAvBZkHFMVnU","DealBetRelevant_Zodiac");var a=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0});var o=e("./GameLogic_Zodiac"),n=cc._decorator,m=n.ccclass,r=(n.property,function(){function e(e){this.m_iBet=0,this.m_iBetPct=0,this.m_iLines=0,this.m_fTotalBet=0,this.m_Logic=e}return e.prototype.Final=function(){this.m_ShowTotalBetCtrl=null,this.m_ShowLinesCtrl=null,this.m_ary_SprBetPct=null},e.prototype.ShowAllData=function(){this.m_ShowTotalBetCtrl.ShowNum1(this.m_fTotalBet,!0,-1,!1)},e.prototype.MaxBet=function(){},e.prototype.AddBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=1)},e.prototype.SubBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=-1)},e.prototype.BIsCanChangeBet=function(){switch(this.m_Logic.m_GameState){case o.eGameState.eGS_CanChangeBet:return!0}return!1},a([m],e)}());i.default=r,cc._RF.pop()},{"./GameLogic_Zodiac":"GameLogic_Zodiac"}],DealItemRelevant_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"08eef1sGrpwz1DlnH9DpKX4","DealItemRelevant_Zodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0}),i.eRollState=void 0;var m,r=e("./DataManager_Zodiac"),_=e("./DealAutoTrans_Zodiac"),s=e("./GameLogic_Zodiac"),c=e("./Game_Zodiac"),l=cc._decorator,h=l.ccclass;l.property,function(e){e[e.eRS_None=0]="eRS_None",e[e.eRS_Rolling=1]="eRS_Rolling"}(m=i.eRollState||(i.eRollState={}));var S=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;return a.m_ItemCtrl=null,a.m_eRollState=m.eRS_None,a.m_fItemTransInter=.2,a.m_fItemTransTimer=0,a.m_fItemStopTotalTime=.3,a.m_fItemStopTotalTimer=0,a.m_iColStop=0,a.m_bIsTransing=!1,a.m_bIsGetResult=!1,a.m_bIsAutoStopOpened=!1,a.m_list_iColCanShowRollEff=new Array,a.m_bIsRunRollEff=!1,a.m_fRollEffTotalTime=1,a.m_fRollEffTimer=0,a.m_bIsOverall=!1,a.m_ary_SpMoney=[],a.m_Index_Money=0,a.m_Logic=t[0],a.m_Index_Money=0,a}return o(t,e),t.prototype.Init=function(){this.m_ItemCtrl.m_iItem_WILD=r.m_iItem_WILD,this.m_ItemCtrl.m_iItem_FREE=8,this.m_ItemCtrl.m_iItem_NornalEnd=7,this.m_ItemCtrl.m_iItem_JackpotBegain=31,this.m_ItemCtrl.m_iItem_FireBegain=r.m_iItem_FireBegain,this.m_ItemCtrl.m_iItem_FireEnd=r.m_iItem_FireEnd},t.prototype.Final=function(){this.m_ItemCtrl=null},t.prototype.UpdateState=function(){this.m_ItemCtrl.StateItemCtrl()},t.prototype.ResetParam=function(){this.m_fItemTransTimer=0,this.m_fItemStopTotalTimer=0,this.m_bIsTransing=!1,this.m_bIsGetResult=!1,this.m_eRollState=m.eRS_None,this.m_bIsAutoStopOpened=!1,this.m_bIsRunRollEff=!1,this.m_fRollEffTimer=0,this.m_bIsOverall=!1},t.prototype.ShowInitResultSpr=function(){this.m_ItemCtrl.ShowInitResultSpr()},t.prototype.OnTrans=function(){this.m_ItemCtrl.OnTrans()},t.prototype.SetAllItemResult=function(e){this.m_ItemCtrl.SetAllItemResult(e)},t.prototype.SetAItemResult=function(e,t,i){this.m_ItemCtrl.SetOneItemResult(e,t,i)},t.prototype.SetAllItemStop=function(e){var t=this;void 0===e&&(e=!0);var i=!1;if(this.m_bIsRunRollEff){this.m_list_iColCanShowRollEff[0];for(var a=0;a<r.m_iItemCol;a++)this.Get_m_ary_bIsCanStop(a)||(this.SetAColItemStop(a),i=!0)}else this.m_ItemCtrl.SetAllItemStop(),this.m_Logic.m_DealSound&&(this.m_SoundSpin=this.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_SpinStop,this.m_Logic.m_iSeatID,!1,!0)),i=!0;i&&e&&this.scheduleOnce(function(){t.m_Logic.m_DealSound&&(t.m_SoundSpin=t.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_SpinStop,t.m_Logic.m_iSeatID,!1,!0))},.25)},t.prototype.SetAColItemStop=function(e,t){var i=this;void 0===t&&(t=!0),this.m_ItemCtrl.SetAColItemStop(e),t&&this.scheduleOnce(function(){var t=i.GetStopSound(e);i.m_ItemCtrl.m_GameTypeCurIndex==s.eGameTypeCur.eGTN_SpecialGame&&(t=0),1==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_FireIconStop,i.m_Logic.m_iSeatID,!1,!0)):2==t?i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_WILDIconStop,i.m_Logic.m_iSeatID,!1,!0)):i.m_Logic.m_DealSound&&(i.m_SoundSpin=i.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_SpinStop,i.m_Logic.m_iSeatID,!1,!0))},.25)},t.prototype.GetImage=function(e,t){return this.m_ItemCtrl.GetImage(e,t)},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_ItemCtrl.Get_IsAllItemTransEnd()},t.prototype.Get_m_ary_bIsCanStop=function(e){return this.m_ItemCtrl.Get_m_ary_bIsCanStop(e)},t.prototype.DealTransStop=function(){var e=this;switch(this.m_eRollState){case m.eRS_None:this.m_bIsGetResult&&(this.OnTrans(),this.m_Logic.m_GameMode?(this.m_Logic.m_DealWinPro.m_DealSpecial.ResetItemImage(),this.SetAllItemResult(this.m_Logic.m_arys_ItemResult_2)):this.SetAllItemResult(this.m_Logic.m_arys_ItemResult),this.scheduleOnce(function(){e.SetTransing()},.1),this.m_eRollState=m.eRS_Rolling);break;case m.eRS_Rolling:this.m_bIsTransing&&this.ItemTransLogic()}},t.prototype.SetTransing=function(){this.m_bIsTransing=!0},t.prototype.ItemTransLogic=function(){if(this.m_fRollEffTimer+=cc.director.getDeltaTime(),this.IsAutoStopOpened()){if(this.m_bIsRunRollEff&&this.m_fRollEffTimer<this.m_fRollEffTotalTime)return;if(this.m_fItemTransTimer+=cc.director.getDeltaTime(),this.m_fItemTransTimer>=this.m_fItemTransInter)for(var e=0;e<r.m_iItemCol;e++)if(!this.Get_m_ary_bIsCanStop(e)){this.m_fItemTransTimer=0,this.SetAColItemStop(e);break}}},t.prototype.AllStopItem=function(){this.m_bIsTransing&&this.m_bIsGetResult&&(this.SetAllItemStop(),this.m_Logic.m_eStartKey=s.eStartKey.eSK_None)},t.prototype.DesignateStopItem=function(){if(this.m_bIsTransing&&this.m_bIsGetResult){var e=this.m_iColStop;e<0||e>=this.m_Logic.m_arys_ItemResult.length||this.Get_m_ary_bIsCanStop(e)||(this.SetAColItemStop(e),this.m_fItemStopTotalTimer=0)}},t.prototype.IsAutoStopOpened=function(){return!!this.m_bIsAutoStopOpened||(this.m_Logic.m_DealAutoTrans.m_ePlayMode==_.ePlayMode.ePM_Auto?(this.m_bIsAutoStopOpened=!0,!0):(this.m_fItemStopTotalTimer+=cc.director.getDeltaTime(),this.m_fItemStopTotalTimer>=this.m_fItemStopTotalTime&&(this.m_bIsAutoStopOpened=!0,!0)))},t.prototype.AColStopEvn=function(e){if(this.m_ItemCtrl.m_GameTypeCurIndex==s.eGameTypeCur.eGTC_General&&e>=0&&e<=r.m_iItemCol)for(var t=r.m_iItemRow-1;t>=0;t--)if(this.m_Logic.m_arys_ItemResult[e][t]==this.m_ItemCtrl.m_iItem_FREE){var i=this.m_Logic.game.GetGameAsset("Res/Prefab/Prefab_GoldIngot",c.AssetType.AT_Prefab),a=cc.instantiate(i),o=a.getComponent("GoldIngot");o.mCol=e,o.mRow=t,o.parentNode=this.parentNode,o.itemSP=this.m_Goldbowl_Money,o.m_ary_SpItemSPRes=this.m_ary_SpMoney,o.particle_Coin1=this.m_Goldbowl_Particle,o.caller=this,o.endEvn=this.updateSp.bind(this),a.setParent(this.parentNode);break}},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),this.m_ItemCtrl.SetModifySpeed(e,t)},t.prototype.SetIBet=function(e){this.m_ItemCtrl.m_iBet=e},t.prototype.SetSpCurrentGameType=function(e){this.m_ItemCtrl.m_GameTypeCurIndex=e},t.prototype.GetStopSound=function(e){var t=0;if(e>=0&&e<=r.m_iItemCol)for(var i=r.m_iItemRow-1;i>=0;i--){var a=this.m_Logic.m_arys_ItemResult[e][i];if(a==r.m_iItem_WILD){t=2;break}if(this.m_Logic.IsIconSpecialJackpot(a)){t=1;break}}return t},t.prototype.GetFireNumStr=function(e){return 2==this.m_ItemCtrl.m_GameTypeCurIndex?0:this.m_Logic.GetFireNumStr(e)},t.prototype.updateSp=function(){var e=this;this.m_Goldbowl_Money.spriteFrame=this.m_ary_SpMoney[this.m_Index_Money],this.m_Index_Money<this.m_ary_SpMoney.length-1&&this.m_Index_Money++,this.m_Goldbowl_Particle.active=!0,this.scheduleOnce(function(){e.m_Goldbowl_Particle.active=!1},1.2)},t.prototype.ReadyWinJP=function(){this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(r.eAudioName.Sound_LidClosing,this.m_Logic.m_iSeatID,!1,!0),this.m_Goldbowl_0.active=!1,this.m_Goldbowl_1.active=!0,this.m_Goldbowl_1.getComponent(cc.Animation).play()},t.prototype.OverWinJP=function(){this.m_Index_Money=0,this.m_Goldbowl_Money.spriteFrame=this.m_ary_SpMoney[this.m_Index_Money],this.m_Goldbowl_0.active=!0,this.m_Goldbowl_1.active=!1},t.prototype.updateData=function(e,t,i){this.m_ItemCtrl.updateData(e,t,i)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},n([h],t)}(cc.Component);i.default=S,cc._RF.pop()},{"./DataManager_Zodiac":"DataManager_Zodiac","./DealAutoTrans_Zodiac":"DealAutoTrans_Zodiac","./GameLogic_Zodiac":"GameLogic_Zodiac","./Game_Zodiac":"Game_Zodiac"}],DealSpecial_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"4c1964rcUv1RqR1Ames6Yzn","DealSpecial_Zodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0});var m=e("./DataManager_Zodiac"),r=e("./DealAutoTrans_Zodiac"),_=e("./DealWinProcess_Zodiac"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_list_SprItems=[],a.m_list_gAnimItemShowing1=[],a.m_dic_iqPreObj=new Map,a.m_list_gAnimItemNumCtrl=[],a.m_dic_iqNumCtrl=new Map,a.m_totalTime=0,a.m_timeUesed=0,a.m_arys_Scatter=new Array,a.m_ary_Numlock=new Array(m.m_LockCount),a.m_FireBallEndPosx=[-160,0,160],a.m_PanelLockEffect=[],a.fireBallCount=0,a.m_ary_SprFireNum=new Array(12),a.m_list_icPairNumSpe=new Map,a.m_list_ItemNormalImage=[],a.m_arys_ScatterNode=new Array,a.m_arys_ScatterNumCtrl=new Array,a.m_addScatterNum=0,a.m_arys_ScatterLast=new Array,a.m_arys_FireBallAddScoreList=[],a.curFireBallScore=0,a.isShowFireBallAddAnim=!1,a.m_list_gAnimAndItemShowing=[];var o=t[0];a.m_Logic=o;for(var n=_.ePreObj.ePO_None+1;n<_.ePreObj.ePO_MaxValue;n++)a.m_dic_iqPreObj.set(n,[]),a.m_dic_iqNumCtrl.set(n,[]);return a.ClearScatter(),a.ClearScatterNode(),a}return o(t,e),t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t.prototype.InitLockNum=function(e){for(var t=0;t<m.m_iItemRow;t++)this.m_ary_Numlock[t]=e[t]},t.prototype.StartAnim=function(){var e=this;this.scheduleOnce(function(){e.ShowSpecialTimesUsed(),e.m_Logic.m_Root.active=!1,e.m_Root.active=!0,e.Panel_SpecialSpinPar.active=!0,e.ResetItemImage(),e.StartAnimation(),e.m_Logic.m_DealSound&&e.m_Logic.m_DealSound.BGMPlay(m.eAudioName.BGM_Special,!0),e.m_NumWinCtrl.ShowNum1(0,!0,-1,!1)},1)},t.prototype.StartAnimation=function(){this.ShowLottery2(),this.m_Logic.SetStartWaitPlay();var e=function(){this.m_Logic.m_DealAutoTrans.m_ePlayMode==r.ePlayMode.ePM_Auto&&this.unschedule(e)};this.schedule(e,.1)},t.prototype.OutSpecial=function(){this.m_Logic.m_GameMode=!1,this.m_Logic.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!1,this.m_Logic.SetTransMode(),this.OutAnimation()},t.prototype.OutAnimation=function(){var e=this;if(this.isShowFireBallAddAnim)this.scheduleOnce(function(){e.OutAnimation()},1);else{this.winNumCtlP.active=!0,this.m_NumWinCtrl.ShowNum1(0,!0,-1,!1);var t=function(){var e=this;this.unschedule(t),this.Panel_WinSpecial.active=!0,this.scheduleOnce(function(){var t;e.m_OutWinSpecialNumCtrl.ShowNum2(e.m_Logic.m_DealWinPro.m_dFSTotalWinScore,!0,!1),e.Panel_OutSpecial.active=!0,e.m_Logic.m_DealSound&&(t=e.m_Logic.m_DealSound.SEPlay(m.eAudioName.Sound_BigWinCoinsLoop,e.m_Logic.m_iSeatID,!1,!0)),function(){var e=this;this.SetLineFAndItemAnimAct(_.eShowLinesMode.eSLM_ShowAll),this.scheduleOnce(function(){e.m_Logic.m_DealSound&&e.m_Logic.m_DealSound.SEStop(t,e.m_Logic.m_iSeatID),e.m_Logic.m_DealSound&&(t=e.m_Logic.m_DealSound.SEPlay(m.eAudioName.Sound_FreeEnd,e.m_Logic.m_iSeatID,!1,!0)),e.winNumCtlP.active=!0,e.m_NumWinCtrl.ShowNum1(0,!0,-1,!1),e.Panel_OutSpecial.active=!1,e.Panel_SpecialSpinPar.active=!1,e.m_Root.active=!1,e.m_Logic.m_Root.active=!0,e.m_Logic.m_DealWinPro.m_PlayerBG.spriteFrame=e.m_Logic.m_DealWinPro.m_ary_imagBG[0],e.SetLineFAndItemAnimAct(_.eShowLinesMode.eSLM_HideAll),e.ClearScatterNode(),e.ClearScatter(),e.m_Logic.m_DealWinPro.m_iJackpotId=-1,e.m_Logic.m_DealWinPro.m_dJackpotScore=0,e.m_addScatterNum=0,e.m_Logic.m_freeReels.length>0?(e.m_Logic.SetItemResult(e.m_Logic.m_freeReels),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr()):(e.GetRanResult(),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr()),e.m_Logic.m_DealWinPro.BackToGeneral(t)},m.m_Delay3)}.call(e)},m.m_Delay05)};this.schedule(t,1.2)}},t.prototype.SetScatterData=function(e){this.fireBallCount=0;for(var t=m.m_iItemRow-1;t>=0;t--)for(var i=0;i<m.m_iItemCol;i++){var a=t;this.isFireNum(e[i][a])?(this.m_arys_Scatter[i][t]=e[i][a],this.fireBallCount++):this.isJackPotNum(e[i][a])?(this.m_arys_Scatter[i][t]=e[i][a],this.fireBallCount++):this.m_arys_Scatter[i][t]=-1}},t.prototype.SetScatterData_1=function(e){this.fireBallCount=0,new Array(5);for(var t=m.m_iItemRow-1;t>=0;t--)for(var i=0;i<m.m_iItemCol;i++){var a=t;this.isFireNum(e[i][a])?(this.m_arys_Scatter[i][t]=e[i][a],this.fireBallCount++):this.isJackPotNum(e[i][a])?(this.m_arys_Scatter[i][t]=e[i][a],this.fireBallCount++):this.m_arys_Scatter[i][t]=-1}},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case _.ePreObj.ePO_ItemAnim:(i=cc.instantiate(this.m_gScatterItemAnim)).parent=this.m_transItemAnimP;break;case _.ePreObj.ePO_ItemAnim_1:(i=cc.instantiate(this.m_gItemAddTimePrefab)).parent=this.m_transItemAnimP}(t=i).active=!1}return t},t.prototype.ShowLottery_Special=function(){var e=this;new Array(5),this.ShowSpecialTimesUsed(),this.m_arys_FireBallAddScoreList=[];var t=!1,i=!1;this.m_arys_ScatterLast=[];for(var a=0;a<m.m_iItemCol;a++){this.m_arys_ScatterLast[a]=[];for(var o=0;o<m.m_iItemRow1;o++)this.m_arys_ScatterLast[a][o]=this.m_arys_Scatter[a][o]}for(o=m.m_iItemRow-1;o>=0;o--)for(a=0;a<m.m_iItemCol;a++)this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult_1[a][o])&&-1==this.m_arys_Scatter[a][o]&&(this.m_arys_Scatter[a][o]=this.m_Logic.m_arys_ItemResult_1[a][o],this.AddItemShowing(a,o,!1),t=!0,this.m_arys_FireBallAddScoreList.push(a*m.m_iItemRow+o)),this.m_Logic.m_arys_ItemResult_1[a][o]==m.m_iItem_AddTimes&&(this.ShowAddTimesAnim(a,o),i=!0);for(this.m_arys_FireBallAddScoreList.sort(function(e,t){return e-t}),i?this.scheduleOnce(function(){t?e.AddItemShowingAnim():e.ResetItem()},1):t?this.AddItemShowingAnim():this.ResetItem(),o=m.m_iItemRow1-1;o>=0;o--)for(a=0;a<m.m_iItemCol;a++){var n=a,r=o;if(this.m_arys_Scatter[a][o]>-1){var _=this.m_Logic.m_DealItem1.GetImage(n,r);_&&(_.active=!1,this.m_list_ItemNormalImage.push(_))}}},t.prototype.isAddBall=function(e,t){if(e==m.m_iItem_AddScore1){if(t>=m.m_iItem_FireBegain&&t<m.m_iItem_AddScore1)return!0}else if(e>=m.m_iItem_AddScore2&&t>=m.m_iItem_FireBegain&&t<=m.m_iItem_AddScore1)return!0;return!1},t.prototype.AddItemShowingAnim=function(){var e=this;this.isShowFireBallAddAnim=!0;var t=0,i=0;if(this.m_arys_FireBallAddScoreList.length>0){var a=this.m_arys_FireBallAddScoreList.shift();t=Math.floor(a/m.m_iItemRow),i=a%m.m_iItemRow,this.curFireBallScore=0;var o=0,n=0,r=function(){for(;!this.isAddBall(this.m_arys_Scatter[t][i],this.m_arys_ScatterLast[o][n]);)if(o<m.m_iItemCol-1)o++;else if(n<m.m_iItemRow1-1)n++,o=0;else if(o==m.m_iItemCol-1&&n==m.m_iItemRow1-1){this.unschedule(r);break}this.isAddBall(this.m_arys_Scatter[t][i],this.m_arys_ScatterLast[o][n])&&this.AddItemShowing2(t,i,o,n),o<m.m_iItemCol-1?o++:n<m.m_iItemRow1-1?(n++,o=0):o==m.m_iItemCol-1&&n==m.m_iItemRow1-1&&(this.unschedule(r),this.AddItemShowingAnim())};this.schedule(r,1)}else this.scheduleOnce(function(){e.isShowFireBallAddAnim=!1,e.ResetItem()},.5)},t.prototype.HideTipAnim=function(e){e.active&&cc.tween(e).to(.1,{scale:1.2}).to(.1,{scale:1}).call(function(){e.active=!1}).start()},t.prototype.ResetItem=function(){for(var e=0;e<this.m_list_gAnimAndItemShowing.length;e++)this.m_list_gAnimAndItemShowing[e].active=!1;this.m_list_gAnimAndItemShowing=[],this.m_Logic.StartInitIdle()},t.prototype.ShowSpecialTimesUsed=function(){this.m_curtimesNumCtrl.ShowNum2(this.m_totalTime,!0,!1),this.m_totaltimesNumCtrl.ShowNum2(this.fireBallCount,!0,!1)},t.prototype.ShowLottery2=function(){this.m_addScatterNum=1,this.fireBallCount=0;for(var e=0;e<m.m_iItemCol;e++)for(var t=0;t<m.m_iItemRow1;t++)if(this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult_1[e][t])){var i=e,a=t;this.AddItemShowing(i,a,!0)}},t.prototype.AddItemShowing=function(e,t,i){var a=this.GetPreObj(_.ePreObj.ePO_ItemAnim);a.setPosition(cc.v2(this.m_arys_VecItems[e][t].x,this.m_arys_VecItems[e][t].y));var o=this.m_Logic.m_arys_ItemResult_1[e][t],n=cc.find("Image_Item",a).getComponent(cc.Sprite),m=cc.find("rotate",a),r=cc.find("Panel_NumPar",a);r.active=!1,n.node.active=!0,m.active=!1;var s=this.GetPreObjNumCtrl(_.ePreObj.ePO_ItemAnim,a);if(this.isFireNum(o)){n.node.active||(n.node.active=!0),n.spriteFrame=o>=4&&o<=7?this.m_Logic.m_DealWinPro.m_ary_SpBGRes[o-3]:o>=10&&o<=15?this.m_Logic.m_DealWinPro.m_ary_SpBGRes[6]:o>=17&&o<=25?this.m_Logic.m_DealWinPro.m_ary_SpBGRes[8]:this.m_Logic.m_DealWinPro.m_ary_SpBGRes[7],r.active=!0;var c=this.m_Logic.GetFireNumStr(o);cc.log("==============////\u706b\u7403\u6570\u5b57",c,a.children[0].width),c>0?(s.ShowNum2(c,!0,!1),this.fireBallCount++):r.active=!1,i||(r.active=!1)}a.active=!0,this.m_list_gAnimItemShowing1.push(a),this.m_list_gAnimItemNumCtrl.push(s),this.m_arys_ScatterNode[e][t]=a,this.m_arys_ScatterNumCtrl[e][t]=s},t.prototype.AddItemShowing2=function(e,t,i,a){var o=this,n=this.m_arys_VecItems[i][a].x,r=this.m_arys_VecItems[i][a].y;this.m_fireBallMask.active=!0,this.m_fireBallMask.opacity=255,this.m_FireBallLight.setPosition(n,r),this.m_fireBall.setPosition(n,r),this.m_fireBall.active=!0,this.m_fireBall.setScale(1),this.m_FireBallLight.active=!0,this.m_FireBallLight.getComponent(cc.Animation).play();var _=this.m_arys_VecItems[e][t].x,s=this.m_arys_VecItems[e][t].y;cc.tween(this.m_fireBall).delay(.3).to(.2,{position:cc.v3(_,s,0)}).call(function(){o.m_fireBall.active=!1;var n=o.m_arys_ScatterNode[e][t];if(null!=n){var r=o.m_arys_Scatter[e][t],_=o.m_arys_Scatter[i][a],s=cc.find("Panel_NumPar",n),c=o.m_arys_ScatterNumCtrl[e][t];if(o.m_Logic.m_DealSound&&o.m_Logic.m_DealSound.SEPlay(m.eAudioName.Sound_SPScorePlus,o.m_Logic.m_iSeatID,!1,!1),o.isFireNum(r)){s.active=!0;var l=o.m_Logic.GetFireNumStr(_);o.curFireBallScore+=l,l<=0&&(s.active=!1),cc.tween(s).to(.1,{scale:0}).call(function(){c.ShowNum2(o.curFireBallScore,!0,!1),cc.tween(s).to(.1,{scale:1}).start()}).start()}else s.active=!1;n.active=!0}}).start()},t.prototype.CheckResult=function(){for(var e=0,t=!1,i=0;i<m.m_iItemCol;i++)for(var a=0;a<m.m_iItemRow;a++){var o=this.m_Logic.m_arys_ItemResult[i][a];this.isFireNum(o)?(e++,o==m.m_iItem_FireBegain+6&&(t=!0)):this.isJackPotNum(o)&&e++}e>=4?this.GetRanResult():t&&this.GetRanResult()},t.prototype.GetRanResult=function(){for(var e=0;e<m.m_iItemCol;e++)for(var t=0;t<m.m_iItemRow;t++){var i=this.m_Logic.game.iGameBase.SMGlobal_Random(0,9);this.m_Logic.m_arys_ItemResult[e][t]=i}},t.prototype.ClearScatter=function(){for(var e=0;e<m.m_iItemCol;e++){this.m_arys_Scatter[e]=[];for(var t=m.m_iItemRow1-1;t>=0;t--)this.m_arys_Scatter[e][t]=-1}},t.prototype.ClearScatterNode=function(){this.m_arys_ScatterNode=[];for(var e=0;e<m.m_iItemCol;e++)this.m_arys_ScatterNode[e]=[];for(this.m_arys_ScatterNumCtrl=[],e=0;e<m.m_iItemCol;e++)this.m_arys_ScatterNumCtrl[e]=[]},t.prototype.GetPreObjNumCtrl=function(e,t){var i=null;if(this.m_dic_iqNumCtrl.has(e))if(this.m_dic_iqNumCtrl.get(e).length>0)i=this.m_dic_iqNumCtrl.get(e).pop();else{var a=cc.find("Panel_NumPar",t);i=this.m_Logic.game.iGameBase.NewShowNum(a,this.m_gNumPrefab,this.m_ary_SprFireNum,this.m_list_icPairNumSpe,!0,!0)}return i},t.prototype.ResetItemImage=function(){for(var e=0;e<this.m_list_ItemNormalImage.length;e++)this.m_list_ItemNormalImage[e].active=!0;this.m_list_ItemNormalImage=[]},t.prototype.isFireNum=function(e){return!!this.m_Logic.IsIconSpecial(e)},t.prototype.isJackPotNum=function(e){return!!this.m_Logic.IsIconJackpot(e)},t.prototype.ShowJPAnim=function(){},t.prototype.ShowAddTimesAnim=function(e,t){var i=this.GetPreObj(_.ePreObj.ePO_ItemAnim_1);i.setPosition(cc.v2(this.m_arys_VecItems[e][t].x,this.m_arys_VecItems[e][t].y)),i.active=!0,i.getComponent(cc.Animation).play(),this.m_list_gAnimAndItemShowing.push(i)},t.prototype.SetLineFAndItemAnimAct=function(e,t,i){switch(void 0===t&&(t=-1),void 0===i&&(i=0),e){case _.eShowLinesMode.eSLM_HideAll:for(var a=0;a<this.m_list_gAnimItemShowing1.length;a++)(r=this.m_list_gAnimItemShowing1[a]).active=!1,this.m_dic_iqPreObj.get(_.ePreObj.ePO_ItemAnim).push(r);for(this.m_list_gAnimItemShowing1=[],a=0;a<this.m_list_gAnimItemNumCtrl.length;a++){var o=this.m_list_gAnimItemNumCtrl[a];this.m_dic_iqNumCtrl.get(_.ePreObj.ePO_ItemAnim).push(o)}for(this.m_list_gAnimItemNumCtrl=[],a=0;a<this.m_list_gAnimAndItemShowing.length;a++)this.m_list_gAnimAndItemShowing[a].active=!1;this.m_list_gAnimAndItemShowing=[];break;case _.eShowLinesMode.eSLM_ShowAll:for(a=0;a<m.m_iItemCol;a++)for(var n=0;n<m.m_iItemRow1;n++)if(this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult_1[a][n])){var r,s=a,c=n;(r=this.m_arys_ScatterNode[s][c]).getComponent(cc.Animation).play()}}},n([c],t)}(cc.Component));i.default=l,cc._RF.pop()},{"./DataManager_Zodiac":"DataManager_Zodiac","./DealAutoTrans_Zodiac":"DealAutoTrans_Zodiac","./DealWinProcess_Zodiac":"DealWinProcess_Zodiac"}],DealWinProcess_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"423acNsnM/PxMIGSMHGWnr7","DealWinProcess_Zodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0}),i.eManPullJPState=i.eLuckyPrizeID=i.eTransScoreMode=i.eShowLinesMode=i.ePreObj=i.eTransScoreKey=void 0;var m,r,_,s,c,l=e("./DataManager_Zodiac"),h=e("./DealSpecial_Zodiac"),S=e("./GameLogic_Zodiac");(function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanGetScoreFast=1]="eSK_CanGetScoreFast",e[e.eSK_CanGetScoreAll=2]="eSK_CanGetScoreAll"})(m=i.eTransScoreKey||(i.eTransScoreKey={})),function(e){e[e.ePO_None=-1]="ePO_None",e[e.ePO_ItemAnim=0]="ePO_ItemAnim",e[e.ePO_LinesFra=1]="ePO_LinesFra",e[e.ePO_Bouns=2]="ePO_Bouns",e[e.ePO_ItemWILD=3]="ePO_ItemWILD",e[e.ePO_ItemAnim_1=4]="ePO_ItemAnim_1",e[e.ePO_Bouns_1=5]="ePO_Bouns_1",e[e.ePO_MaxValue=6]="ePO_MaxValue"}(r=i.ePreObj||(i.ePreObj={})),function(e){e[e.eSLM_HideAll=0]="eSLM_HideAll",e[e.eSLM_ShowAll=1]="eSLM_ShowAll",e[e.eSLM_ShowAllGen=2]="eSLM_ShowAllGen",e[e.eSLM_HideAllGen=3]="eSLM_HideAllGen",e[e.eSLM_ShowSingle=4]="eSLM_ShowSingle",e[e.eSLM_HideSingle=5]="eSLM_HideSingle",e[e.eSLM_ShowFS=6]="eSLM_ShowFS",e[e.eSLM_ShowFSOut=7]="eSLM_ShowFSOut",e[e.eSLM_ShowWILD=8]="eSLM_ShowWILD"}(_=i.eShowLinesMode||(i.eShowLinesMode={})),function(e){e[e.eTSM_None=-1]="eTSM_None",e[e.eTSM_GameToWin=0]="eTSM_GameToWin",e[e.eTSM_GenWinToCredit=1]="eTSM_GenWinToCredit",e[e.eTSM_FSMedTotalWinToCredit=2]="eTSM_FSMedTotalWinToCredit",e[e.eTSM_MedToWin=3]="eTSM_MedToWin",e[e.eTSM_JPToCredit=4]="eTSM_JPToCredit"}(s=i.eTransScoreMode||(i.eTransScoreMode={})),function(e){e[e.e_None=-1]="e_None",e[e.e_LP_0=0]="e_LP_0",e[e.e_LP_1=1]="e_LP_1",e[e.e_LP_2=2]="e_LP_2",e[e.e_LP_3=3]="e_LP_3",e[e.MaxValue=4]="MaxValue"}(c=i.eLuckyPrizeID||(i.eLuckyPrizeID={}));var u,d=cc._decorator,p=d.ccclass;d.property,function(e){e[e.eMPJPS_None=0]="eMPJPS_None",e[e.eMPJPS_Timer=1]="eMPJPS_Timer",e[e.eMPJPS_JPPro=2]="eMPJPS_JPPro"}(u=i.eManPullJPState||(i.eManPullJPState={}));var g=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_eTransScoreMode=s.eTSM_None,a.m_eeTransScoreModeJP=s.eTSM_None,a.m_bIsJPTransScoreing=!1,a.m_eManPullJPState=u.eMPJPS_None,a.m_list_PrizeInfos=[],a.m_list_ScatterInfos=[],a.m_list_AnimItemCtrlShowing=[],a.m_list_AnimItemBonusCtrlShowing=[],a.m_list_ItemCtrlShowing=[],a.m_list_gItemFraShowing=[],a.m_ary_imagBG=new Array(2),a.m_iExplodeMax=0,a.m_iAllAwardsID=-1,a.m_iJackpotId=-1,a.m_dJackpotScore=0,a.m_iBonusID=0,a.m_iFSCountTotal=0,a.m_iFSCountUesed=0,a.m_iFSCountAdd=0,a.m_iFSCountLave=0,a.m_iFSTrigLinesCount=0,a.m_iNextGameSpecialOdds=0,a.m_dTableScore=0,a.m_dUserPoint=0,a.m_dWinScoreCur=0,a.m_dTempWinScoreCur=0,a.m_dGameWinScoreCur=0,a.m_dTotalWinScoreCur=0,a.m_dFSTotalWinScore=0,a.m_bIsShowLinesFra=!1,a.m_bIsCanStopLine=!1,a.m_fNextLineToTalTime=1,a.m_bIsPullJPAbled=!1,a.m_Image_Baground=[],a.m_OutWinScoreNumCtrl=new Array(3),a.m_Button_Set=null,a.m_Panel_Set=null,a.m_Mask_Set=null,a.m_Widget_m_ButtonSet=null,a.m_Widget_PanelSet=null,a.m_Toggle_SoundOn=null,a.m_Toggle_SoundOff=null,a.m_dic_iqPreObj=new Map,a.m_list_gAnimItemShowing=[],a.m_list_gAnimItemBonusShowing=[],a.m_list_gAnimWildShowing=[],a.m_IsShowDonateMessage=!1,a.mTransScoreKey=m.eSK_None,a.isShowSymbol=!0,a.m_list_ItemNormalImage=[],a.m_bIsWinSpecialWaitPlayOver=!1,a.m_Button_Select=[],a.m_FSCardSelectIndex=0,a.waitSelectTimeNum=50,a.m_bChangeAward=!1,a.m_FSFireAddNum=0,a.m_Panel_itemBG=null,a.m_ary_SpBGRes=[],a.mWildMap=new Map,a.m_list_gAnimItemNumCtrl=[],a.m_dic_iqNumCtrl=new Map,a.m_ary_SprFireNum=new Array(12),a.m_list_icPairNumSpe=new Map,a.m_arys_ScatterNode=new Array,a.m_arys_ScatterNumCtrl=new Array,a.m_ITopBar=null,a.soundParticle=null,a.m_bIsShowJPLoongAnim=!1,a.m_dPreSubNumJP=0,a.m_dSubNumDvaJP=0,a.m_bIsWinFSWaitPlayOver=!1,a.m_bIsTurntableStoped=!1,a.m_bIsTurnOverStoped=!1,a.m_bIsJcakpotOK=!1,a.m_soundCJ=null,a.m_gameInfoImage=[],a.m_gameInfoIndex=0,a.curFireBallNum=0,a.m_FireBallEndPosx=[-250,0,250];var o=t[0];a.m_Logic=o,a.m_arys_ItemResult=a.m_Logic.m_arys_ItemResult;for(var n=r.ePO_None+1;n<r.ePO_MaxValue;n++)a.m_dic_iqPreObj.set(n,[]),a.m_dic_iqNumCtrl.set(n,[]);return a.m_DealSpecial=new h.default(o),a.ClearScatterNode(),a}return o(t,e),Object.defineProperty(t.prototype,"M_bIsWinSpecialWaitPlayOver",{get:function(){return this.m_bIsWinSpecialWaitPlayOver},set:function(e){this.m_bIsWinSpecialWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.m_Logic.onDestroy(),this.m_TransScoreCtrl.onDestroy(),this.m_TransScoreCtrlJP.onDestroy(),this.m_DealSpecial.onDestroy()},t.prototype.Final=function(){this.m_ary_SprItems=null,this.m_ary_SprItemPanel=null},t.prototype.MyUpdate=function(){},t.prototype.ResetParam=function(){this.m_bIsCanStopLine=!1},t.prototype.UpdateTableScore=function(e){void 0===e&&(e=0)},t.prototype.ShowFSTimesUsed=function(){this.m_FSTimesUsedCtrl.ShowNum1(this.m_iFSCountUesed,!0,-1,!1)},t.prototype.ShowFSTimesTotal=function(){this.m_FSTotalTimes.ShowNum1(this.m_iFSCountTotal,!0,-1,!1)},t.prototype.ShowTableScore=function(){this.m_Logic.game.iGameBase.isNoWin()?this.ShowUserPoint():this.ShowImageNum(this.m_ShowTotalWinNumCtrl,this.m_dTableScore)},t.prototype.ShowGameWin=function(e){void 0===e&&(e=0),this.ShowImageNum(this.m_ShowGameWinNumCtrl,e)},t.prototype.ShowMidWin=function(e){this.m_transMidBigWinP.active=!0,this.ShowImageNum(this.m_MedBigWinScoreNumCtrl,e)},t.prototype.ShowUserPoint=function(){this.ShowImageNum(this.m_ShowCreditCtrl,this.m_dUserPoint)},t.prototype.ShowMultiple=function(){},t.prototype.ShowImageNum=function(e,t){e.ShowNum1(t,!0,0,!1)},t.prototype.SetStopLine=function(e){this.m_bIsShowLinesFra&&(this.m_bIsCanStopLine=e)},t.prototype.ShowLottery=function(){var e=this;this.m_dWinScoreCur>0&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?this.scheduleOnce(function(){e.DealWinEff(e.m_dWinScoreCur)},l.m_Delay2):this.DealWinEff(this.m_dWinScoreCur)},t.prototype.DealWinEff=function(e){if(e>0&&this.m_list_PrizeInfos.length>0){this.m_list_AnimItemCtrlShowing=[],this.m_list_ItemCtrlShowing=[],this.m_list_gItemFraShowing=[],this.m_bIsShowLinesFra=!0,this.m_eManPullJPState=u.eMPJPS_Timer;var t=0;this.SetLineFAndItemAnimAct(_.eSLM_ShowAllGen,-1,e);var i=this.m_fNextLineToTalTime;this.ShowWinEff(e);var a=function(){this.m_bIsCanStopLine?(this.unschedule(a),this.m_bIsShowLinesFra=!1,e>0&&(this.m_dWinScoreCur=0,this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&this.ShowGameWin()),this.m_Logic.m_GameState==S.eGameState.eGS_TransGameMode?this.SetLineFAndItemAnimAct(_.eSLM_HideAllGen):this.DealWinEff_Reset()):(this.SetLineFAndItemAnimAct(_.eSLM_HideAllGen),this.SetLineFAndItemAnimAct(_.eSLM_ShowSingle,this.m_list_PrizeInfos[t].line),++t==this.m_list_PrizeInfos.length&&(t=0))};this.schedule(a,i)}else this.ShowWinEff(e)},t.prototype.ShowWinEff=function(e){if(e>0)switch(this.m_Logic.m_PrizeType){case S.ePrizeType.ePT_None:break;case S.ePrizeType.ePT_General:case S.ePrizeType.ePT_Small:case S.ePrizeType.ePT_Medium:case S.ePrizeType.ePT_Big:case S.ePrizeType.ePT_AllAward:if(e>0){var t;this.m_Logic.m_DealSound&&(t=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_GameWinTrans,this.m_Logic.m_iSeatID,!1,!0)),this.m_AddShowNum=this.m_ShowGameWinNumCtrl,this.m_SubShowNum=null,this.m_eTransScoreMode=s.eTSM_GameToWin,this.mTransScoreKey=m.eSK_CanGetScoreFast;var i=function(){var i=this;this.m_eTransScoreMode=s.eTSM_None,this.mTransScoreKey=m.eSK_None,this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(t,this.m_Logic.m_iSeatID),cc.log("====ShowWinEff  \u663e\u793a\u5f97\u5206\u7279\u6548",this.m_dUserPoint),this.m_Logic.m_DealSound&&(t=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_TotalWinTrans,this.m_Logic.m_iSeatID,!1,!1)),this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?(this.ShowTableScore(),this.ShowWinScoreAnim(1),this.m_Logic.m_PrizeType>S.ePrizeType.ePT_General?this.scheduleOnce(function(){i.m_eTransScoreMode=s.eTSM_MedToWin,i.mTransScoreKey=m.eSK_CanGetScoreFast,i.m_SubShowNum=null,i.m_Logic.m_PrizeType==S.ePrizeType.ePT_Small?(i.m_transMidSmallWinP.active=!0,i.m_AddShowNum=i.m_MedSmallWinScoreNumCtrl,i.m_Logic.m_DealSound&&(t=i.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_SmallWin,i.m_Logic.m_iSeatID,!0,!1))):i.m_Logic.m_PrizeType==S.ePrizeType.ePT_Medium?(i.m_transMidMiddleWinP.active=!0,i.m_AddShowNum=i.m_MedMiddleWinScoreNumCtrl,i.m_Logic.m_DealSound&&(t=i.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_MiddleWin,i.m_Logic.m_iSeatID,!0,!1))):(i.m_transMidBigWinP.active=!0,i.m_AddShowNum=i.m_MedBigWinScoreNumCtrl,i.m_Logic.m_DealSound&&(t=i.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_BigWin,i.m_Logic.m_iSeatID,!0,!1))),i.m_TransScoreCtrl.TransScore(e,0,function(){i.m_transMidMiddleWinP.active=!1,i.m_transMidSmallWinP.active=!1,i.m_transMidBigWinP.active=!1,i.m_eTransScoreMode=s.eTSM_None,i.mTransScoreKey=m.eSK_None,i.m_Logic.m_DealSound&&i.m_Logic.m_DealSound.SEStop(t,i.m_Logic.m_iSeatID),i.ShowWinEnd(e)})},l.m_Delay2):this.ShowWinEnd(e)):(this.isHaveFireBall()?this.m_dGameWinScoreCur+=e-this.m_FSFireBallTotalWinScore:this.m_dGameWinScoreCur+=e,this.ShowWinEnd(e))};this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?this.m_TransScoreCtrl.TransScore(e,0,i):this.isHaveFireBall()?(this.m_FSFireBallTotalWinScore=0,this.showFreeGameFireBallWinScore(function(){this.m_TransScoreCtrl.TransScore(e-this.m_FSFireBallTotalWinScore,this.m_dGameWinScoreCur,i)})):this.m_TransScoreCtrl.TransScore(e,this.m_dGameWinScoreCur,i)}}else this.ShowWinEnd(e)},t.prototype.ShowWinEnd=function(e){!this.m_bIsPullJPAbled&&this.m_iJackpotId>c.e_None&&this.m_iJackpotId<c.MaxValue&&(this.SetLineFAndItemAnimAct(_.eSLM_HideAll),this.GetCJ(this.m_iJackpotId));var t=function(){this.m_iFSCountAdd>0&&this.ShowWinEnd_FSCountAdd(e),this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame?(this.m_playingWinEffect=!1,cc.log("====ShowWinEff  \u8fdb\u5165\u514d\u8d39\u6e38\u620f",e),this.ShowTableScore(),this.m_Logic.sendWaitBound(),this.m_Text_LinesScores.string="Click play to start"):this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?this.ShowWinEnd_FS2General(e):this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTN_SpecialGame?(cc.log("====ShowWinEff  \u8fdb\u5165\u7279\u6b8a\u6e38\u620f",e),this.ShowTableScore(),this.m_Logic.sendWaitSpecial()):this.m_iFSCountAdd<=0&&(cc.log("====ShowWinEff  \u8fdb\u5165\u6e38\u620f",e),this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame&&this.ShowTableScore(),this.m_bIsShowLinesFra?this.SetStopLine(!0):this.DealWinEff_Reset())},i=function(){this.m_bIsPullJPAbled||!this.m_bIsPullJPAbled&&this.m_iJackpotId>c.e_None||(this.unschedule(i),t.call(this))};this.schedule(i,1)},t.prototype.ShowWinEnd_FSCountAdd=function(){var e=this;this.m_bIsWinFSWaitPlayOver=!1,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.SetLineFAndItemAnimAct(_.eSLM_ShowFS);var t=function(){this.m_bIsWinFSWaitPlayOver&&(this.unschedule(t),this.m_gAddFS.active=!1,this.m_gLinesMask.active=!1,this.m_gFSParBG.active=!1,this.ShowFSTimesTotal(),this.m_iFSCountAdd=0,this.ResetParam(),this.m_Logic.WaitFreeGameSelect())};this.scheduleOnce(function(){e.m_FSAddTimesCtrl.ShowNum1(e.m_iFSCountAdd,!0,-1,!1),e.m_gAddFS.active=!0,e.m_gFSParBG.active=!0,e.SetLineFAndItemAnimAct(_.eSLM_HideAll),e.schedule(t,l.m_Delay1),e.m_Logic.SetStartWaitPlay()},l.m_Delay3)},t.prototype.ShowWinEnd_FS2General=function(e){var t=this;this.m_Logic.SetTransMode(),this.SetStopLine(!0);var i=null;this.m_Logic.m_DealSound&&(i=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_BigWinCoinsLoop,this.m_Logic.m_iSeatID,!1,!0)),this.m_bIsWinFSWaitPlayOver=!1,this.m_gFSUseP.active=!1,this.m_OutFS.active=!0,this.m_gFSParBG.active=!0,this.m_eTransScoreMode=s.eTSM_MedToWin,this.mTransScoreKey=m.eSK_CanGetScoreFast,this.m_SubShowNum=null;var a=this.m_dFSTotalWinScore;this.m_AddShowNum=this.m_OutWinScoreNumCtrl[0],this.ShowImageNum(this.m_AddShowNum,a),this.m_Image_Baground[0].active=!0,this.m_Image_Baground[1].active=!1,this.m_Panel_itemBG.spriteFrame=this.m_ary_SprItemPanel[0],this.m_Text_LinesScores.string="Congratulation! You won "+this.m_Logic.game.iGameBase.getNum(a,!1),this.m_TransScoreCtrl.TransScore(a,0,function(){t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.SEStop(i,t.m_Logic.m_iSeatID),t.m_Logic.m_DealSound&&(i=t.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FreeEnd,t.m_Logic.m_iSeatID,!1,!0)),t.scheduleOnce(function(){t.m_OutFS.active=!1,t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.SEStop(i,t.m_Logic.m_iSeatID),t.m_eTransScoreMode=s.eTSM_None,t.mTransScoreKey=m.eSK_None,cc.log("====ShowWinEnd_FS2General  \u8fdb\u5165\u514d\u8d39\u6e38\u620f",e),t.ShowWinScoreAnim(),t.ShowTableScore(),t.m_dFSTotalWinScore=0,t.m_dGameWinScoreCur=0,t.m_OutFS.active=!1,t.m_gFSPar.active=!1,t.m_gFSUseP.active=!1,t.m_gFSParBG.active=!1,t.m_gLinesMask.active=!1,t.m_Logic.m_DealItem.SetSpCurrentGameType(t.m_Logic.m_GameTypeCur),t.ResetParam(),t.SetLineFAndItemAnimAct(_.eSLM_HideAll),t.playMubu(0)},4)})},t.prototype.ActiveLoongAnim=function(){this.m_bIsShowJPLoongAnim=!0},t.prototype.ShowCJ=function(e,t){if(!this.m_JcakpotEffBG.active){switch(this.m_JcakpotEffBG.active=!0,this.m_Logic.m_eStartKey){case S.eStartKey.eSK_StopAllItem:this.m_Logic.m_DealItem.AllStopItem()}this.m_gJackpotPre=this.m_Logic.m_GameSlotJcakpot.PullJcakpot(e,t,this.m_VecTargetJP,cc.v3(1,1,1),cc.v3(2,2,2),!0,2,!1)}},t.prototype.TransCJScore=function(){var e,t=this;this.m_Logic.m_DealSound&&(e=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_GameWinTrans,this.m_Logic.m_iSeatID,!1,!1)),this.m_bIsJPTransScoreing=!0,this.m_eeTransScoreModeJP=s.eTSM_JPToCredit,this.m_SubShowNumJP=this.m_Logic.m_GameSlotJcakpot.GetShowNum();var i=this.m_dUserPoint;this.m_Logic.game.iGameBase.isNoWin()?(this.m_AddShowNumJP=this.m_ShowCreditCtrl,i=this.m_dUserPoint):(this.m_AddShowNumJP=this.m_ShowTotalWinNumCtrl,i=this.m_dTableScore);var a=100*this.m_dJackpotScore;this.m_TransScoreCtrlJP.TransScore(a,i,function(){t.m_bIsJPTransScoreing=!1,t.m_eeTransScoreModeJP=s.eTSM_None,t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.SEStop(e,t.m_Logic.m_iSeatID),t.m_Logic.m_GameSlotJcakpot.ColseJcakpot(t.m_gJackpotPre),t.m_Logic.m_GameSlotJcakpot.StopWinJPEff(t.m_iJackpotId,t.m_Logic.m_ary_dJackpot[t.m_iJackpotId],2),t.m_Logic.m_GameSlotJcakpot.ShowJcakpotNum(t.m_Logic.m_ary_dJackpot,2),t.m_JcakpotEffBG.active=!1,t.m_dJackpotScore=0,t.m_iJackpotId=c.e_None,t.m_bIsPullJPAbled=!1,t.m_eManPullJPState=u.eMPJPS_None,t.m_bIsJcakpotOK=!0,t.m_Logic.sendFinishPayJackpot(),t.m_Logic.m_GameSlotJcakpot.HideCoinWinEff(),t.m_PlayerJP.active=!1,t.m_Logic.m_DealItem.OverWinJP(),t.m_Logic.OnShowMarquee()})},t.prototype.SubTransScore=function(e){switch(this.m_eTransScoreMode){case s.eTSM_GameToWin:case s.eTSM_MedToWin:case s.eTSM_GenWinToCredit:case s.eTSM_FSMedTotalWinToCredit:null!=this.m_SubShowNum&&this.ShowImageNum(this.m_SubShowNum,e)}},t.prototype.AddTransScore=function(e){switch(this.m_eTransScoreMode){case s.eTSM_GameToWin:case s.eTSM_MedToWin:case s.eTSM_GenWinToCredit:case s.eTSM_FSMedTotalWinToCredit:null!=this.m_AddShowNum&&this.ShowImageNum(this.m_AddShowNum,e)}},t.prototype.SubTransScoreJP=function(e){switch(this.m_eeTransScoreModeJP){case s.eTSM_JPToCredit:e>=100*this.m_dJackpotScore&&(this.m_dPreSubNumJP=100*this.m_dJackpotScore),this.m_dSubNumDvaJP=this.m_dPreSubNumJP-e,this.m_dPreSubNumJP=e,this.ShowImageNum(this.m_SubShowNumJP,e),this.m_Logic.game.iGameBase.isNoWin()?this.m_dUserPoint+=this.m_dSubNumDvaJP:this.m_dTableScore+=this.m_dSubNumDvaJP,this.ShowTableScore()}},t.prototype.AddTransScoreJP=function(e){switch(this.m_eeTransScoreModeJP){case s.eTSM_JPToCredit:null!=this.m_AddShowNumJP&&this.ShowImageNum(this.m_AddShowNumJP,e)}},t.prototype.GetWinFast=function(){if(this.m_eTransScoreMode!=s.eTSM_None)switch(this.mTransScoreKey){case m.eSK_None:break;case m.eSK_CanGetScoreFast:this.m_TransScoreCtrl.setScoreState(1),this.mTransScoreKey=m.eSK_CanGetScoreAll;break;case m.eSK_CanGetScoreAll:this.m_TransScoreCtrl.setScoreState(2),this.mTransScoreKey=m.eSK_None}},t.prototype.PlayFreeGame=function(e,t,i,a,o,n,m,r,_,s){var c=this;this.m_Logic.m_GameMode=!1,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.ShowGameWin(),this.m_Logic.m_iBetIndex=e,this.m_Logic.m_DealBetRel.m_iBet=t,this.m_Logic.m_DealBetRel.m_iLines=i,this.m_Logic.m_DealBetRel.m_iBetPct=a,this.m_iFSCountTotal=o,this.m_iFSCountUesed=n,this.m_iNextGameSpecialOdds=m,this.m_iFSTrigLinesCount=r,this.m_Logic.m_DealBetRel.m_fTotalBet=_,this.m_iFSCountLave=this.m_iFSCountTotal-this.m_iFSCountUesed,this.m_Logic.m_DealBetRel.ShowAllData(),this.m_dWinScoreCur=0,this.m_dFSTotalWinScore=s,this.m_dWinScoreCur=this.m_dFSTotalWinScore,cc.log("====PlayFreeGame  \u8fdb\u5165\u514d\u8d39\u6e38\u620f",this.m_dUserPoint),this.ShowTableScore(),this.m_Logic.m_bIsHasFSFromInit||this.m_bChangeAward?(this.normalMiddle.active=!1,this.PlayFreeGame1(!0)):(this.ShowSelectGame(),this.scheduleOnce(function(){c.m_Logic.m_bIsFSWaitSelectCard||c.m_bChangeAward?c.m_bChangeAward&&(c.m_bChangeAward=!1):(c.scheduleOnce(function(){c.ResetSelect()},.5),c.PlayFreeGame1(!0))},this.waitSelectTimeNum))},t.prototype.PlayFreeGame1=function(){var e=this;this.m_Image_Baground[0].active=!1,this.m_Image_Baground[1].active=!0,this.m_Panel_itemBG.spriteFrame=this.m_ary_SprItemPanel[1],this.scheduleOnce(function(){e.ResetParam(),e.ShowFSTimesUsed(),e.ShowFSTimesTotal(),e.m_dGameWinScoreCur+=e.m_dFSTotalWinScore,e.ShowGameWin(e.m_dGameWinScoreCur),e.m_Logic.m_bIsHasFSFromInit||(cc.log("====PlayFreeGame1  \u8fdb\u5165\u514d\u8d39\u6e38\u620f",e.m_dUserPoint),e.ShowTableScore(),e.ShowWinScoreAnim(),e.m_dTempWinScoreCur=0),e.ShowMultiple(),e.m_gFSPar.active=!0,e.m_gFSUseP.active=!0,4==e.m_Logic.m_DealWinPro.m_iFSCountTotal?(e.m_Logic.m_MulFireBall=3,e.m_Image_Multiple_X.spriteFrame=e.m_ary_Mul[0]):6==e.m_Logic.m_DealWinPro.m_iFSCountTotal?(e.m_Logic.m_MulFireBall=2,e.m_Image_Multiple_X.spriteFrame=e.m_ary_Mul[1]):8==e.m_Logic.m_DealWinPro.m_iFSCountTotal&&(e.m_Logic.m_MulFireBall=1,e.m_Image_Multiple_X.spriteFrame=e.m_ary_Mul[2]),e.m_Logic.m_bIsHasFSFromInit&&(e.m_FSFireAddNum=e.m_Logic.GetFSFireBallTotalScore(),cc.error("PlayFreeGame1 this.m_FSFireAddNum=",e.m_FSFireAddNum),e.m_FSFireAddNumCtrl.ShowNum1(e.m_FSFireAddNum,!0,-1,!1));var t=function(){this.m_bIsWinFSWaitPlayOver&&(this.unschedule(t),cc.error("====m_bIsWinFSWaitPlayOver= true====>>>"),this.m_gIntoFS.active=!1,this.m_gFSParBG.active=!1,this.m_gFSUseP.active=!0,this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_FreeGame,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealItem.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Free),this.m_Logic.WaitFreeGameSelect())};e.schedule(t,l.m_Delay1),e.m_Logic.m_bIsHasFSFromInit&&e.scheduleOnce(function(){e.m_Logic.SetStartWaitPlay()},1)},1)},Object.defineProperty(t.prototype,"M_bIsWinFSWaitPlayOver",{get:function(){return this.m_bIsWinFSWaitPlayOver},set:function(e){this.m_bIsWinFSWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.DealWinEff_Reset=function(){this.m_eManPullJPState=u.eMPJPS_None,this.m_gLinesMask.active=!1,this.SetLineFAndItemAnimAct(_.eSLM_HideAll),this.ResetParam(),this.m_Logic.StartIdle(),this.hideItemShowing()},t.prototype.SetTurntableStop=function(){},t.prototype.StartTurntableCallBack=function(){this.m_Logic.m_DealSound&&(this.m_rotateSound=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.reel_spining,this.m_Logic.m_iSeatID,!1,!0))},t.prototype.SetTurnOverStop=function(){cc.log("\u8bbe\u7f6e\u7ffb\u724c\u6d41\u7a0b\u5b8c\u6210"),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(this.m_soundCJ,this.m_Logic.m_iSeatID),this.JPBG.active=!1,this.m_bIsTurnOverStoped=!0,this.m_Logic.sendAskForBeginPayJackpot()},t.prototype.SetJcakpotMoved=function(){this.TransCJScore()},t.prototype.PlayOnClick=function(){this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_JackpotHit,this.m_Logic.m_iSeatID,!1,!0)},t.prototype.GetCJ=function(e){var t=this;this.m_Logic.m_DealItem.ReadyWinJP(),this.scheduleOnce(function(){t.GetCJ1(e)},2)},t.prototype.GetCJ1=function(e){var t=this;this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_CoinBurst,this.m_Logic.m_iSeatID,!1,!0),this.m_iJackpotId=e,this.m_PlayerJP.active=!0,this.JPBG.active=!0,this.JPWinIcon.spriteFrame=this.m_ary_JackpotIcon[this.m_iJackpotId],this.JPWinBg.spriteFrame=this.m_ary_SprBGJackpot[this.m_iJackpotId],this.scheduleOnce(function(){t.m_Logic.m_DealSound&&(t.m_soundCJ=t.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_CoinsFeature,t.m_Logic.m_iSeatID,!0,!1)),t.m_Logic.m_GameSlotJcakpot.ShowAnimsStart(e)},.8)},t.prototype.TransScoreA=function(e,t,i){if(t>-1&&i>0){var a=i;this.m_Logic.m_JackpotsCur[t]=a,this.m_ITopBar.onJackpots(this.m_Logic.m_JackpotsCur),this.ShowCJ(t,100*a);var o=null;this.m_Logic.m_DealSound&&(0==this.m_iJackpotId?o=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_JackpoMini,this.m_Logic.m_iSeatID,!0,!1):1==this.m_iJackpotId?o=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_JackpoMinor,this.m_Logic.m_iSeatID,!0,!1):2==this.m_iJackpotId?o=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_JackpoMajor,this.m_Logic.m_iSeatID,!0,!1):2==this.m_iJackpotId&&(o=this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_JackpoGrand,this.m_Logic.m_iSeatID,!0,!1)));var n=a/100;n<=0&&(n=1);var m=function(){a>0?((a-=n)<0&&(a=0),this.m_Logic.m_JackpotsCur[t]=a,this.m_ITopBar.onJackpots(this.m_Logic.m_JackpotsCur)):(this.unschedule(m),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(o,this.m_Logic.m_iSeatID))};this.schedule(m,.02)}},t.prototype.onSetClick=function(){var e=this;this.m_Panel_Set.active=!0,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Button_Set).to(.25,{position:cc.v3(this.m_Pos_ButtonSet.x+this.m_Width_ButtonSet,this.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=-e.m_Width_ButtonSet,e.m_Button_Set.active=!1,cc.tween(e.m_Panel_Set).to(.25,{position:cc.v3(e.m_Pos_PanelSet.x-e.m_Width_PanelSet,e.m_Pos_PanelSet.y,0)}).call(function(){e.m_Widget_PanelSet.right=0,e.m_Mask_Set.active=!0}).start()}).start()},t.prototype.onMaskClick=function(){var e=this;this.m_Panel_Set.active=!1,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Panel_Set).to(.25,{position:cc.v3(this.m_Pos_PanelSet.x+this.m_Width_PanelSet,this.m_Pos_PanelSet.y,0)}).call(function(){e.m_Mask_Set.active=!1,e.m_Button_Set.active=!0,e.m_Widget_PanelSet.right=-e.m_Width_PanelSet,cc.tween(e.m_Button_Set).to(.25,{position:cc.v3(e.m_Pos_ButtonSet.x-e.m_Width_ButtonSet,e.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=0}).start()}).start()},t.prototype.onSoundClick=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(!e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.InitSound=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.showGamInfoPanel=function(){this.m_PanelRule.active=!0},t.prototype.hideGameInfo=function(){this.m_PanelRule.active=!1},t.prototype.GameInfoNextBtnClick=function(){this.m_gameInfoIndex+1<this.m_gameInfoImage.length&&(this.m_gameInfoIndex+=1),this.showGameInfoItem()},t.prototype.GameInfoPrevBtnClick=function(){this.m_gameInfoIndex-1>=0&&(this.m_gameInfoIndex-=1),this.showGameInfoItem()},t.prototype.showGameInfoItem=function(){for(var e=0;e<this.m_gameInfoImage.length;e++)this.m_gameInfoIndex==e?this.m_gameInfoImage[e].active=!0:this.m_gameInfoImage[e].active=!1},t.prototype.SetLineFAndItemAnimAct=function(e,t,i){switch(void 0===t&&(t=-1),void 0===i&&(i=0),e){case _.eSLM_HideAll:for(var a=0;a<this.m_list_gAnimItemShowing.length;a++){var o=this.m_list_gAnimItemShowing[a];cc.find("AnimBG",o).getComponent(cc.Animation).stop(),o.active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemAnim).push(o)}for(a=0;a<this.m_list_gAnimItemBonusShowing.length;a++)(o=this.m_list_gAnimItemBonusShowing[a]).getComponent(cc.Animation).stop(),o.active=!1,this.m_dic_iqPreObj.get(r.ePO_Bouns).push(o);for(this.m_list_gAnimItemShowing=[],this.m_list_gAnimItemBonusShowing=[],a=0;a<this.m_list_gAnimWildShowing.length;a++)this.m_list_gAnimWildShowing[a].active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemWILD).push(this.m_list_gAnimWildShowing[a]);for(this.m_list_gAnimWildShowing=[],a=0;a<this.m_list_gAnimItemNumCtrl.length;a++){var n=this.m_list_gAnimItemNumCtrl[a];this.m_dic_iqNumCtrl.get(r.ePO_Bouns).push(n)}for(this.m_list_gAnimItemNumCtrl=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].active=!0;this.m_list_ItemNormalImage=[],this.mWildMap.clear();break;case _.eSLM_ShowAll:for(this.m_Text_LinesScores.string="You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1),this.m_Logic.m_bIsWinCJ||this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),a=0;a<this.m_list_PrizeInfos.length;a++)for(var m=this.m_list_PrizeInfos[a].line,s=this.m_list_PrizeInfos[a].ary_ilineFrom,c=0;c<s.length;c++)s[c]>-1&&this.ShowLineFAndItemAnim(c,s[c],m);for(a=0;a<this.m_list_ScatterInfos.length;a++)for(s=this.m_list_ScatterInfos[a].ary_ilineFrom,c=0;c<s.length;c++)s[c]>-1&&this.ShowLineFAndItemAnim(c,s[c],0);break;case _.eSLM_ShowAllGen:for(this.m_Text_LinesScores.string="You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1),this.m_Logic.m_bIsWinCJ||this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),a=0;a<this.m_list_PrizeInfos.length;a++)for(m=this.m_list_PrizeInfos[a].line,s=this.m_list_PrizeInfos[a].ary_ilineFrom,c=0;c<s.length;c++)s[c]>-1&&this.ShowLineFAndItemAnim(c,s[c],m);break;case _.eSLM_HideAllGen:for(a=0;a<this.m_list_gAnimItemShowing.length;a++)o=this.m_list_gAnimItemShowing[a],cc.find("AnimBG",o).getComponent(cc.Animation).stop(),o.active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemAnim).push(o);for(this.m_list_gAnimItemShowing=[],a=0;a<this.m_list_gAnimWildShowing.length;a++)this.m_list_gAnimWildShowing[a].active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemWILD).push(this.m_list_gAnimWildShowing[a]);for(this.m_list_gAnimWildShowing=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].active=!0;this.m_list_ItemNormalImage=[],this.mWildMap.clear();break;case _.eSLM_ShowSingle:if(-1==t)return;for(a=0;a<this.m_list_PrizeInfos.length;a++)if(this.m_list_PrizeInfos[a].line==t){var h=this.m_list_PrizeInfos[a],S=(m=h.line,s=h.ary_ilineFrom,h.point*this.m_Logic.m_DealBetRel.m_iBet);for(this.m_Text_LinesScores.string="You won "+this.m_Logic.game.iGameBase.getNum(S,!1)+" on line "+(m+1).toString(),this.m_Logic.m_bIsWinCJ||this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),c=0;c<s.length;c++)s[c]>-1&&this.ShowLineFAndItemAnim(c,s[c],m);break}break;case _.eSLM_HideSingle:for(a=0;a<this.m_list_gAnimItemShowing.length;a++)o=this.m_list_gAnimItemShowing[a],cc.find("AnimBG",o).getComponent(cc.Animation).stop(),o.active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemAnim).push(o);for(this.m_list_gAnimItemShowing=[],a=0;a<this.m_list_gAnimWildShowing.length;a++)this.m_list_gAnimWildShowing[a].active=!1,this.m_dic_iqPreObj.get(r.ePO_ItemWILD).push(this.m_list_gAnimWildShowing[a]);for(this.m_list_gAnimWildShowing=[],a=0;a<this.m_list_ItemNormalImage.length;a++)this.m_list_ItemNormalImage[a].active=!0;this.m_list_ItemNormalImage=[],this.mWildMap.clear();break;case _.eSLM_ShowFS:for(a=0;a<this.m_list_ScatterInfos.length;a++)for(s=this.m_list_ScatterInfos[a].ary_ilineFrom,c=0;c<s.length;c++)s[c]>-1&&this.ShowLineFAndItemAnim(c,s[c],0,!0)}},t.prototype.ShowLineFAndItemAnim=function(e,t,i,a){if(void 0===i&&(i=-1),void 0===a&&(a=!1),a)return cc.error("\u663e\u793a\u4e2d\u5956\u7ebf\u6846\u4e0eitem\u52a8\u753b"),(m=this.GetPreObj(r.ePO_Bouns)).position=this.m_arys_VecItems[e][t],m.active=!0,m.getComponent(cc.Animation).play(),void this.m_list_gAnimItemBonusShowing.push(m);var o=this.m_Logic.m_arys_ItemResult[e][t];if(o==l.m_iItem_WILD){var n=5*t+e;if(!this.mWildMap.has(n)){var m=this.GetPreObj(r.ePO_ItemWILD),_=cc.find("AnimBG",m);(s=cc.find("Image_ItemAnim",_).getComponent(cc.Sprite)).node.active||(s.node.active=!0),m.position=this.m_arys_VecItems[e][t],s.spriteFrame=this.m_ary_SprItems[o],_.getComponent(cc.Sprite).spriteFrame=this.m_ary_SpBGRes[0],_.getComponent(cc.Animation).play("Anim_Item_WILD"),_.active=!0,m.active=!0,(c=this.m_Logic.m_DealItem.GetImage(e,t)).active=!1,this.m_list_ItemNormalImage.push(c),this.m_list_gAnimWildShowing.push(m),this.mWildMap.set(n,m)}}else{var s,c;m=this.GetPreObj(r.ePO_ItemAnim),_=cc.find("AnimBG",m),(s=cc.find("Image_ItemAnim",_).getComponent(cc.Sprite)).node.active||(s.node.active=!0),m.position=this.m_arys_VecItems[e][t],s.spriteFrame=this.m_ary_SprItems[o],_.getComponent(cc.Sprite).spriteFrame=o>=4&&o<=7?this.m_ary_SpBGRes[o-3]:this.m_ary_SpBGRes[0],_.active=!0,m.active=!0,_.getComponent(cc.Animation).play("Anim_Item_Normal"),(c=this.m_Logic.m_DealItem.GetImage(e,t)).active=!1,this.m_list_ItemNormalImage.push(c),this.m_list_gAnimItemShowing.push(m)}},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case r.ePO_ItemAnim:(i=cc.instantiate(this.m_gItemAnim)).setParent(this.m_transItemAnimP);break;case r.ePO_LinesFra:break;case r.ePO_Bouns:(i=cc.instantiate(this.m_gBounsAnimPrefab)).setParent(this.m_transBounsAnimP);break;case r.ePO_ItemWILD:(i=cc.instantiate(this.m_gItemAnim)).setParent(this.m_transItemAnimP)}(t=i).active=!1}return t},t.prototype.ShowDonateMessage=function(){this.m_Logic.game.iGameBase.ShowDonateMessage()},t.prototype.PlaySpecialGame=function(e,t,i,a,o){var n=this;this.m_Logic.m_GameMode=!0,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinSpecialWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.m_DealSpecial.m_totalTime=o,this.m_Logic.m_bIsHasSpecialFromInit||this.m_bChangeAward?(this.normalMiddle.active=!1,this.PlaySpecialGame1()):(this.ShowSelectGame(),this.scheduleOnce(function(){n.m_Logic.m_bIsHasSpecialFromInit||n.m_bChangeAward?n.m_bChangeAward&&(n.m_bChangeAward=!1):(n.scheduleOnce(function(){n.ResetSelect()},.5),n.PlaySpecialGame1())},this.waitSelectTimeNum))},t.prototype.PlaySpecialGame1=function(){this.m_Logic.m_bIsHasSpecialFromInit||this.m_Logic.InitSpecialItemResult(this.m_Logic.m_arys_ItemResult),this.m_Logic.m_DealItem1.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1),this.m_Logic.m_DealItem1.ShowInitResultSpr(),this.m_DealSpecial.StartAnim();var e=function(){this.m_bIsWinSpecialWaitPlayOver&&(this.unschedule(e),this.ResetParam(),this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTN_SpecialGame,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealItem1.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.m_Logic.WaitSpecialGameSelect(),this.m_Logic.m_DealItem1.ShowInitResultSpr())};this.schedule(e,.1)},t.prototype.BackToGeneral=function(e){var t=this;this.scheduleOnce(function(){t.m_AddShowNum=t.m_ShowGameWinNumCtrl,t.m_eTransScoreMode=s.eTSM_GameToWin,t.mTransScoreKey=m.eSK_CanGetScoreFast,t.isShowSymbol=!0,cc.log("BackToGeneral:",t.m_dFSTotalWinScore+",\u603b\u7403\uff1a"+t.m_FSFireAddNum),t.m_TransScoreCtrl.TransScore(t.m_dFSTotalWinScore,0,function(){cc.log("====BackToGeneral  \u8fdb\u5165\u514d\u8d39\u6e38\u620f",this.m_dUserPoint),this.ShowTableScore(),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEStop(e,this.m_Logic.m_iSeatID),this.ShowWinScoreAnim(),this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealItem1.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.playMubu(0)})},1)},t.prototype.ShowLottery_Special=function(){this.m_DealSpecial.ShowLottery_Special(),this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTN_SpecialGame&&this.m_DealSpecial.OutSpecial()},t.prototype.ShowFireBallAnim=function(){for(var e=0;e<l.m_iItemCol;e++)for(var t=0;t<l.m_iItemRow;t++)this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult[e][t])&&this.AddItemShowing(e,t,!0)},t.prototype.AddItemShowing=function(e,t,i){this.printTime("AddItemShowing");var a=this.GetPreObj(r.ePO_Bouns);a.setPosition(cc.v2(this.m_arys_VecItems[e][t].x,this.m_arys_VecItems[e][t].y));var o=this.m_Logic.m_arys_ItemResult[e][t],n=cc.find("Image_Item",a).getComponent(cc.Sprite),m=cc.find("rotate",a),_=cc.find("Panel_NumPar",a);_.active=!1,n.node.active=!1,m.active=!0;var s=this.GetPreObjNumCtrl(r.ePO_Bouns,a);n.node.active||(n.node.active=!0),n.spriteFrame=this.m_ary_SprItems[this.m_Logic.m_arys_ItemResult[e][t]],_.active=!0;var c=this.m_Logic.GetFireNumStr(o);c>0?s.ShowNum2(c,!0,!1):_.active=!1,a.active=!0,a.getComponent(cc.Animation).play(),this.m_list_gAnimItemBonusShowing.push(a),this.m_list_gAnimItemNumCtrl.push(s),i||(this.m_arys_ScatterNode[e][t]=a,this.m_arys_ScatterNumCtrl[e][t]=s)},t.prototype.AddItemShowing2=function(e,t,i){var a=this.m_arys_ScatterNumCtrl[e][t];if(null!=a){var o=this.m_FSFireAddNum*i;a.ShowNum2(o,!0,!1)}},t.prototype.hideItemShowing=function(){if(this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame||this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame){for(var e=0;e<l.m_iItemCol;e++)for(var t=0;t<l.m_iItemRow;t++)if(this.m_arys_ScatterNode[e][t]){var i=this.m_arys_ScatterNode[e][t];i.getComponent(cc.Animation).stop(),i.active=!1,this.m_dic_iqPreObj.get(r.ePO_Bouns).push(i)}for(e=0;e<l.m_iItemCol;e++)for(t=0;t<l.m_iItemRow;t++)if(this.m_arys_ScatterNumCtrl[e][t]){var a=this.m_arys_ScatterNumCtrl[e][t];this.m_dic_iqNumCtrl.get(r.ePO_ItemAnim).push(a)}}},t.prototype.ShowSelectGame=function(){var e=this;this.m_FSFireAddNumCtrl.ShowNum1(0,!0,-1,!1),this.m_FSTotalWinFireBallNumCtrl.ShowNum1(0,!0,-1,!1),this.m_FSTotalScoreCtrl1.ShowNum1(0,!0,-1,!1),this.m_FSFireAddNum=0,this.normalMiddle.active=!1,this.m_bgCardBottom.active=!1,this.m_bgCardSelect.active=!1,this.m_bgCardBottom1.active=!0,this.m_Frame_Select.active=!1;for(var t=0;t<4;t++)this.m_Button_Select[t].active=!1;this.m_Panel_Select.active=!0,this.ShowFSIntoFireBallTotalNum(),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FreeEnab,this.m_Logic.m_iSeatID,!1,!0),this.scheduleOnce(function(){e.m_Logic.m_DealSound&&e.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_FreeEnab1,e.m_Logic.m_iSeatID,!1,!0),e.scheduleOnce(function(){e.m_Logic.m_DealSound&&e.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_SelectBG,!0),e.m_Logic.m_bIsFSWaitSelectCard=!1,e.m_bgCardSelect.zIndex=cc.macro.MIN_ZINDEX,e.m_bgCardSelect.active=!0;for(var t=0;t<4;t++)e.m_Button_Select[t].zIndex=cc.macro.MIN_ZINDEX+1+t,e.m_Button_Select[t].active=!0;e.m_bgCardBottom.zIndex=cc.macro.MAX_ZINDEX,e.m_bgCardBottom.active=!0,e.m_Frame_Select.active=!1,e.m_Panel_Select.active=!0},1)},8)},t.prototype.CardSelectBtnClick=function(e){var t=this;if(!this.m_Logic.m_bIsFSWaitSelectCard){var i=e.split("_"),a=Number(i[1]);this.m_Logic.m_bIsFSWaitSelectCard=!0,this.m_bgCardSelect.zIndex=cc.macro.MAX_ZINDEX-4,this.m_Button_Select[a].zIndex=cc.macro.MAX_ZINDEX-3,this.m_Frame_Select.position=this.m_Button_Select[a].position,this.m_Frame_Select.zIndex=cc.macro.MAX_ZINDEX-2,this.m_Frame_Select.active=!0,this.m_bgCardBottom.zIndex=cc.macro.MAX_ZINDEX,this.m_bgCardBottom1.zIndex=cc.macro.MAX_ZINDEX-1,this.scheduleOnce(function(){t.m_Logic.sendSelectCard(a)},2)}},t.prototype.ShowFSSelectResultAnim=function(){var e=this;this.scheduleOnce(function(){e.ResetSelect()},.5)},t.prototype.ShowFSIntoFireBallTotalNum=function(){var e=0,t=0,i=0;this.curFireBallNum=0;var a=this.m_Logic.m_arys_ItemResult,o=function(){for(;!this.m_Logic.IsIconSpecial(a[e][t]);)if(e<l.m_iItemCol-1)e++;else if(t<l.m_iItemRow-1)t++,e=0;else if(e==l.m_iItemCol-1&&t==l.m_iItemRow-1){this.unschedule(o),this.ShowFireBallAnim();break}this.m_Logic.IsIconSpecial(a[e][t])&&(this.ShowFSFireBall(e,t,a[e][t],i),i++,e<l.m_iItemCol-1?e++:t<l.m_iItemRow-1?(t++,e=0):e==l.m_iItemCol-1&&t==l.m_iItemRow-1&&this.unschedule(o))};this.schedule(o,1)},t.prototype.ShowFSFireBall=function(e,t,i,a){var o=this;this.FSfireBall.active=!0,this.FSfireBall.position=this.m_arys_VecItems[e][t],cc.tween(this.FSfireBall).to(.3,{position:cc.v3(150,-160,0)}).call(function(){o.FSfireBall.active=!1,o.FSfireEnd.active=!0,o.FSfireEnd.getComponent(cc.Animation).play();var e=o.m_Logic.GetFireNumStr(i);o.curFireBallNum+=e,o.m_FSFireAddNumCtrl.ShowNum1(o.curFireBallNum,!0,-1,!1),o.m_FSTotalScoreCtrl1.ShowNum1(o.curFireBallNum,!0,-1,!1),o.m_FSFireAddNum=o.curFireBallNum,o.m_Logic.m_DealSound&&o.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_RedCoinToBottom_1+a,o.m_Logic.m_iSeatID,!1,!0)}).start()},t.prototype.isHaveFireBall=function(){for(var e=0;e<l.m_iItemCol;e++)for(var t=0;t<l.m_iItemRow;t++){var i=this.m_Logic.m_arys_ItemResult[e][t];if(this.m_Logic.IsIconSpecial(i))return!0}return!1},t.prototype.showFreeGameFireBallWinScore=function(e){void 0===e&&(e=null);var t=0,i=0,a=!1,o=function(){var n=this;for(this.printTime(14);!this.m_Logic.IsIconSpecial(this.m_Logic.m_arys_ItemResult[t][i]);)if(t<l.m_iItemCol-1)t++;else if(i<l.m_iItemRow-1)i++,t=0;else if(t==l.m_iItemCol-1&&i==l.m_iItemRow-1){a=!0,this.unschedule(o),this.scheduleOnce(function(){e.call(n)},2);break}this.m_Logic.IsIconSpecial(this.m_Logic.m_arys_ItemResult[t][i])&&(this.FireBallEndAnim(t,i),t<l.m_iItemCol-1?t++:i<l.m_iItemRow-1?(i++,t=0):t==l.m_iItemCol-1&&i==l.m_iItemRow-1&&(a=!0,this.unschedule(o),this.scheduleOnce(function(){e.call(n)},2)))};o.call(this),a||this.schedule(o,this.m_Logic.m_MulFireBall)},t.prototype.FireBallEndAnim=function(e,t){var i=this.m_Logic.m_DealItem.GetFireNumStr(this.m_Logic.m_arys_ItemResult[e][t]);this.AddItemShowing(e,t,!1);var a=1,o=function(){a<this.m_Logic.m_MulFireBall?(this.AddItemShowing2(e,t,a+1),a++):(this.unschedule(o),n.call(this))},n=function(){var a=this;this.printTime("\u98de\u706b\u7403\u52a8\u753b"),this.FSfireBall.position=this.m_arys_VecItems[e][t],this.FSfireBall.active=!0,cc.tween(this.FSfireBall).to(.3,{position:cc.v3(0,-260,0)}).call(function(){a.FSfireBall.active=!1,a.scheduleOnce(function(){var o=i*a.m_Logic.m_MulFireBall;a.m_Logic.m_DealItem.updateData(e,t,o),a.m_dGameWinScoreCur+=o,a.m_FSFireBallTotalWinScore+=o,a.ShowGameWin(a.m_dGameWinScoreCur),a.FSfireEnd1.active=!1,a.m_Logic.m_DealSound&&a.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Cash,a.m_Logic.m_iSeatID,!1,!1)},.2)}).start()};a>=this.m_Logic.m_MulFireBall?(this.unschedule(o),n.call(this)):this.schedule(o,.5)},t.prototype.ResetSelect=function(){this.playMubu(1)},t.prototype.playMubu=function(e){var t=this;cc.error("playMubu===",e),this.m_Logic.m_DealSound&&this.m_Logic.m_DealSound.SEPlay(l.eAudioName.Sound_Transition,this.m_Logic.m_iSeatID,!1,!1),this.SetLineFAndItemAnimAct(_.eSLM_HideAll),this.m_mubuEffect.getComponent(cc.Animation).play(),cc.tween(this.m_mubuEffect).delay(.01).call(function(){t.m_mubuEffect.active=!0,t.m_mubuEffect.opacity=255}).delay(3).call(function(){t.m_Panel_Select.active=!1}).to(1,{opacity:.3}).call(function(){t.m_mubuEffect.active=!1,0==e?(t.normalMiddle.active=!0,t.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,t.m_Logic.WaitGenGameSelect(),t.m_Logic.m_DealSound&&t.m_Logic.m_DealSound.BGMPlay(l.eAudioName.BGM_Gen,!0)):t.m_Logic.SetStartWaitPlay()}).start()},t.prototype.GetPreObjNumCtrl=function(e,t){var i=null;if(this.m_dic_iqNumCtrl.has(e))if(this.m_dic_iqNumCtrl.get(e).length>0)i=this.m_dic_iqNumCtrl.get(e).pop();else{var a=cc.find("Panel_NumPar",t);i=this.m_Logic.game.iGameBase.NewShowNum(a,this.m_gNumPrefab,this.m_ary_SprFireNum,this.m_list_icPairNumSpe,!0,!0)}return i},t.prototype.ClearScatterNode=function(){this.m_arys_ScatterNode=[];for(var e=0;e<l.m_iItemCol;e++)this.m_arys_ScatterNode[e]=[];for(this.m_arys_ScatterNumCtrl=[],e=0;e<l.m_iItemCol;e++)this.m_arys_ScatterNumCtrl[e]=[]},t.prototype.printTime=function(e){cc.log((new Date).toLocaleTimeString()+",========================:",e)},t.prototype.ShowID=function(e){this.m_IDLabel.string="ID:"+e},t.prototype.ShowWinScoreAnim=function(e){void 0===e&&(e=0),0==e?this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&(this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start())},n([p],t)}(cc.Component);i.default=g,cc._RF.pop()},{"./DataManager_Zodiac":"DataManager_Zodiac","./DealSpecial_Zodiac":"DealSpecial_Zodiac","./GameLogic_Zodiac":"GameLogic_Zodiac"}],GameLogic_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"bf1daWNenEmqDc9dw4hA3ha","GameLogic_Zodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.eBtnState=i.eGameState=i.eShowMode=i.eStartKey=i.ePrizeType=i.eGameTypeNext=i.eGameTypeCur=void 0;var n,m,r,_,s,c,l=e("./DataManager_Zodiac"),h=e("./DealAutoTrans_Zodiac"),S=e("./DealWinProcess_Zodiac");(function(e){e[e.eGTC_General=0]="eGTC_General",e[e.eGTC_FreeGame=1]="eGTC_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"})(n=i.eGameTypeCur||(i.eGameTypeCur={})),function(e){e[e.eGTN_General=0]="eGTN_General",e[e.eGTN_FreeGame=1]="eGTN_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"}(m=i.eGameTypeNext||(i.eGameTypeNext={})),function(e){e[e.ePT_None=0]="ePT_None",e[e.ePT_General=1]="ePT_General",e[e.ePT_Small=2]="ePT_Small",e[e.ePT_Medium=3]="ePT_Medium",e[e.ePT_Big=4]="ePT_Big",e[e.ePT_AllAward=5]="ePT_AllAward"}(r=i.ePrizeType||(i.ePrizeType={})),function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanSpin=1]="eSK_CanSpin",e[e.eSK_StopAllItem=2]="eSK_StopAllItem",e[e.eSK_WinFSWaitPlay=3]="eSK_WinFSWaitPlay",e[e.eSK_WinSpecialWaitPlay=4]="eSK_WinSpecialWaitPlay"}(_=i.eStartKey||(i.eStartKey={})),function(e){e[e.eSM_None=-1]="eSM_None",e[e.eSM_Score=0]="eSM_Score",e[e.eSM_Money=1]="eSM_Money",e[e.Max=2]="Max"}(i.eShowMode||(i.eShowMode={})),function(e){e[e.eGS_None=0]="eGS_None",e[e.eGS_CanChangeBet=1]="eGS_CanChangeBet",e[e.eGS_Playing=2]="eGS_Playing",e[e.eGS_TransGameMode=3]="eGS_TransGameMode"}(s=i.eGameState||(i.eGameState={})),function(e){e[e.eBS_None=0]="eBS_None",e[e.eBS_GenIdle=1]="eBS_GenIdle",e[e.eBS_FSIdle=2]="eBS_FSIdle",e[e.eBS_Playing=3]="eBS_Playing",e[e.eBS_Auto=4]="eBS_Auto",e[e.eBS_Manual=5]="eBS_Manual",e[e.eBS_Trans=6]="eBS_Trans"}(c=i.eBtnState||(i.eBtnState={}));var u=function(e){function t(t,i){var a=e.call(this)||this;a.game=null,a.AwardLines=[],a.freeTimes=0,a.totalFreeTimes=0,a.allWinDouble=!1,a.freeTotalWinScore=0,a.iNextGameSpecialOdds=0,a.freeSpinAddTimes=0,a.m_JackpotsCur=[],a.currentWinScore=0,a.m_GameTypeCur=n.eGTC_General,a.m_GameTypeNext=m.eGTN_General,a.m_GameState=s.eGS_None,a.m_PrizeType=r.ePT_None,a.m_eStartKey=_.eSK_None,a.m_iSeatID=0,a.m_iWinType=0,a.m_arys_ItemResult=new Array,a.m_bIsHasFSFromInit=!1,a.m_bIsBSNeedEnab=!1,a.m_bStartCtrl=!1,a.m_bIsIdle=!1,a.m_flgStart=!1,a.m_ary_dJackpot=new Array(l.m_iJackpotCount),a.m_bBegin=!1,a.isLeave=!1,a.isAccordStand=!1,a.mMarqueelist=[],a.m_GameMode=!1,a.m_arys_ItemResult_1=new Array,a.m_arys_ItemResult_2=new Array,a.m_iBetIndex=0,a.m_iBet=1,a.m_bIsHasSpecialFromInit=!1,a.m_freeReels=[],a.m_reels=[],a.m_bIsFSWaitSelectCard=!1,a.m_MulFireBall=1,a.m_bIsWinCJ=!1,a.fireNum=[8,18,38,68,88,888],a.m_Stage=t,a.m_iSeatID=i;for(var o=0;o<l.m_iItemCol;o++){a.m_arys_ItemResult[o]=[];for(var c=0;c<l.m_iItemRow;c++)a.m_arys_ItemResult[o][c]=0}for(o=0;o<l.m_iItemCol;o++)for(a.m_arys_ItemResult_1[o]=[],a.m_arys_ItemResult_2[o]=[],c=0;c<l.m_iItemRow1;c++)a.m_arys_ItemResult_1[o][c]=0,a.m_arys_ItemResult_2[o][c]=0;return a}return o(t,e),t.prototype.onJackpots=function(e){this.m_JackpotsCur=e,this.game.onJackpots(e)},t.prototype.onBetFail=function(){},t.prototype.onGameScore=function(e){this.m_DealWinPro.m_dTotalWinScoreCur=Math.round(e),this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dTotalWinScoreCur:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur},t.prototype.onUserScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint=t,this.game.iGameBase.isNoWin()&&this.m_DealWinPro.m_iJackpotId>S.eLuckyPrizeID.e_None&&this.m_DealWinPro.m_iJackpotId<S.eLuckyPrizeID.MaxValue&&(this.m_DealWinPro.m_dUserPoint-=100*this.m_DealWinPro.m_dJackpotScore)},t.prototype.OnUpScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint+=t,cc.log("====onUserScore\u4e0a\u5206\uff1a",e),this.m_DealWinPro.ShowUserPoint()},t.prototype.OnShowMarquee=function(){this.game.iGameBase.OnShowMarquee()},t.prototype.showInitResult=function(e){this.SetItemResult(e)},t.prototype.onTransScoreInfo=function(e,t){e?(this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur-t,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowUserPoint(),cc.log("====>>\u8f6c\u6362\u5206\u6570\u6210\u529f,\u5f53\u524d\u5269\u4f59\u8d62\u5206\uff1a"+this.m_DealWinPro.m_dTotalWinScoreCur+",\u5f53\u524d\u684c\u9762\u5206\uff1a"+this.m_DealWinPro.m_dTableScore)):cc.log("====>>\u8f6c\u6362\u5206\u6570\u5931\u8d25")},t.prototype.sendChangeBet=function(e){this.game.iGameBase.sendChangeBet(e)},t.prototype.sendRun=function(){this.game.iGameBase.sendRun()},t.prototype.sendTransScore=function(e){this.game.iGameBase.sendTransScore(e)},t.prototype.onWinJackpot=function(e,t){if(e>-1&&t>0){this.m_bIsWinCJ=!0,this.m_DealWinPro.m_iJackpotId=e;var i=Math.round(100*t)/100;this.m_DealWinPro.m_dJackpotScore=i,cc.log("this.m_DealWinPro.m_dJackpotScore",this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.m_dJackpotScore),cc.log("\u4e2d\u5b8c\u5f69\u91d1\u540e:",this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.m_dJackpotScore)}else cc.log("====onWinJackpot====\u8d62\u5f69\u91d1\uff1a"+e+","+t)},t.prototype.onPayJackpot=function(e){cc.log("====onPayJackpot=====");var t=this.m_DealWinPro.m_dJackpotScore;cc.log("====onPayJackpot====\u62c9\u5f69\u91d1\uff1a"+t),this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur+100*t,this.m_DealWinPro.TransScoreA(e,this.m_DealWinPro.m_iJackpotId,Number(t.toFixed(2)))},t.prototype.onWaitBonus=function(e,t,i,a,o,n,m,r,_,s,c,l,h){this.m_freeReels=h,this.m_DealWinPro.PlayFreeGame(e,t,i,a,o,n,_,s,c,l)},t.prototype.sendAskForBeginPayJackpot=function(){var e=this.m_DealWinPro.m_dJackpotScore;cc.log("====onPayJackpot====\u62c9\u5f69\u91d1\uff1a"+e),this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur+100*e,this.m_DealWinPro.TransScoreA(this.game.iGameBase.getUserID(),this.m_DealWinPro.m_iJackpotId,Number(e.toFixed(2)))},t.prototype.sendFinishPayJackpot=function(){this.m_bIsWinCJ=!1,cc.log("====sendAskForBeginPayJackpot====="),this.game.iGameBase.sendFinishPayJackpot()},t.prototype.sendWaitBound=function(){cc.log("====sendAskForBeginPayJackpot====="),this.game.iGameBase.sendWaitBound()},t.prototype.onGameMaxWinScore=function(){},t.prototype.onSelectCardLast=function(){},t.prototype.onSelectCard2=function(){},t.prototype.UpdateGameSlot=function(){this.m_bStartCtrl&&(this.m_GameMode?this.m_DealItem1.UpdateState():this.m_DealItem.UpdateState(),this.m_bIsIdle&&this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Auto&&(this.m_GameTypeCur==n.eGTC_General?this.m_DealWinPro.m_dUserPoint>=this.m_DealBetRel.m_fTotalBet?(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin()):(cc.log("===UpdateGameSlot----\u81ea\u52a8\u53d8\u6210\u624b\u52a8\uff01"),this.m_DealAutoTrans.IsAutoPlay(h.ePlayMode.ePM_Man),this.StartIdle(),this.m_DealWinPro.ShowDonateMessage()):this.m_GameTypeCur==n.eGTC_FreeGame&&this.m_DealWinPro.M_bIsWinFSWaitPlayOver?(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin()):this.m_GameTypeCur==n.eGTN_SpecialGame&&this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver&&(this.m_DealWinPro.m_Text_LinesScores.string="Good Luck",this.OnSpin())),this.m_GameMode?this.m_DealItem1.DealTransStop():this.m_DealItem.DealTransStop(),this.m_DealWinPro.MyUpdate(),this.m_GameSlotJcakpot.UpdateSlotJcakpot())},t.prototype.OnKeyStartAction=function(){if(this.game.iGameBase.GetConnected())switch(this.m_eStartKey){case _.eSK_None:break;case _.eSK_CanSpin:this.OnManualSpin(),this.m_GameTypeCur!=n.eGTC_FreeGame&&this.m_DealWinPro.ShowGameWin();break;case _.eSK_StopAllItem:this.m_DealItem.AllStopItem();break;case _.eSK_WinFSWaitPlay:this.m_DealWinPro.M_bIsWinFSWaitPlayOver=!0,this.m_eStartKey=_.eSK_None;break;case _.eSK_WinSpecialWaitPlay:this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!0,this.m_eStartKey=_.eSK_None;break;default:cc.log("default")}},t.prototype.OnManualSpin=function(){switch(this.m_GameState){case s.eGS_None:if(this.m_DealAutoTrans.m_ePlayMode!=h.ePlayMode.ePM_Man)return;break;case s.eGS_CanChangeBet:break;default:return}this.OnSpin()},t.prototype.OnSpin=function(){this.ChangeGameState(s.eGS_Playing)},t.prototype.ShowLottery=function(){switch(this.m_GameState){case s.eGS_Playing:this.m_DealItem.ResetParam(),this.m_DealWinPro.ShowLottery()}},t.prototype.StartIdle=function(){this.m_GameState=s.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0,this.m_GameTypeCur==n.eGTC_General?this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Man?(this.SetBtnState(c.eBS_GenIdle),this.m_GameState=s.eGS_CanChangeBet):this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Auto&&this.SetBtnState(c.eBS_Auto):this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Man&&this.SetBtnState(c.eBS_Auto)},t.prototype.SetBtnState=function(e){switch(e){case c.eBS_None:break;case c.eBS_GenIdle:this.m_DealAutoTrans.SetBtnStartSpinState(!0),this.m_DealAutoTrans.SetBtnAutoSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!0,this.m_DealBetRel.m_BtnBetSub.interactable=!0,this.m_DealWinPro.m_BtnTransScore.interactable=!0;break;case c.eBS_FSIdle:this.m_DealAutoTrans.SetBtnAutoSpinState(!0),this.m_DealAutoTrans.SetBtnStartSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1;break;case c.eBS_Playing:this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Auto?(this.m_DealAutoTrans.SetBtnAutoSpinState(!0),this.m_DealAutoTrans.SetBtnStartSpinState(!1)):(this.m_DealAutoTrans.SetBtnAutoSpinState(!0,!1),this.m_DealAutoTrans.SetBtnStartSpinState(!1)),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1;break;case c.eBS_Auto:this.m_DealAutoTrans.SetBtnAutoSpinState(!0);break;case c.eBS_Manual:break;case c.eBS_Trans:this.m_DealAutoTrans.SetBtnAutoSpinState(!0,!1),this.m_DealAutoTrans.SetBtnStartSpinState(!0,!1),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1}},t.prototype.DataInit=function(e,t,i,a,o,n,r,_,s,c,h,S){if(cc.log("===DataInit this.BonusID == "+o),2==o){this.showInitResult(S),this.SetItemSpecialResult(S),this.m_DealWinPro.m_DealSpecial.SetScatterData_1(this.m_arys_ItemResult_1);for(var u=0;u<l.m_iItemCol;u++)for(var d=0;d<l.m_iItemRow1;d++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][d]>0)this.m_arys_ItemResult_1[u][d]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][d];else{var p=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[u][d]=p}}else this.showInitResult(S);this.ResetParam(),this.SetBetIndex(e,t),this.m_DealBetRel.m_iBet=t,this.m_DealBetRel.m_iLines=i,this.m_DealWinPro.m_iBonusID=o,this.m_DealBetRel.m_fTotalBet=c,this.m_DealWinPro.m_dFSTotalWinScore=h,this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.m_GameTypeNext=0==o?m.eGTN_General:1==o?m.eGTN_FreeGame:m.eGTN_SpecialGame,this.m_GameTypeNext==m.eGTN_FreeGame?this.m_bIsHasFSFromInit=!0:this.m_GameTypeNext==m.eGTN_SpecialGame?this.m_bIsHasSpecialFromInit=!0:(this.m_bIsHasFSFromInit=!1,this.m_bIsHasSpecialFromInit=!1,this.m_DealWinPro.m_dFSTotalWinScore=0),this.m_DealWinPro.m_dWinScoreCur=0,this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowGameWin(),this.m_DealWinPro.ShowUserPoint(),this.m_GameTypeNext!=m.eGTN_SpecialGame?(this.m_DealWinPro.m_DealSpecial.CheckResult(),this.m_DealItem.SetAllItemResult(this.m_arys_ItemResult),this.m_DealItem.ShowInitResultSpr()):(this.m_DealItem.SetAllItemResult(this.m_arys_ItemResult),this.m_DealItem.ShowInitResultSpr()),this.game.iGameBase.EmitEvent("InitSceneComplete",null)},t.prototype.ResetParam=function(){},t.prototype.SetItemResult_1=function(e){for(var t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow;i++){var a=e[t][i];this.m_arys_ItemResult[t][i]=this.TransitionItem(a)}this.SetRollEffData()},t.prototype.SetItemResult=function(e){for(var t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow;i++){var a=e[t][i];this.m_arys_ItemResult[t][i]=this.TransitionItem(a)}},t.prototype.DataInitOk=function(){if(this.m_bIsHasFSFromInit)this.sendWaitBound();else if(this.m_bIsHasSpecialFromInit)this.sendWaitSpecial();else{switch(this.AddAction(),this.m_GameState){case s.eGS_Playing:}this.StartInitIdle(),this.m_GameTypeCur!=n.eGTC_FreeGame&&this.m_DealSound&&this.m_DealSound.BGMPlay(l.eAudioName.BGM_Gen,!0),this.m_bStartCtrl=!0}},t.prototype.SetResult=function(e,t,i,a,o,n,r,_,s,c,l,h,S,u){if(this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealWinPro.m_iBonusID=a,this.m_iWinType=o,this.SetAllAwardsID(n),this.m_DealBetRel.m_fTotalBet=_,this.SetItemResult(h),this.SetPrizeInfos(S),this.SetScatterInfos(u),2==a){for(var d=0,p=this.m_DealWinPro.m_list_ScatterInfos,g=0;g<p.length;g++)d+=p[g].point*this.m_DealBetRel.m_iBet;this.m_DealWinPro.m_dWinScoreCur=s>=d?s-d:s,cc.error("\u666e\u901a\u7ed3\u679c,\u8d62\u5206\uff1a",s,d),this.m_DealWinPro.m_dTempWinScoreCur=s}else 1==a?this.m_DealWinPro.m_dTempWinScoreCur=s:this.m_DealWinPro.m_dWinScoreCur=s;this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dUserPoint-this.m_DealBetRel.m_fTotalBet,0==this.game.iGameBase.isNoWin()&&(this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),0==a?this.m_GameTypeNext=m.eGTN_General:1==a?(this.m_GameTypeNext=m.eGTN_FreeGame,cc.log("\u5373\u5c06,\u514d\u8d39\uff1a")):(this.m_GameTypeNext=m.eGTN_SpecialGame,cc.log("\u5373\u5c06,\u7279\u6b8a")),this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowUserPoint(),this.m_DealWinPro.ShowTableScore(),this.SetWinTypeData(),this.m_DealItem.m_bIsGetResult=!0},t.prototype.SetAllAwardsID=function(e){2==this.m_iWinType?this.m_DealWinPro.m_iAllAwardsID=e>=18?e-2:e>=9?e-9:0==e?l.m_iItem_WILD:1==e?l.m_iItem_WILD:-1:this.m_DealWinPro.m_iAllAwardsID=-1},t.prototype.SetPrizeInfos=function(e){this.m_DealWinPro.m_list_PrizeInfos=[];for(var t=e.length,i=0;i<t;i++){var a=e[i].id,o={id:a=this.TransitionItem(a),line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_PrizeInfos.push(o)}},t.prototype.SetScatterInfos=function(e){this.m_DealWinPro.m_list_ScatterInfos=[];for(var t=e.length,i=0;i<t;i++){var a=e[i].id,o={id:a=this.TransitionItem(a),line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_ScatterInfos.push(o)}},t.prototype.WaitFreeGameSelect=function(){if(this.m_bIsHasFSFromInit)return this.m_bIsHasFSFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.SetBonusResult=function(e,t,i,a,o,n,r,_,s,c,l,h,S,u,d){cc.log("===SetBonusResult BonusID == "+e+",iNextGameSpecialOdds="+_),this.m_DealWinPro.m_iBonusID=e,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=o,this.m_DealWinPro.m_iFSCountUesed=n,this.m_DealWinPro.m_iFSCountAdd=r,this.m_DealWinPro.m_iNextGameSpecialOdds=_,this.m_DealWinPro.m_dWinScoreCur=c,this.m_DealWinPro.m_dFSTotalWinScore=l,this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,0==e&&(this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur)),cc.error("\u514d\u8d39\u7ed3\u679c,\u5f53\u524d\u8d62\u5206\u548c\u603b\u8d62\u5206\uff1a",c,l),this.SetItemResult(S),this.SetPrizeInfos(u),this.SetScatterInfos(d),this.m_GameTypeNext=0==this.m_DealWinPro.m_iBonusID?m.eGTN_General:m.eGTN_FreeGame,this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealItem.m_bIsGetResult=!0},t.prototype.SetSpecialResult=function(e,t,i,a,o,n,r,_,s,c,l,h,S){this.m_DealWinPro.m_iBonusID=e,this.m_DealWinPro.m_DealSpecial.m_totalTime=o,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=o,this.m_DealWinPro.m_iFSCountUesed=n,this.m_DealWinPro.m_iFSCountAdd=r,this.m_DealWinPro.m_dFSTotalWinScore=s,this.m_DealWinPro.m_dWinScoreCur=_,0==e&&(this.m_DealWinPro.m_dTotalWinScoreCur+=s,this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dTotalWinScoreCur:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),cc.log("\u7279\u6b8a\u7ed3\u679c,\u5f53\u524d\u8d62\u5206=",_,"\u548c\u603b\u8d62\u5206=",this.m_DealWinPro.m_dFSTotalWinScore),this.SetItemSpecialResult(l),this.FixSpecialItemResult(),this.SetPrizeInfos(h),this.SetScatterInfos(S),0==e?this.m_GameTypeNext=m.eGTN_General:1==e?this.m_GameTypeNext=m.eGTN_FreeGame:2==e&&(this.m_GameTypeNext=m.eGTN_SpecialGame),this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealItem1.m_bIsGetResult=!0,cc.log("SetSpecialResult:this.m_DealItem1.m_bIsGetResult",this.m_DealItem1.m_bIsGetResult)},t.prototype.ChangeBetResult=function(e,t,i){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData()},t.prototype.ChangeBetPctResult=function(e,t,i,a){this.m_DealBetRel.m_iBetPct=e,this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData(),this.SetUserScore(a)},t.prototype.ChangeBetReleResult=function(e,t,i,a,o){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iBetPct=t,this.m_DealBetRel.m_iLines=i,this.m_DealBetRel.m_fTotalBet=a,this.m_DealBetRel.ShowAllData(),this.SetUserScore(o)},t.prototype.SetUserScore=function(e){var t=e-this.m_DealWinPro.m_dUserPoint;this.m_DealWinPro.m_dUserPoint=e,this.m_DealWinPro.UpdateTableScore(t)},t.prototype.SoundVolResult=function(){},t.prototype.SetWinTypeData=function(){this.m_GameTypeCur==n.eGTC_FreeGame?this.m_PrizeType=r.ePT_Medium:this.SetPrizeType1(this.m_DealWinPro.m_dWinScoreCur)},t.prototype.SetPrizeType=function(){this.m_PrizeType=r.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=r.ePT_AllAward:this.BInTheAward(10,30,!0)?this.m_PrizeType=r.ePT_Medium:this.BInTheAward(5,10)?this.m_PrizeType=r.ePT_Small:this.BInTheAward(30)?this.m_PrizeType=r.ePT_Big:this.m_DealWinPro.m_dWinScoreCur>0&&(this.m_PrizeType=r.ePT_General)},t.prototype.BInTheAward=function(e,t,i){if(void 0===t&&(t=Number.MAX_VALUE),void 0===i&&(i=!1),i&&this.m_GameTypeCur==n.eGTC_FreeGame)return!0;var a=this.m_DealBetRel.m_fTotalBet;return this.m_DealWinPro.m_dWinScoreCur>=e*a&&this.m_DealWinPro.m_dWinScoreCur<t*a},t.prototype.SetPrizeType1=function(e){this.m_PrizeType=r.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=r.ePT_AllAward:this.BInTheAward1(e,10,30)?this.m_PrizeType=r.ePT_Medium:this.BInTheAward1(e,5,10)?this.m_PrizeType=r.ePT_Small:this.BInTheAward1(e,30)?this.m_PrizeType=r.ePT_Big:e>0&&(this.m_PrizeType=r.ePT_General)},t.prototype.BInTheAward1=function(e,t,i){void 0===i&&(i=Number.MAX_VALUE);var a=this.m_DealBetRel.m_fTotalBet;return e>=t*a&&e<i*a},t.prototype.AddAction=function(){this.m_ActOnKeyStop4=this.m_DealBetRel.SubBet,this.m_ActOnKeyStop5=this.m_DealBetRel.AddBet,this.m_ActOnKeyStart=this.OnKeyStartAction,this.m_ActOnKeyAuto=this.m_DealAutoTrans.OnAutoBtn,this.m_ActOnKeyMaxBet=this.m_DealBetRel.MaxBet},t.prototype.RemoveAction=function(){},t.prototype.ChangeGameState=function(e){switch(e){case s.eGS_None:this.IdleRest();break;case s.eGS_Playing:switch(this.m_GameTypeNext){case m.eGTN_General:if(this.m_DealWinPro.m_dUserPoint<this.m_DealBetRel.m_fTotalBet)return cc.log("====ChangeGameState====eGS_Playing \u5206\u4e0d\u591f"),void this.m_DealWinPro.ShowDonateMessage();break;case m.eGTN_FreeGame:this.m_DealWinPro.m_iFSCountUesed+=1,this.m_DealWinPro.ShowFSTimesUsed(),this.m_DealWinPro.ShowMultiple();break;case m.eGTN_SpecialGame:this.m_DealWinPro.m_DealSpecial.m_totalTime-=1,this.m_DealWinPro.m_DealSpecial.ShowSpecialTimesUsed()}this.m_bIsIdle=!1,this.m_GameState=s.eGS_Playing,this.SetPlayingData()}},t.prototype.IdleRest=function(){this.m_eStartKey=_.eSK_CanSpin},t.prototype.SetPlayingData=function(){switch(this.SetBtnState(c.eBS_Playing),this.m_GameTypeNext){case m.eGTN_General:case m.eGTN_FreeGame:case m.eGTN_SpecialGame:this.sendRun()}this.m_eStartKey=_.eSK_StopAllItem,this.m_DealWinPro.m_Text_LinesScores.string="Good Luck"},t.prototype.OnClickBtn=function(e){if(this.m_bStartCtrl)switch(e.name){case"Button_ToLobby":this.isLeave=!0,this.game.iGameBase.onBtnLeaveGame(),this.m_DealWinPro.onDestroy();break;case"Button_RuleClose":this.m_DealWinPro.hideGameInfo();break;case"Button_Rule":this.m_DealWinPro.showGamInfoPanel(),this.m_DealWinPro.onMaskClick();break;case"Button_Sound":this.m_DealWinPro.onSoundClick();break;case"Mask_Set":this.m_DealWinPro.onMaskClick();break;case"Button_Set":this.m_DealWinPro.onSetClick();break;case"Button_Spin":if(!this.game.iGameBase.GetConnected())return void this.onBtnLeaveGame();this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==n.eGTC_General?(this.m_DealSound&&this.m_DealSound.SEPlay(l.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.OnKeyStartAction()):(this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver)&&this.m_DealAutoTrans.SetMan2AutoSpin();break;case"Button_Stop":this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==n.eGTC_General&&this.m_eStartKey==_.eSK_StopAllItem&&this.OnKeyStartAction();break;case"Button_Take":this.m_DealWinPro.GetWinFast();break;case"Button_BetAdd":this.m_DealSound&&this.m_DealSound.SEPlay(l.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.sendChangeBet(1);break;case"Button_BetSub":this.m_DealSound&&this.m_DealSound.SEPlay(l.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.sendChangeBet(-1);break;case"Button_Auto":if(!this.game.iGameBase.GetConnected())return void this.onBtnLeaveGame();if(this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==n.eGTC_General)if(this.m_DealWinPro.ShowGameWin(),this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Man){if(this.m_eStartKey!=_.eSK_CanSpin)return void cc.log("======>>>return this.m_eStartKey != eStartKey.eSK_CanSpin",this.m_eStartKey);this.m_DealSound&&this.m_DealSound.SEPlay(l.eAudioName.Sound_Auto2Man,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(h.ePlayMode.ePM_Auto)}else this.m_DealAutoTrans.m_ePlayMode==h.ePlayMode.ePM_Auto&&(this.m_DealSound&&this.m_DealSound.SEPlay(l.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(h.ePlayMode.ePM_Man),this.m_GameState==s.eGS_Playing?this.SetBtnState(c.eBS_Playing):this.SetBtnState(c.eBS_GenIdle));else this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver?this.m_DealAutoTrans.SetMan2AutoSpin():cc.log("====>>>this.m_DealWinPro.M_bIsWinFSWaitPlayOver = false");break;case"Button_StopAuto":break;case"Button_Turntable":this.m_GameSlotJcakpot.OnRotateTurntable();break;case"Button_TransScore":this.game.iGameBase.ShowDona();break;case"Card_0":case"Card_1":case"Card_2":case"Card_3":this.m_DealWinPro.CardSelectBtnClick(e.name);break;case"Button_RuleRight":this.m_DealWinPro.GameInfoNextBtnClick();break;case"Button_RuleLeft":this.m_DealWinPro.GameInfoPrevBtnClick();break;case"Button_info":cc.log("\u70b9\u51fbinfo\u6309\u94ae"),this.m_DealWinPro.showGamInfoPanel()}},t.prototype.PlayBtnAudio=function(){},t.prototype.Final=function(){this.RemoveAction(),this.m_bStartCtrl=!1},t.prototype.SetRollEffData=function(){},t.prototype.SetJackpotScore=function(){this.m_GameSlotJcakpot.SetWaitJPWin(this.m_DealWinPro.m_iJackpotId),this.m_GameSlotJcakpot.ShowJcakpotNum(this.m_ary_dJackpot,2)},t.prototype.SetStartWaitPlay=function(){this.m_eStartKey!=_.eSK_WinFSWaitPlay&&this.m_eStartKey!=_.eSK_WinSpecialWaitPlay||this.OnKeyStartAction()},t.prototype.WaitGenGameSelect=function(){this.StartInitIdle()},t.prototype.StartInitIdle=function(){this.m_GameTypeCur==n.eGTC_General?this.SetBtnState(c.eBS_GenIdle):this.SetBtnState(c.eBS_FSIdle),this.m_GameState=s.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0},t.prototype.SetTransMode=function(){this.m_GameState=s.eGS_TransGameMode,this.SetBtnState(c.eBS_Trans),this.m_DealAutoTrans.SetAuto2ManSpin()},t.prototype.onBtnLeaveGame=function(){this.game.iGameBase.onBtnLeaveGame()},t.prototype.SetBetIndex=function(e,t){this.m_iBetIndex=e,this.m_iBet=t,this.m_DealItem.SetIBet(this.m_iBet),this.m_DealItem1.SetIBet(this.m_iBet)},t.prototype.SetItemSpecialResult=function(e){for(var t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow1;i++){var a=e[t][i];this.m_arys_ItemResult_1[t][i]=this.TransitionItem(a),this.m_arys_ItemResult_2[t][i]=this.m_arys_ItemResult_1[t][i]}},t.prototype.ShowLottery_Special=function(){switch(this.m_DealSound&&this.m_DealSound.SEStop(this.m_DealItem1.m_SoundSpin,this.m_iSeatID),this.m_GameState){case s.eGS_Playing:this.m_DealItem1.ResetParam(),this.m_DealWinPro.ShowLottery_Special()}},t.prototype.WaitSpecialGameSelect=function(){if(this.m_bIsHasSpecialFromInit)return this.m_bIsHasSpecialFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.InitSpecialItemResult=function(e){this.m_DealWinPro.m_DealSpecial.SetScatterData(e);for(var t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow1;i++)this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i]>0?this.m_arys_ItemResult_1[t][i]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i]:this.m_arys_ItemResult_1[t][i]=e[t][i]},t.prototype.sendWaitSpecial=function(){this.game.iGameBase.sendWaitSpecial()},t.prototype.FixSpecialItemResult=function(){for(var e=0;e<l.m_iItemCol;e++)for(var t=0;t<l.m_iItemRow1;t++)this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[e][t]>0&&(this.m_arys_ItemResult_2[e][t]=this.GetNormalResult())},t.prototype.onWaitSpecial=function(e,t,i,a,o,n,m,r,_,s){cc.log("====onWaitSpecial=====",s),this.m_freeReels=s,this.m_DealWinPro.PlaySpecialGame(e,t,i,a,o,n,m,r,_)},t.prototype.TransitionItem=function(e){var t=0;return e>18?t=e-9:18==e?t=l.m_iItem_AddTimes:e>10?t=e-10:0==e&&(t=l.m_iItem_WILD),t},t.prototype.GetNormalResult=function(){return this.game.iGameBase.SMGlobal_Random(0,8)},t.prototype.IsIconSpecial=function(e){var t=!1;return e>=l.m_iItem_FireBegain&&e<=l.m_iItem_FireEnd&&(t=!0),t},t.prototype.IsIconJackpot=function(){return!1},t.prototype.IsIconSpecialJackpot=function(e){var t=!1;return e>=l.m_iItem_FireBegain&&e<=l.m_iItem_FireEnd&&(t=!0),t},t.prototype.GetFireNumStr=function(e){var t=0;if(e>=l.m_iItem_FireBegain&&e<=l.m_iItem_FireBegain+5){var i=e-l.m_iItem_FireBegain;t=this.fireNum[i]*this.m_iBet}else e==l.m_iItem_AddScore1?t=this.GetTotalFireBallAddScore1():e<=l.m_iItem_FireEnd&&(t=(i=e-l.m_iItem_AddScore1)*this.GetTotalFireBallAddScore1());return t},t.prototype.GetFSFireBallTotalScore=function(){for(var e=0,t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow;i++)this.m_freeReels[t][i]-9>=l.m_iItem_FireBegain&&this.m_freeReels[t][i]-9<=l.m_iItem_FireBegain+5&&(e+=this.GetFireNumStr(this.m_freeReels[t][i]-9));return e},t.prototype.GetTotalFireBallAddScore1=function(){if(this.m_GameTypeCur==n.eGTC_FreeGame)return this.m_DealWinPro.m_FSFireAddNum;for(var e=0,t=0;t<l.m_iItemCol;t++)for(var i=0;i<l.m_iItemRow;i++){var a=this.m_arys_ItemResult[t][i];if(a>=l.m_iItem_FireBegain&&a<=l.m_iItem_FireBegain+5){var o=a-l.m_iItem_FireBegain;e+=this.fireNum[o]*this.m_iBet}}return e},t.prototype.sendSelectCard=function(e){this.game.iGameBase.sendSelectCard(e)},t.prototype.onSelectCard=function(e){cc.log("====onSelectCard====="+e);var t=e;this.m_DealWinPro.m_bChangeAward=!0,this.m_DealWinPro.ShowFSSelectResultAnim(t),this.m_DealWinPro.m_FSCardSelectIndex=t,10==t?this.m_GameTypeNext==m.eGTN_SpecialGame?this.m_DealWinPro.PlaySpecialGame1():(this.m_GameTypeNext=m.eGTN_SpecialGame,this.sendWaitSpecial()):(this.m_DealWinPro.m_iFSCountTotal=t,cc.log("====onSelectCard====m_FSFireAddNum="+this.m_DealWinPro.m_FSFireAddNum+","+this.m_DealWinPro.m_dFSTotalWinScore),this.m_GameTypeNext==m.eGTN_FreeGame?this.m_DealWinPro.PlayFreeGame1(!0):(this.m_GameTypeNext=m.eGTN_FreeGame,this.sendWaitBound()))},t.prototype.updateChangeBet=function(e,t,i){this.SetBetIndex(i,e),this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_fTotalBet=t,this.m_DealBetRel.ShowAllData()},t.prototype.onEnterBackground=function(){this.m_DealAutoTrans&&this.m_DealAutoTrans.SetAuto2ManSpin(),null!=this.game.iGameBase&&this.game.iGameBase.GetConnected()||this.m_DealWinPro.onDestroy()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.m_DealItem.onDestroy()},t.prototype.getWinScore=function(){return this.m_DealWinPro.m_dTotalWinScoreCur},t}(cc.Component);i.default=u,cc._RF.pop()},{"./DataManager_Zodiac":"DataManager_Zodiac","./DealAutoTrans_Zodiac":"DealAutoTrans_Zodiac","./DealWinProcess_Zodiac":"DealWinProcess_Zodiac"}],Game_Zodiac:[function(e,t,i){"use strict";cc._RF.push(t,"3a0c2xXk77k/G9MTaQoD2ct","Game_Zodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0}),i.AssetType=void 0;var m,r=e("./ItemCtrl_CR_FireRes_SpeZodiac"),_=e("./DataManager_Zodiac"),s=e("./DealAutoTrans_Zodiac"),c=e("./DealBetRelevant_Zodiac"),l=e("./DealItemRelevant_Zodiac"),h=e("./DealWinProcess_Zodiac"),S=e("./GameLogic_Zodiac");(function(e){e[e.AT_SpriteFrame=0]="AT_SpriteFrame",e[e.AT_SpriteAtlas=1]="AT_SpriteAtlas",e[e.AT_Prefab=2]="AT_Prefab",e[e.AT_AudioClip=3]="AT_AudioClip"})(m=i.AssetType||(i.AssetType={}));var u=cc._decorator,d=u.ccclass,p=(u.property,function(e){function t(){var t=e.call(this)||this;return t.handlerPriority=2,t.handlerName="SLOT_Zodiac",t.scriptName="Game_Zodiac",t.handlerComName="SLOST_COMMON",t.m_bIsStartUpdate=!1,t.m_SoundSystem=null,t.sceneRate=1,t.GameLogic=new S.default(t,0),t.GameLogic.game=t,t}return o(t,e),t.prototype.setIGameBase=function(e){this.iGameBase=e,this.iGameBase.setMyGameLogic(this.GameLogic,this.iGameBase.GetKindID()),this.iGameBase.CommonUI_RootNode(this.node),this.SetSound(),this.SetGameObject(),this.m_bIsStartUpdate=!0,this.GameLogic.isAccordStand=!1,this.iGameBase.AddHandler(),this.GameLogic.m_DealWinPro.ShowID(this.iGameBase.getUserID())},t.prototype.netWorkDelay=function(){var e=this;cc.error("===netWorkDelay===="),this.m_Signal.active=!0,this.scheduleOnce(function(){e.m_Signal.active=!1},3)},t.prototype.onLoad=function(){},t.prototype.update=function(){this.StageUpdate()},t.prototype.onDestroy=function(){this.GameLogic.isLeave&&null!=this.iGameBase&&this.iGameBase.GetConnected()||this.GameLogic.m_DealWinPro.onDestroy(),this.iGameBase.RemoveHandler(),this.unscheduleAllCallbacks(),this.m_SoundSystem&&(this.m_SoundSystem.ClearAllSound(),this.m_SoundSystem=null),this.GameLogic.Final(),this.GameLogic=null,this.iGameBase.releaseGameRes()},t.prototype.getGameUINode=function(){return null},t.prototype.onJackpots=function(e){this.GameLogic.m_DealWinPro.m_ITopBar&&this.GameLogic.m_DealWinPro.m_ITopBar.onJackpots(e)},t.prototype.SetGameObject=function(){for(var e,t,i,a,o,n,S,u,d,p,g,f,I,P,y,G,T,A,D,C,L,B,v,W,w,R,N,F,M,b,O,k,J,E,x,j,K,Z,U,z,H,V,q,X,Y,Q,$,ee,te,ie,ae,oe,ne,me,re,_e,se,ce,le,he,Se,ue,de,pe,ge,fe,Ie,Pe,ye,Ge,Te,Ae,De,Ce,Le,Be,ve,We,we,Re,Ne,Fe,Me,be,Oe,ke,Je,Ee,xe=new Array(_.m_iJackpotCount),je=new Array,Ke=new Array,Ze=new Array,Ue=new Array(_.m_iLinesCount),ze=new Array(_.m_iItemRow),He=new Array(2),Ve=new Array(12),qe=new Array(12),Xe=new Array(12),Ye=new Array(4),Qe=(new Array(12),null),$e=null,et=null,tt=null,it=[],at=new Array,ot=new Array,nt=new Array,mt=new Array(3),rt=new Array(3),_t=new Array(_.m_iItemResCount-1),st=new Array(9),ct=new Array(_.m_iItemResCount-1),lt=new Array(3),ht=new Array(2),St=new Array(10),ut=new Array(14),dt=new Array(12),pt=new Array(12),gt=new Array(12),ft=new Array(12),It=new Array(14),Pt=new Array(12),yt=new Array(4),Gt=new Array(4),Tt=new Array(4),At=new Map,Dt=new Array(_.m_iItemCol),Ct=new Array(14),Lt=new Array(14),Bt=new Array(3),vt=this.GetGameAsset("Res/Texure/NumberFSTimes",m.AT_SpriteAtlas),Wt=0;Wt<St.length;Wt++)St[Wt]=vt.getSpriteFrame(""+Wt);var wt=this.GetGameAsset("Res/Texure/NumberFSWin",m.AT_SpriteAtlas),Rt=new Array(16);for(Wt=0;Wt<Rt.length;Wt++)Rt[Wt]=wt.getSpriteFrame(""+Wt);var Nt=this.GetGameAsset1("Res/Texure/Num/NumberYellow",m.AT_SpriteAtlas),Ft=this.GetGameAsset("Res/Texure/NumberYellow1",m.AT_SpriteAtlas);for(Wt=0;Wt<ut.length;Wt++)dt[Wt]=Nt.getSpriteFrame("NumberYellow_"+Wt),gt[Wt]=Nt.getSpriteFrame("NumberYellow_"+Wt),pt[Wt]=Ft.getSpriteFrame("NumberYellow1_"+Wt),ft[Wt]=Ft.getSpriteFrame("NumberYellow1_"+Wt);var Mt=this.GetGameAsset1("Res/Texure/Num/NumberWhite1",m.AT_SpriteAtlas);for(Wt=0;Wt<It.length;Wt++)It[Wt]=Mt.getSpriteFrame("NumberWhite1_"+Wt);for(Wt=0;Wt<Pt.length;Wt++)Pt[Wt]=Mt.getSpriteFrame("NumberWhite1_"+Wt);var bt=this.GetGameAsset("Res/Texure/Jcakpot/Jcakpot",m.AT_SpriteAtlas);for(Wt=0;Wt<yt.length;Wt++)yt[Wt]=bt.getSpriteFrame("JackpotTitle_"+Wt);for(Wt=0;Wt<Gt.length;Wt++)Gt[Wt]=bt.getSpriteFrame("WinJPBG_"+Wt);for(Wt=0;Wt<Tt.length;Wt++)Tt[Wt]=bt.getSpriteFrame("JackpotIcon_"+Wt);for(Wt=0;Wt<Ye.length;Wt++)Ye[Wt]=bt.getSpriteFrame("Jcakpot_"+Wt);for(Wt=0;Wt<Bt.length;Wt++)Bt[Wt]=this.GetGameAsset("Res/Texure/FreeGame/card"+(Wt+1)+"_x"+(3-Wt),m.AT_SpriteFrame);var Ot=this.GetGameAsset("Res/Texure/Icon",m.AT_SpriteAtlas),kt=this.GetGameAsset("Res/Texure/Icon1",m.AT_SpriteAtlas);for(Wt=0;Wt<=_.m_iItemResCount;Wt++)Wt>=10&&Wt<=15?(_t[Wt]=Ot.getSpriteFrame("Item_0_10"),ct[Wt]=kt.getSpriteFrame("Item_0_10")):Wt>=17&&Wt<=25?(_t[Wt]=Ot.getSpriteFrame("Item_0_12"),ct[Wt]=kt.getSpriteFrame("Item_0_12")):16==Wt?(_t[Wt]=Ot.getSpriteFrame("Item_0_11"),ct[Wt]=kt.getSpriteFrame("Item_0_11")):(_t[Wt]=Ot.getSpriteFrame("Item_0_"+Wt),ct[Wt]=kt.getSpriteFrame("Item_0_"+Wt));var Jt=this.GetGameAsset("Res/Texure/BGitem/BGitem",m.AT_SpriteAtlas);for(Wt=0;Wt<st.length;Wt++)st[Wt]=Jt.getSpriteFrame("BGitem"+Wt);var Et=this.GetGameAsset("Res/Texure/UI",m.AT_SpriteAtlas);for(Wt=0;Wt<lt.length;Wt++)lt[Wt]=Et.getSpriteFrame("light"+Wt);for(Wt=0;Wt<ht.length;Wt++)ht[Wt]=Et.getSpriteFrame("ItemPanel_"+(Wt+1));for(Wt=0;Wt<He.length;Wt++)He[Wt]=this.GetGameAsset("Res/Texure/background_"+Wt,m.AT_SpriteFrame);var xt=this.GetGameAsset("Res/Texure/NumberBall",m.AT_SpriteAtlas);for(Wt=0;Wt<Ct.length;Wt++)Ct[Wt]=xt.getSpriteFrame(""+Wt);var jt=new Array(14),Kt=this.GetGameAsset("Res/Texure/NumberBall_1",m.AT_SpriteAtlas);for(Wt=0;Wt<jt.length;Wt++)jt[Wt]=Kt.getSpriteFrame(""+Wt);var Zt=this.GetGameAsset("Res/Texure/NumberSPWIN",m.AT_SpriteAtlas);for(Wt=0;Wt<Lt.length;Wt++)Lt[Wt]=Zt.getSpriteFrame("NumberSPWIN_"+Wt);Fe=this.GetGameAsset("Res/Texure/Icon_Mask",m.AT_SpriteFrame),we=this.GetGameAsset1("Res/Prefab/Prefab_Num",m.AT_Prefab),Re=this.GetGameAsset("Res/Prefab/Prefab_NumGameWin",m.AT_Prefab),this.GetGameAsset1("Res/Prefab/Prefab_NumFreeSpinTime",m.AT_Prefab),Oe=this.GetGameAsset("Res/Prefab/Prefab_ItemAnim",m.AT_Prefab),ke=this.GetGameAsset("Res/Prefab/Prefab_NumItem",m.AT_Prefab),ee=this.GetGameAsset("Res/Prefab/Prefab_ScatterItemAnim",m.AT_Prefab);var Ut,zt=this.GetGameAsset("Res/Prefab/Prefab_ItemAddTime",m.AT_Prefab);At.set(10,"."),At.set(11,","),At.set(12,":"),At.set(13,"$"),At.set(14,"k"),At.set(15,"m");var Ht=cc.find("GamePlay",this.node.parent);Ut=cc.find("GamePlay/Panel_Baground",this.node.parent),e=cc.find("Image_Baground",Ut).getComponent(cc.Sprite);var Vt=[];Vt[0]=cc.find("Image_Baground",Ut),Vt[1]=cc.find("Image_Baground1",Ut);var qt=[],Xt=this.GetGameAsset1("Res/Prefab/Panel_TopH",m.AT_Prefab);(Ut=cc.instantiate(Xt)).setParent(Ht);var Yt=cc.director.getScene().getComponentInChildren("TopBarH");for(Wt=0;Wt<xe.length;Wt++)xe[Wt]=cc.find("Jackpot_"+Wt,Ut);var Qt=Ut=cc.find("GamePlay/Panel_Middle",this.node.parent);for(i=cc.find("Panel_BG",Ut).getComponent(cc.Sprite),t=cc.find("Panel_Trans",Ut),Wt=0;Wt<_.m_iItemCol;Wt++){var $t=cc.find("SlogCol_"+Wt,t);je[Wt]=[],Ke[Wt]=[],Ze[Wt]=[];for(var ei=0;ei<_.m_iItemRow+2;ei++){je[Wt][ei]=cc.find("SlotItem_"+ei,$t);var ti=cc.find("Panel_NumPar",je[Wt][ei]);Ze[Wt][ei]=this.iGameBase.NewShowNum(ti,ke,Ct,At,!0,!0),ei>0&&ei<_.m_iItemRow+1&&((Oi=je[Wt][ei].position).x=$t.position.x,Ke[Wt][_.m_iItemRow-ei]=Oi)}}for(a=cc.find("Panel_Lines",Ut),S=cc.find("Image_LinesMask",a),D=cc.find("Panel_TransAnim",Ut),C=cc.find("Panel_ItemAnim",D),L=cc.find("Panel_ItemAnim_Bonus",D),B=cc.find("Panel_ItemAnim_WILD",D),n=cc.find("Panel_RollerEff",D),Wt=0;Wt<Dt.length;Wt++)Dt[Wt]=cc.find("Vec_RollerEff_"+Wt,n).position;Me=(be=cc.find("Image_RollEff",n)).getComponent(cc.Animation),d=cc.find("Panel_FreeSpinPar",Ut),g=cc.find("Panel_IntoFreeSpin",d),cc.find("Panel_WinFSTimesNumPar",g),f=cc.find("Panel_AddFreeSpin",d),I=cc.find("Panel_AddFSTimesNumPar",f),y=cc.find("Bg",d),P=cc.find("Panel_OutFreeSpin",d),mt[0]=cc.find("Panel_WinFSWinNumPar",P),p=cc.find("Panel_FSTimesUsed",d),G=cc.find("Panel_FSTimesUsedNumPar",p),T=cc.find("Panel_FSTimesTotalNumPar",p);var ii=cc.find("FSFireBallAddNum/Panel_FSFireAddNumPar",p),ai=cc.find("FSTotalWinFireBallNum/Panel_FSFireAddNumPar",p),oi=cc.find("FSFireBallAddNum/Image_Multiple_X",p).getComponent(cc.Sprite);A=cc.find("Panel_Effect",Ut),Ie=cc.find("Panel_SmallWinScorePar",A),pe=cc.find("Image_BGWin/Panel_NumPar",Ie),fe=cc.find("Panel_MiddleWinScorePar",A),de=cc.find("Image_BGWin/Panel_NumPar",fe),Pe=cc.find("Panel_BigWinScorePar",A),ge=cc.find("Image_BGWin/Panel_NumPar",Pe);var ni=cc.find("Panel_Select",Ut),mi=cc.find("bgSelect",ni),ri=cc.find("bottom0",ni),_i=cc.find("bottom1",ni),si=cc.find("Panel_FSTotalScorePar",_i),ci=cc.find("bgCard_light",ni),li=[];for(Wt=0;Wt<4;Wt++){li[Wt]=cc.find("Panel_Select/Card_"+Wt,Ut);var hi=li[Wt].getComponent(cc.Button);this.SetBtnEvent(hi,!0,!0)}var Si=cc.find("FSFireBallAnim",Ut),ui=cc.find("FireBall",Si),di=cc.find("FireEnd",Si),pi=cc.find("FireEnd1",Si),gi=this.GetGameAsset1("Res/Prefab/Panel_BelowH",m.AT_Prefab);(Ut=cc.instantiate(gi)).setParent(Ht);var fi=Ut,Ii=cc.find("IDLabel",Ut).getComponent(cc.Label);ye=cc.find("Image_BGGameWin/Panel_NumPar",Ut),he=cc.find("layout/Image_BGCredit/Panel_NumPar",Ut),Se=cc.find("/Image_BGTotalBet/Panel_NumPar",Ut),ue=cc.find("layout/Image_BGWin/Panel_NumPar",Ut),cc.find("Image_BGJP/Panel_NumPar",Ut),Ge=cc.find("Button_Spin",Ut).getComponent(cc.Button),this.SetBtnEvent(Ge,!0,!0),Te=cc.find("Button_Stop",Ut).getComponent(cc.Button),this.SetBtnEvent(Te,!1,!0),Ae=cc.find("Button_Take",Ut).getComponent(cc.Button),this.SetBtnEvent(Ae,!1,!0),Le=cc.find("Button_Auto",Ut).getComponent(cc.Button),this.SetBtnEvent(Le,!0,!0),Be=cc.find("Effect_Auto",Le.node),u=this.GetGameAsset("Res/Texure/Button_Auto_Normal",m.AT_SpriteFrame),(ve=cc.find("auto",Le.node).getComponent(cc.Sprite)).node.active=!1,We=Le.getComponent(cc.Animation),De=cc.find("Button_BetAdd",Ut).getComponent(cc.Button),this.SetBtnEvent(De,!0,!0),Ce=cc.find("Button_BetSub",Ut).getComponent(cc.Button),this.SetBtnEvent(Ce,!0,!0),O=cc.find("Button_TransScore",Ut).getComponent(cc.Button),this.SetBtnEvent(O,!this.iGameBase.isNoWin(),!0),o=cc.find("Panel_LinesScore",Ut),Ne=cc.find("Text_LinesScores",o).getComponent(cc.Label);var Pi=cc.find("GamePlay/Panel_Page",this.node.parent);Ut=cc.find("GamePlay/Panel_Page",this.node.parent);var yi=this.GetGameAsset1("Res/Prefab/Panel_SettingH",m.AT_Prefab);($e=cc.instantiate(yi)).setParent(Pi);var Gi=cc.find("Panel_Set",$e),Ti=cc.find("Button_FullScreen/Switch",Gi),Ai=cc.find("fullScreenOn",Ti),Di=cc.find("fullScreenOff",Ti);this.iGameBase.AddSetSystem(Gi,Ai,Di);var Ci=cc.find("Panel_Money",Ut),Li=cc.find("Goldbowl_0",Ci),Bi=cc.find("Prefab_Goldbowl",Ci),vi=cc.find("Money5",Li).getComponent(cc.Sprite),Wi=cc.find("particle_Coin1",Li);Wi.active=!1,Bi.active=!1,v=cc.find("Panel_PlayerJackpot/Panel_PrizePool",Ut),(W=cc.find("Image_EffBG",v)).active=!1,N=cc.find("Frame/PanelJPNumber",W),F=cc.find("Title",W).getComponent(cc.Sprite),M=cc.find("JPWinIcon",W).getComponent(cc.Sprite),b=cc.find("JPWinBg",W).getComponent(cc.Sprite);var wi=cc.find("Panel_PalyerJP",v);w=cc.find("TargetPos",wi).position,wi.active=!1,R=cc.find("Panel_PlayerJackpot/Image_JPBG",Ut);var Ri=cc.find("Panel_Coin",wi),Ni=cc.find("BG",Ri);for(Wt=0;Wt<Ve.length;Wt++){Ve[Wt]=cc.find("Panel_WaitCoin/Image_FlopEff_"+Wt,Ri).getComponent(cc.Button);var Fi=cc.find("Panel_Anims/Image_FlopEffAnim_"+Wt,Ri);qe[Wt]=Fi.getComponent(cc.Animation),Xe[Wt]=cc.find("Content",Fi).getComponent(cc.Sprite)}for($e=cc.find("Panel_Setting",Ut),Qe=cc.find("Button_Set",$e),this.SetBtnEvent(Qe.getComponent(cc.Button),!0,!0),et=cc.find("Panel_Set",$e),tt=cc.find("Mask_Set",et),this.SetBtnEvent(tt.getComponent(cc.Button),!1,!0),x=cc.find("Button_Rule",et).getComponent(cc.Button),this.SetBtnEvent(x,!0,!0),k=cc.find("Button_Sound",et).getComponent(cc.Button),this.SetBtnEvent(k,!0,!0),J=cc.find("Switch/soundOn",k.node),E=cc.find("Switch/soundOff",k.node),j=cc.find("Button_ToLobby",et).getComponent(cc.Button),this.SetBtnEvent(j,!0,!0),Z=cc.find("Panel_Rule",Ut),K=cc.find("Button_RuleClose",Z).getComponent(cc.Button),this.SetBtnEvent(K,!0,!0),Wt=0;Wt<_.m_iRuleCount;Wt++)it.push(cc.find("info_"+Wt,Z));U=cc.find("BGButton1/Button_RuleRight",Z).getComponent(cc.Button),this.SetBtnEvent(U,!0,!0),z=cc.find("BGButton0/Button_RuleLeft",Z).getComponent(cc.Button),this.SetBtnEvent(z,!0,!0),cc.log("========end===0");var Mi=this.GetGameAsset1("Res/Prefab/Panel_LoadingH",m.AT_Prefab);for((H=cc.instantiate(Mi)).setParent(Pi),H.active=!1,this.m_Signal=cc.find("signal",Ut),this.m_Signal.active=!1,Wt=0;Wt<_.m_iJackpotCount;Wt++){qt[Wt]=[];var bi=this.GetGameAsset1("Res/Texure/Jcakpot/jackpotNum_"+Wt,m.AT_SpriteAtlas);for(ei=0;ei<13;ei++)qt[Wt][ei]=bi.getSpriteFrame("jackpotNum_"+Wt+"_"+ei)}for(cc.log("========end===1"),cc.log("========end===2"),$=cc.find("Panel_Middle_1",this.node),X=cc.find("Panel_Trans_1",$),V=cc.find("Panel_TransItems",X),Wt=0;Wt<_.m_iItemCol;Wt++)for($t=cc.find("SlogCol_"+Wt,V),at[Wt]=[],nt[Wt]=[],ot[Wt]=[],ei=0;ei<_.m_iItemRow1+2;ei++){var Oi;at[Wt][ei]=cc.find("SlotItem_"+ei,$t),ti=cc.find("Panel_NumPar",at[Wt][ei]),ot[Wt][ei]=this.iGameBase.NewShowNum(ti,ke,Ct,At,!0,!0),ei>0&&ei<_.m_iItemRow1+1&&((Oi=at[Wt][ei].position).x=$t.position.x,nt[Wt][_.m_iItemRow1-ei]=Oi)}Y=cc.find("Image_Mask_1",$),q=cc.find("Panel_TransAnim_1",$),Q=cc.find("Panel_TransAnim",q),ne=cc.find("Panel_SpecialSpinPar",$),le=cc.find("Panel_UsedSpecial",ne),te=cc.find("Panel_Left",le),ie=cc.find("Panel_Middle",ne);var ki=cc.find("Panel_TimesNumPar",te),Ji=cc.find("Panel_TotalNumPar",ie);me=cc.find("Panel_Right",le),ae=cc.find("Image/Panel_NumPar",me),oe=cc.find("Panel_OutSpecial",ne),Je=cc.find("Panel_WinFSWinNumPar",oe),cc.find("particle_Diamonds",$),re=cc.find("Panel_TransEndEffect",$),_e=cc.find("FireBallLight",re),se=cc.find("FireBallLight/fireBallMask",re),ce=cc.find("fireBall",re),Ee=cc.find("Panel_mubu/mubu",this.node);var Ei=cc.find("\u96ea\u82b1/particle_Coin1",Ee);this.GameLogic.m_DealAutoTrans=new s.default(this.GameLogic),this.GameLogic.m_DealAutoTrans.m_BtnAutoSpin=Le,this.GameLogic.m_DealAutoTrans.m_SPBtnAutoSpin=ve,this.GameLogic.m_DealAutoTrans.m_AnimationBtnAuto=We,this.GameLogic.m_DealAutoTrans.m_EffectBtnAutoSpin=Be,this.GameLogic.m_DealAutoTrans.m_BtnSpin=Ge,this.GameLogic.m_DealAutoTrans.m_BtnStop=Te,this.GameLogic.m_DealAutoTrans.m_BtnTake=Ae,this.GameLogic.m_DealAutoTrans.m_SPButtonAuto=u,this.GameLogic.m_DealItem=new l.default(this.GameLogic),this.GameLogic.m_DealItem.m_ItemCtrl=new r.default(st,_t,lt,je,Ze,this,this.GameLogic.ShowLottery.bind(this.GameLogic),this.GameLogic.m_DealItem.AColStopEvn.bind(this.GameLogic.m_DealItem),this.GameLogic.m_DealItem.GetFireNumStr.bind(this.GameLogic.m_DealItem),2200,!0,40,.3);var xi=[];for(Wt=0;Wt<6;Wt++)xi[Wt]=this.GetGameAsset("Res/Texure/Goldbowl/Money"+Wt,m.AT_SpriteFrame);vi.spriteFrame=xi[0],this.GameLogic.m_DealItem.Init(),this.GameLogic.m_DealItem.parentNode=Ci,this.GameLogic.m_DealItem.m_Goldbowl_Money=vi,this.GameLogic.m_DealItem.m_Goldbowl_0=Li,this.GameLogic.m_DealItem.m_Goldbowl_1=Bi,this.GameLogic.m_DealItem.m_ary_SpMoney=xi,this.GameLogic.m_DealItem.m_Goldbowl_Particle=Wi,this.GameLogic.m_DealItem.m_VecRollerEff=Dt,this.GameLogic.m_DealItem.m_AnimRollerEff=Me,this.GameLogic.m_DealItem.m_RollerEff=be,this.GameLogic.m_DealBetRel=new c.default(this.GameLogic),this.GameLogic.m_DealBetRel.m_BtnBetAdd=De,this.GameLogic.m_DealBetRel.m_BtnBetSub=Ce,this.GameLogic.m_DealBetRel.m_ShowTotalBetCtrl=this.iGameBase.NewShowNum(Se,we,It,At,!0,!0),this.GameLogic.m_DealWinPro=new h.default(this.GameLogic),this.GameLogic.m_DealWinPro.m_JcakpotEffBG=W,this.GameLogic.m_DealWinPro.m_VecTargetJP=w,this.GameLogic.m_DealWinPro.m_transTotalWinNumP=ue,this.GameLogic.m_DealWinPro.m_transCreditNumP=he,this.GameLogic.m_DealWinPro.m_transMidMiddleWinP=fe,this.GameLogic.m_DealWinPro.m_transMidSmallWinP=Ie,this.GameLogic.m_DealWinPro.m_transMidBigWinP=Pe,this.GameLogic.m_DealWinPro.m_AnimPlayerBG=void 0,this.GameLogic.m_DealWinPro.m_PlayerBG=e,this.GameLogic.m_DealWinPro.m_Image_Baground=Vt,this.GameLogic.m_DealWinPro.m_Panel_itemBG=i,this.GameLogic.m_DealWinPro.m_ary_imagBG=He,this.GameLogic.m_DealWinPro.m_transLinesP=void 0,this.GameLogic.m_DealWinPro.m_ary_transLines=Ue,this.GameLogic.m_DealWinPro.m_gLinesMask=S,this.GameLogic.m_DealWinPro.m_transLinesCacheP=void 0,this.GameLogic.m_DealWinPro.m_ary_VecLinesScoreNum=ze,this.GameLogic.m_DealWinPro.m_transLinesScoreNumP=void 0,this.GameLogic.m_DealWinPro.m_Text_LinesScores=Ne,this.GameLogic.m_DealWinPro.m_gFSPar=d,this.GameLogic.m_DealWinPro.m_gFSUseP=p,this.GameLogic.m_DealWinPro.m_gIntoFS=g,this.GameLogic.m_DealWinPro.m_gAddFS=f,this.GameLogic.m_DealWinPro.m_OutFS=P,this.GameLogic.m_DealWinPro.m_OutFSWinFontCopy=rt,this.GameLogic.m_DealWinPro.m_gFSParBG=y,this.GameLogic.m_DealWinPro.m_ary_SprItems=_t,this.GameLogic.m_DealWinPro.m_SprItems11=Fe,this.GameLogic.m_DealWinPro.m_ary_SprItemPanel=ht,this.GameLogic.m_DealWinPro.m_ShowCreditCtrl=this.iGameBase.NewShowNum(he,we,It,At,!0,!0),this.GameLogic.m_DealWinPro.m_ShowTotalWinNumCtrl=this.iGameBase.NewShowNum(ue,we,It,At,!0,!0),this.GameLogic.m_DealWinPro.m_ShowGameWinNumCtrl=this.iGameBase.NewShowNum(ye,Re,It,At,!0,!0),this.GameLogic.m_DealWinPro.m_MedMiddleWinScoreNumCtrl=this.iGameBase.NewShowNum(de,we,dt,At,!0,!0),this.GameLogic.m_DealWinPro.m_MedSmallWinScoreNumCtrl=this.iGameBase.NewShowNum(pe,we,pt,At,!0,!0),this.GameLogic.m_DealWinPro.m_MedBigWinScoreNumCtrl=this.iGameBase.NewShowNum(ge,we,gt,At,!0,!0),this.GameLogic.m_DealWinPro.m_FSAddTimesCtrl=this.iGameBase.NewShowNum(I,we,St,At,!1,!1),this.GameLogic.m_DealWinPro.m_FSTimesUsedCtrl=this.iGameBase.NewShowNum(G,we,St,At,!1,!1),this.GameLogic.m_DealWinPro.m_FSTotalTimes=this.iGameBase.NewShowNum(T,we,St,At,!1,!1),this.GameLogic.m_DealWinPro.m_OutWinScoreNumCtrl[0]=this.iGameBase.NewShowNum(mt[0],we,Rt,At,!0,!0),this.GameLogic.m_DealWinPro.m_ary_PlayerJP=xe,this.GameLogic.m_DealWinPro.m_TransScoreCtrl=this.iGameBase.NewTransScoreCtrl(this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SubTransScore.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.AddTransScore.bind(this.GameLogic.m_DealWinPro),2,2),this.GameLogic.m_DealWinPro.m_TransScoreCtrlJP=this.iGameBase.NewTransScoreCtrl(this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SubTransScoreJP.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.AddTransScoreJP.bind(this.GameLogic.m_DealWinPro),2,2),this.GameLogic.m_GameSlotJcakpot=this.iGameBase.NewGameSlotJcakpot_Item(F,yt),this.GameLogic.m_GameSlotJcakpot.NewSlotJcakpot_Flop(Ri),this.GameLogic.m_GameSlotJcakpot.InitPlayerJcakpotScale(null,this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SetJcakpotMoved.bind(this.GameLogic.m_DealWinPro)),this.GameLogic.m_GameSlotJcakpot.NewShowNum(N,we,gt,At,!0,!0),this.GameLogic.m_GameSlotJcakpot.InitFlop(-1,Ve,qe,Xe,Ye,null,R,this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SetTurnOverStop.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.PlayOnClick.bind(this.GameLogic.m_DealWinPro)),this.GameLogic.m_DealWinPro.m_offLineLodingPanel=H,this.GameLogic.m_DealWinPro.m_BtnTransScore=O,this.GameLogic.m_DealWinPro.m_PanelRule=Z,this.GameLogic.m_DealWinPro.m_gameInfoImage=it,this.GameLogic.m_DealWinPro.m_Button_Set=Qe,this.GameLogic.m_DealWinPro.m_Panel_Set=et,this.GameLogic.m_DealWinPro.m_Mask_Set=tt,this.GameLogic.m_DealWinPro.m_Widget_PanelSet=et.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Widget_m_ButtonSet=Qe.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Toggle_SoundOn=J,this.GameLogic.m_DealWinPro.m_Toggle_SoundOff=E,this.GameLogic.m_DealWinPro.InitSound(),this.GameLogic.m_DealWinPro.m_arys_VecItems=Ke,this.GameLogic.m_DealWinPro.m_gItemAnim=Oe,this.GameLogic.m_DealWinPro.m_gBounsAnimPrefab=ee,this.GameLogic.m_DealWinPro.m_transItemAnimP=C,this.GameLogic.m_DealWinPro.m_ary_SpBGRes=st,this.GameLogic.m_DealWinPro.m_transBounsAnimP=L,this.GameLogic.m_DealWinPro.m_transItemWildAnimP=B,this.GameLogic.m_DealWinPro.m_Panel_Select=ni,this.GameLogic.m_DealWinPro.m_Button_Select=li,this.GameLogic.m_DealWinPro.m_bgCardSelect=mi,this.GameLogic.m_DealWinPro.m_bgCardBottom=ri,this.GameLogic.m_DealWinPro.m_bgCardBottom1=_i,this.GameLogic.m_DealWinPro.m_Frame_Select=ci,this.GameLogic.m_DealWinPro.m_mubuEffect=Ee,this.GameLogic.m_DealWinPro.particle_Coin=Ei,this.GameLogic.m_DealWinPro.FSfireBall=ui,this.GameLogic.m_DealWinPro.FSfireEnd=di,this.GameLogic.m_DealWinPro.FSfireEnd1=pi,this.GameLogic.m_DealWinPro.m_FSFireAddNumCtrl=this.iGameBase.NewShowNum(ii,we,jt,At,!1,!1),this.GameLogic.m_DealWinPro.m_FSTotalWinFireBallNumCtrl=this.iGameBase.NewShowNum(ai,we,Rt,At,!0,!0),this.GameLogic.m_DealWinPro.m_Image_Multiple_X=oi,this.GameLogic.m_DealWinPro.m_ary_Mul=Bt,this.GameLogic.m_DealWinPro.m_FSTotalScoreCtrl1=this.iGameBase.NewShowNum(si,we,ft,At,!0,!0),this.GameLogic.m_DealWinPro.m_gNumPrefab=ke,this.GameLogic.m_DealWinPro.m_ary_SprFireNum=Ct,this.GameLogic.m_DealWinPro.m_list_icPairNumSpe=At,this.GameLogic.m_Root=Qt,this.GameLogic.m_Root.active=!0,this.GameLogic.m_DealWinPro.normalMiddle=Ci,this.GameLogic.m_DealWinPro.m_PlayerJP=wi,this.GameLogic.m_DealWinPro.JPBG=Ni,this.GameLogic.m_DealWinPro.JPWinIcon=M,this.GameLogic.m_DealWinPro.m_ary_JackpotIcon=Tt,this.GameLogic.m_DealWinPro.JPWinBg=b,this.GameLogic.m_DealWinPro.m_ary_SprBGJackpot=Gt,this.GameLogic.m_DealWinPro.m_DealSpecial.m_OutWinSpecialNumCtrl=this.iGameBase.NewShowNum(Je,we,Rt,At,!0,!0),this.GameLogic.m_DealWinPro.m_DealSpecial.m_ImageTrans=X,this.GameLogic.m_DealWinPro.m_DealSpecial.m_arys_VecItems=nt,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gMask=Y,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transItemAnimP=Q,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root=$,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_SprItems=_t,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gScatterItemAnim=ee,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transTip=te,this.GameLogic.m_DealItem1=new l.default(this.GameLogic),this.GameLogic.m_DealItem1.m_ItemCtrl=new r.default(st,ct,lt,at,ot,this,this.GameLogic.ShowLottery_Special.bind(this.GameLogic),this.GameLogic.m_DealItem1.AColStopEvn.bind(this.GameLogic.m_DealItem1),this.GameLogic.m_DealItem1.GetFireNumStr.bind(this.GameLogic.m_DealItem1),2200,!0,40,.3),this.GameLogic.m_DealItem1.Init(),this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_SpecialSpinPar=ne,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_OutSpecial=oe,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_WinSpecial=me,this.GameLogic.m_DealWinPro.m_DealSpecial.m_NumWinCtrl=this.iGameBase.NewShowNum(ae,we,Rt,At,!1,!1),this.GameLogic.m_DealWinPro.m_DealSpecial.winNumCtlP=ae,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gNumPrefab=ke,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprFireNum=Ct,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_icPairNumSpe=At,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Panel_TimesUsedSpecial=le,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight=_e,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBallMask=se,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall=ce,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_curtimesNumCtrl=this.iGameBase.NewShowNum(ki,we,Rt,At,!1,!1),this.GameLogic.m_DealWinPro.m_DealSpecial.m_totaltimesNumCtrl=this.iGameBase.NewShowNum(Ji,we,Rt,At,!1,!1),this.GameLogic.m_DealWinPro.m_DealSpecial.m_gItemAddTimePrefab=zt,this.GameLogic.m_DealWinPro.m_ITopBar=Yt,this.GameLogic.m_DealWinPro.m_IDLabel=Ii,this.iGameBase.isNoWin()?(cc.find("layout/Image_BGWin",fi).active=!1,O.node.active=!1):(cc.find("layout/Image_BGWin",fi).active=!0,O.node.active=!0),Pi.setSiblingIndex(Ht.childrenCount-1),cc.log("========end")},t.prototype.StageUpdate=function(){this.m_bIsStartUpdate&&this.GameLogic.UpdateGameSlot()},t.prototype.Leave=function(){cc.log("====Leave====",this.m_bIsStartUpdate),this.m_bIsStartUpdate=!1,this.GameLogic.Final(),this.GameLogic=null,this.m_SoundSystem&&this.m_SoundSystem.ClearAllSound()},t.prototype.SetSound=function(){this.m_SoundSystem=this.iGameBase.NewSoundSystem(),this.GameLogic.m_DealSound=this.m_SoundSystem;var e=new _.AudioData;if(this.m_SoundSystem)for(var t=0;t<e.ary_AudioNames.length;t++){var i=this.GetGameAsset("Res/Sounds/"+e.ary_AudioNames[t],m.AT_AudioClip);this.m_SoundSystem.SEAdd(i,e.ary_AudioVolume[t]),t<4&&this.m_SoundSystem.BGMAdd(i,e.ary_AudioVolume[t])}},t.prototype.SetBtnEvent=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),null!=e){var a=new cc.Component.EventHandler;a.target=this.node,a.component=this.scriptName,a.handler="BtnEventCallback",e.clickEvents.push(a),e.node.active=t,e.interactable=i}},t.prototype.BtnEventCallback=function(e){var t=e.target;this.GameLogic.OnClickBtn(t)},t.prototype.GetGameAsset=function(e,t){return this.iGameBase.GetGameAsset(this.handlerName,e,t)},t.prototype.GetGameAsset1=function(e,t){return this.iGameBase.GetGameAsset1(e,t)},n([d],t)}(cc.Component));i.default=p,cc._RF.pop()},{"./DataManager_Zodiac":"DataManager_Zodiac","./DealAutoTrans_Zodiac":"DealAutoTrans_Zodiac","./DealBetRelevant_Zodiac":"DealBetRelevant_Zodiac","./DealItemRelevant_Zodiac":"DealItemRelevant_Zodiac","./DealWinProcess_Zodiac":"DealWinProcess_Zodiac","./GameLogic_Zodiac":"GameLogic_Zodiac","./ItemCtrl_CR_FireRes_SpeZodiac":"ItemCtrl_CR_FireRes_SpeZodiac"}],GoldIngotItem:[function(e,t,i){"use strict";cc._RF.push(t,"1da6fvZf0tHGZPfVJJjhQDl","GoldIngotItem");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0});var m=cc._decorator,r=m.ccclass,_=m.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.radian=0,t.isMoving=!1,t.r=150,t.clickCallback=null,t.speed=1.5,t.endEvn=null,t.caller=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()})},t.prototype.start=function(){this.radian=this.startRadian,this.updatePos(),-1==this.dir?this.node.angle=-30:1==this.dir&&(this.node.angle=30),this.isMoving=!0},t.prototype.update=function(e){this.isMoving&&(this.radian=this.radian+e*this.dir*this.speed,(this.endRadian-this.radian)*this.dir<=.1?(this.isMoving=!1,null!=this.endEvn&&this.endEvn.call(this.caller),this.node.destroy()):this.updatePos())},t.prototype.setMove=function(e){this.isMoving=e},t.prototype.setRadian=function(e){this.radian=e},t.prototype.getRadian=function(){return this.radian},t.prototype.updatePos=function(){var e=new cc.Vec3(this.r*Math.cos(this.radian)+this.offent.x,this.r*Math.sin(this.radian)+this.offent.y,0);this.node.setPosition(e)},n([_(cc.Vec2)],t.prototype,"offent",void 0),n([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{}],GoldIngot:[function(e,t,i){"use strict";cc._RF.push(t,"92ecdcgKypF169Q7GNShALh","GoldIngot");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0});var m=cc._decorator,r=m.ccclass,_=m.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mCol=1,t.mRow=0,t.index=0,t.endEvn=null,t.caller=null,t.count=0,t.countTarget=0,t}return o(t,e),t.prototype.start=function(){this.setCountTarget(),this.product()},t.prototype.setCountTarget=function(){1==this.mCol&&0==this.mRow?this.countTarget=7:1==this.mCol&&1==this.mRow?this.countTarget=7:1==this.mCol&&2==this.mRow?this.countTarget=7:2==this.mCol&&0==this.mRow?this.countTarget=9:2==this.mCol&&1==this.mRow?this.countTarget=9:2==this.mCol&&2==this.mRow?this.countTarget=9:3==this.mCol&&0==this.mRow?this.countTarget=7:3==this.mCol&&2==this.mRow?this.countTarget=7:3==this.mCol&&1==this.mRow?this.countTarget=7:cc.error(">>>>>>",this.mCol,this.mRow)},t.prototype.product=function(){var e=this;if(0!=this.mCol&&1!=this.mCol&&3!=this.mCol&&4!=this.mCol||2!=this.mRow&&1!=this.mRow&&0!=this.mRow)2==this.mCol&&(t=.1,0==this.mRow&&2==this.mCol&&(t=.2),this.schedule(function(){0==e.index?(e.creatorPref(!0,0),e.creatorPref(!0,1),e.creatorPref(!1,0)):1==e.index?(e.creatorPref(!0,1),e.creatorPref(!1,0),e.creatorPref(!1,1)):2==e.index&&(e.creatorPref(!0,0),e.creatorPref(!0,1),e.creatorPref(!1,0)),e.index++},t,2));else{var t=.1;this.schedule(function(){0==e.index?e.creatorPref(!0,0):1==e.index?(e.creatorPref(!0,0),e.creatorPref(!0,1)):2==e.index&&e.creatorPref(!0,0),e.creatorPref(!1,0),e.index++},t,2)}},t.prototype.setArgLeft=function(e,t){var i;0==this.mCol&&2==this.mRow?1==t?(e.dir=1,e.r=420,i=360,e.offent=cc.v3(-350,260),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180):(e.dir=1,e.r=350,i=360,e.offent=cc.v3(-350,260),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180):0==this.mCol&&1==this.mRow?(1==t?(e.dir=1,e.r=470,i=345,e.offent=cc.v3(-370,425),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*274):(e.dir=1,e.r=400,i=345,e.offent=cc.v3(-350,400),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=1.2):0==this.mCol&&0==this.mRow?(1==t?(e.dir=1,e.r=570,i=320,e.offent=cc.v3(-350,650),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):(e.dir=1,e.r=500,i=320,e.offent=cc.v3(-350,650),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=1):1==this.mCol&&0==this.mRow?(1==t?(e.dir=1,e.r=340,i=325,e.offent=cc.v3(-200,460),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*280):(e.dir=1,e.r=300,i=325,e.offent=cc.v3(-180,450),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=1):1==this.mCol&&1==this.mRow?1==t?(e.dir=1,e.r=250,i=380,e.offent=cc.v3(-180,200),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):(e.dir=1,e.r=210,i=380,e.offent=cc.v3(-180,200),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):1==this.mCol&&2==this.mRow&&(1==t?(e.dir=1,e.r=320,i=395,e.offent=cc.v3(-250,120),e.endRadian=i*Math.PI/180,e.startRadian=290*Math.PI/180):(e.dir=1,e.r=280,i=400,e.offent=cc.v3(-180,100),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180)),2==this.mCol&&0==this.mRow?(1==t?(e.dir=1,e.r=90,i=450,e.offent=cc.v3(0,230),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):(e.dir=1,e.r=50,i=450,e.offent=cc.v3(0,230),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=2):2==this.mCol&&1==this.mRow?1==t?(e.dir=1,e.r=190,i=420,e.offent=cc.v3(-100,130),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*310):(e.dir=1,e.r=150,i=480,e.offent=cc.v3(0,100),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*300):2==this.mCol&&2==this.mRow?(1==t?(e.dir=1,e.r=290,i=420,e.offent=cc.v3(-150,60),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*300):(e.dir=1,e.r=230,i=450,e.offent=cc.v3(0,60),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=2):3==this.mCol&&0==this.mRow?(1==t?(e.dir=-1,e.r=340,i=210,e.offent=cc.v3(180,450),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):(e.dir=-1,e.r=300,i=210,e.offent=cc.v3(180,450),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270),e.speed=1):3==this.mCol&&1==this.mRow?1==t?(e.dir=-1,e.r=240,i=160,e.offent=cc.v3(180,200),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):(e.dir=-1,e.r=200,i=160,e.offent=cc.v3(180,200),e.endRadian=Math.PI/180*i,e.startRadian=Math.PI/180*270):3==this.mCol&&2==this.mRow?1==t?(e.dir=-1,e.r=320,i=135,e.offent=cc.v3(180,120),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180):(e.dir=-1,e.r=250,i=135,e.offent=cc.v3(180,120),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180):4==this.mCol&&0==this.mRow?1==t?(e.dir=-1,e.r=540,i=45,e.offent=cc.v3(350,650),e.endRadian=Math.PI/180*(180+i),e.startRadian=Math.PI/180*270):(e.dir=-1,e.r=500,i=45,e.offent=cc.v3(350,650),e.endRadian=Math.PI/180*(180+i),e.startRadian=Math.PI/180*270):4==this.mCol&&1==this.mRow?(1==t?(e.dir=-1,e.r=440,i=15,e.offent=cc.v3(350,400),e.endRadian=Math.PI/180*(180+i),e.startRadian=Math.PI/180*270):(e.dir=-1,e.r=400,i=15,e.offent=cc.v3(350,400),e.endRadian=Math.PI/180*(180+i),e.startRadian=Math.PI/180*270),e.speed=1.2):4==this.mCol&&2==this.mRow&&(1==t?(e.dir=-1,e.r=410,i=170,e.offent=cc.v3(350,210),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180):(e.dir=-1,e.r=350,i=170,e.offent=cc.v3(350,210),e.endRadian=i*Math.PI/180,e.startRadian=270*Math.PI/180))},t.prototype.creatorPref=function(e,t){var i=cc.instantiate(this.pref),a=i.getComponent("GoldIngotItem");a.endEvn=this.end,a.caller=this,e?this.setArgLeft(a,t):this.setArgRight(a,t),i.setParent(this.parentNode),i.scale=.2,1!=this.mCol&&3!=this.mCol||0!=this.mRow?2==this.mCol&&2==this.mRow?cc.tween(i).to(.6,{scale:.3}).to(.4,{scale:.2}).start():0!=this.mCol&&4!=this.mCol||2!=this.mRow?0!=this.mCol&&4!=this.mCol||1!=this.mRow?0!=this.mCol&&4!=this.mCol||0!=this.mRow?1!=this.mCol&&3!=this.mCol||1!=this.mRow?cc.tween(i).to(.8,{scale:.3}).to(.8,{scale:.2}).start():cc.tween(i).to(.5,{scale:.3}).to(.5,{scale:.2}).start():cc.tween(i).to(.3,{scale:.3}).to(.4,{scale:.2}).start():cc.tween(i).to(.4,{scale:.3}).to(.4,{scale:.2}).start():cc.tween(i).to(.5,{scale:.3}).to(.5,{scale:.2}).start():cc.tween(i).to(.4,{scale:.3}).to(.4,{scale:.2}).start()},t.prototype.setArgRight=function(e,t){var i;0==this.mCol&&0==this.mRow?(e.dir=-1,e.r=500,i=45,e.offent=cc.v3(0,-180),e.startRadian=Math.PI/180*(90+i),e.endRadian=Math.PI/180*90,e.speed=1):0==this.mCol&&1==this.mRow?(e.dir=-1,e.r=400,i=-20,e.offent=cc.v3(0,-100),e.startRadian=Math.PI/180*(180+i),e.endRadian=Math.PI/180*90,e.speed=1.2):0==this.mCol&&2==this.mRow?(e.dir=-1,e.r=350,i=10,e.offent=cc.v3(0,-55),e.startRadian=(180+i)*Math.PI/180,e.endRadian=90*Math.PI/180):1==this.mCol&&0==this.mRow?(e.dir=-1,e.r=350,i=-45,e.offent=cc.v3(10,-80),e.startRadian=Math.PI/180*(180+i),e.endRadian=Math.PI/180*90):1==this.mCol&&1==this.mRow?(e.dir=-1,e.r=200,i=0,e.offent=cc.v3(0,80),e.startRadian=Math.PI/180*(180+i),e.endRadian=Math.PI/180*90):1==this.mCol&&2==this.mRow&&(1==t?(e.dir=-1,e.r=290,i=45,e.offent=cc.v3(0,10),e.startRadian=(180+i)*Math.PI/180,e.endRadian=90*Math.PI/180):(e.dir=-1,e.r=250,i=45,e.offent=cc.v3(0,40),e.startRadian=(180+i)*Math.PI/180,e.endRadian=90*Math.PI/180)),2==this.mCol&&0==this.mRow?1==t?(e.dir=-1,e.r=90,i=270,e.offent=cc.v3(0,230),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90):(e.dir=-1,e.r=50,i=270,e.offent=cc.v3(0,230),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90):2==this.mCol&&1==this.mRow?1==t?(e.dir=-1,e.r=190,i=240,e.offent=cc.v3(50,140),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*120):(e.dir=-1,e.r=150,i=270,e.offent=cc.v3(0,140),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90):2==this.mCol&&2==this.mRow?1==t?(e.dir=-1,e.r=290,i=240,e.offent=cc.v3(150,80),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*120):(e.dir=-1,e.r=210,i=270,e.offent=cc.v3(0,80),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*110):3==this.mCol&&0==this.mRow?(e.dir=1,e.r=350,i=60,e.offent=cc.v3(0,-60),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90,e.speed=1):3==this.mCol&&1==this.mRow?(e.dir=1,e.r=200,i=0,e.offent=cc.v3(0,80),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90):3==this.mCol&&2==this.mRow?(e.dir=1,e.r=250,i=45,e.offent=cc.v3(0,60),e.startRadian=-i*Math.PI/180,e.endRadian=90*Math.PI/180):4==this.mCol&&0==this.mRow?(e.dir=1,e.r=500,i=45,e.offent=cc.v3(0,-180),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90):4==this.mCol&&1==this.mRow?(e.dir=1,e.r=400,i=20,e.offent=cc.v3(0,-100),e.startRadian=Math.PI/180*i,e.endRadian=Math.PI/180*90,e.speed=1.2):4==this.mCol&&2==this.mRow&&(e.dir=1,e.r=350,i=10,e.offent=cc.v3(0,-55),e.startRadian=-i*Math.PI/180,e.endRadian=90*Math.PI/180)},t.prototype.end=function(){var e=this;this.count++,0==this.countTarget&&cc.error("end",this.count,this.countTarget),this.count==this.countTarget&&(this.endEvn(this.caller),this.scheduleOnce(function(){e.node.destroy()},2))},n([_(cc.Prefab)],t.prototype,"pref",void 0),n([r],t)}(cc.Component);i.default=s,cc._RF.pop()},{}],ItemCtrl_CR_FireRes_SpeZodiac:[function(e,t,i){"use strict";cc._RF.push(t,"7c8f2oSPKsELVzDDz3kX54i","ItemCtrl_CR_FireRes_SpeZodiac");var a,o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__decorate||function(e,t,i,a){var o,n=arguments.length,m=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(m=(n<3?o(m):n>3?o(t,i,m):o(t,i))||m);return n>3&&m&&Object.defineProperty(t,i,m),m};Object.defineProperty(i,"__esModule",{value:!0});var m,r=cc._decorator,_=r.ccclass;r.property,function(e){e[e.TC_NONR=0]="TC_NONR",e[e.TC_Trans=1]="TC_Trans",e[e.TC_End=2]="TC_End"}(m||(m={}));var s=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.call(this)||this;a.m_iTransCtrl=m.TC_NONR,a.caller=null,a.AllStopBackEvn=null,a.AColStopBackEvn=null,a.AShowNumBackEvn=null,a.m_fImageHeight=0,a.m_ary_fTransSpeed=[],a.m_ary_fTransSpeedNow=[],a.m_arys_iItemResult=new Array,a.m_ary_iShowResultIdTemp=[],a.m_ary_bIsCanStop=[],a.m_ary_bIsStoped=[],a.m_fX1=0,a.m_fX2=0,a.m_fParabolaHeight=0,a.m_iParabolaReboundSpeed=0,a.m_ary_fParabolaXTemp=[],a.m_ary_bIsCanShowParabola=[],a.m_iStopedCount=0,a.m_ary_SpBGRes=[],a.m_ary_SpItemRes=[],a.m_dic_ListImage=null,a.m_ary_VecStartAncPos=[],a.m_iBet=1,a.m_GameTypeCurIndex=0,a.m_dic_ListItemNum=null,a.m_iItem_WILD=8,a.m_iItem_FREE=10,a.m_iItem_JackpotBegain=11,a.m_iItem_FireBegain=10,a.m_iItem_FireEnd=115,a.m_iItem_NornalEnd=8,a.m_animationFire=0,a.m_ary_imagLight=new Array(3);var o=t[0],n=t[1],r=t[2],_=t[3],s=t[4],c=t[5],l=t[6],h=t[7],S=t[8],u=t[9],d=t[10],p=t[11],g=t[12];if(null==n||null==_||u<0)return cc.log("[ItemCtrl]-> \u521d\u59cb\u5316\u5931\u8d25\uff01"),a;p<=0&&(p=40),a.m_ary_SpItemRes=n,a.m_ary_SpBGRes=o,a.m_ary_imagLight=r,cc.log("\u521d\u59cb\u5316:",o),a.m_dic_ListImage=new Map;for(var f=0;f<_.length;f++){for(var I=new Array(_[0].length),P=0;P<_[0].length;P++)I[P]=_[f][P];a.m_dic_ListImage.set(f,I)}for(a.m_dic_ListItemNum=new Map,f=0;f<s.length;f++){for(I=new Array(s[0].length),P=0;P<s[0].length;P++)I[P]=s[f][P];a.m_dic_ListItemNum.set(f,I)}for(f=0;f<_[0].length;f++){var y=_[0][f].position;a.m_ary_VecStartAncPos[f]=cc.v2(y.x,y.y)}a.m_fImageHeight=Math.abs(a.m_ary_VecStartAncPos[1].y-a.m_ary_VecStartAncPos[0].y),a.caller=c,a.AllStopBackEvn=l,a.AColStopBackEvn=h,a.AShowNumBackEvn=S,a.m_bIsShowParabola=d,a.m_iParabolaReboundSpeed=p,a.m_fParabolaHeight=a.m_fImageHeight*g;var G=_.length,T=_[0].length-2;for(a.m_ary_fTransSpeed=new Array(G),a.m_ary_fTransSpeedNow=new Array(G),f=0;f<a.m_ary_fTransSpeed.length;f++)a.m_ary_fTransSpeed[f]=u,a.m_ary_fTransSpeedNow[f]=u;for(a.m_ary_iShowResultIdTemp=new Array(G),f=0;f<G;f++)for(a.m_arys_iItemResult[f]=[],P=0;P<T;P++)a.m_arys_iItemResult[f][P]=0;return a.m_ary_bIsCanStop=new Array(G),a.m_ary_bIsStoped=new Array(G),a.m_ary_fParabolaXTemp=new Array(G),a.m_ary_bIsCanShowParabola=new Array(G),a.m_fX1=-Math.sqrt(a.m_fParabolaHeight),a.m_fX2=-a.m_fX1,a}return o(t,e),t.prototype.StateItemCtrl=function(){switch(this.m_iTransCtrl){case m.TC_NONR:break;case m.TC_Trans:this.m_iStopedCount=0;for(var e=0;e<this.m_ary_bIsStoped.length;e++)this.m_ary_bIsStoped[e]&&this.m_iStopedCount++;if(this.m_iStopedCount==this.m_ary_bIsStoped.length)return void(this.m_iTransCtrl=m.TC_End);for(e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsStoped[e]||this.OnTransing(e,this.m_ary_bIsCanStop[e],this.m_bIsShowParabola);break;case m.TC_End:this.m_iTransCtrl=m.TC_NONR,null!=this.AllStopBackEvn&&this.AllStopBackEvn.call(this.caller)}},t.prototype.ShowInitResultSpr=function(){for(var e=0;e<this.m_dic_ListImage.size;e++)for(var t=0;t<this.m_dic_ListImage.get(e).length;t++)if(t>0&&t<this.m_dic_ListImage.get(e).length-1){var i=this.m_dic_ListImage.get(e),a=cc.find("Item",i[t]).getComponent(cc.Sprite),o=cc.find("Panel_NumPar",i[t]),n=cc.find("AnimBG",i[t]).getComponent(cc.Sprite),m=this.m_dic_ListItemNum.get(e),r=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-t];this.isFireNum(r)?(a.node.active=!1,o.active=!0,m[t].ShowNum2(this.GetFireNumStr(r),!0,!1),0==this.GetFireNumStr(r)&&(o.active=!1),this.m_ary_SpBGRes&&(n.spriteFrame=r>=10&&r<=15?this.m_ary_SpBGRes[6]:r>=17&&r<=25?this.m_ary_SpBGRes[8]:this.m_ary_SpBGRes[7]),n.node.active=!0):this.isJackPotNum(r)?(a.node.active=!0,o.active=!1,a.spriteFrame=this.m_ary_SpItemRes[r]):(o.active=!1,a.spriteFrame=this.m_ary_SpItemRes[r],a.node.active=!0,this.m_ary_SpBGRes&&(r>=4&&r<=7?(n.spriteFrame=this.m_ary_SpBGRes[r-3],n.node.active=!0):n.spriteFrame=this.m_ary_SpBGRes[0])),this.m_dic_ListImage.set(e,i),this.m_dic_ListItemNum.set(e,m)}else{var _=this.m_dic_ListImage.get(e),s=this.GetNormalResult(),c=cc.find("Item",_[t]).getComponent(cc.Sprite);c.node.active=!0,c.spriteFrame=this.m_ary_SpItemRes[s],this.m_dic_ListImage.set(e,_)}},t.prototype.OnTrans=function(){if(this.m_iTransCtrl==m.TC_NONR){for(var e=0;e<this.m_arys_iItemResult.length;e++){for(var t=0;t<this.m_arys_iItemResult[0].length;t++)this.m_arys_iItemResult[e][t]=-1;this.m_ary_iShowResultIdTemp[e]=0,this.m_ary_fParabolaXTemp[e]=0,this.m_ary_bIsCanStop[e]=!1,this.m_ary_bIsStoped[e]=!1,this.m_ary_bIsCanShowParabola[e]=!1,this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]}this.m_iTransCtrl=m.TC_Trans}},t.prototype.SetAllItemResult=function(e){if(null!=e&&e.length==this.m_arys_iItemResult.length)for(var t=0;t<e.length;t++)for(var i=0;i<e[0].length;i++)this.m_arys_iItemResult[t][i]=e[t][i];else cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAllItemResult() \u8bbe\u7f6e\u7ed3\u679c\u5931\u8d25")},t.prototype.SetOneItemResult=function(e,t,i){e<0||e>=this.m_arys_iItemResult.length||t<0||t>=this.m_arys_iItemResult[0].length||i<0||i>=this.m_ary_SpItemRes.length?cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetOneResultImage() \u4f20\u5165\u53c2\u6570\u6709\u8bef\uff01col\uff1a"+e+"    row"+t+"  iResult\uff1a"+i):(this.m_arys_iItemResult[e][t]=i,cc.find("Item",this.m_dic_ListImage[e][this.m_dic_ListImage[e].Count-2-t].node).getComponent(cc.Sprite).spriteFrame=this.m_ary_SpItemRes[this.m_arys_iItemResult[e][t]])},t.prototype.SetAllItemStop=function(){if(this.m_iTransCtrl==m.TC_Trans)for(var e=0;e<this.m_ary_bIsCanStop.length;e++)this.m_ary_bIsCanStop[e]=!0},t.prototype.SetAColItemStop=function(e){this.m_iTransCtrl!=m.TC_Trans||e<0||e>=this.m_ary_bIsCanStop.length?cc.log("[ItemCtrl_CR_MulRes_SpeRoute]-> SetAColItemStop() \u5931\u8d25\uff01m_iTransCtrl= "+this.m_iTransCtrl+"   col\uff1a"+e):this.m_ary_bIsCanStop[e]=!0},t.prototype.Get_m_ary_bIsCanStop=function(e){return!(e<0||e>=this.m_ary_bIsCanStop.length)&&this.m_ary_bIsCanStop[e]},t.prototype.Get_m_ary_bIsStoped=function(e){return!(e<0||e>=this.m_ary_bIsStoped.length)&&this.m_ary_bIsStoped[e]},t.prototype.GetImage=function(e,t){return e<0||e>=this.m_arys_iItemResult.length||t<0||t>=this.m_arys_iItemResult[0].length?null:this.m_dic_ListImage.get(e)[this.m_dic_ListImage.get(e).length-2-t]},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_iTransCtrl==m.TC_NONR},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),e<0||e>this.m_ary_fTransSpeedNow.length||t<=0||(this.m_ary_fTransSpeedNow[e]=this.m_ary_fTransSpeed[e]*t)},t.prototype.OnTransing=function(e,t,i){this.m_ary_iShowResultIdTemp[e]<this.m_arys_iItemResult[0].length?this.OnTransLogic(e,t):this.m_ary_bIsCanShowParabola[e]?i?this.ShowParabolaEff(e,this.ParabolaLogic(e,this.m_fParabolaHeight)):(this.m_ary_bIsStoped[e]=!0,this.ShowParabolaEff(e,0),null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)):this.OnTransLogic(e,!1)},t.prototype.OnTransLogic=function(e,t){for(var i=this.m_ary_fTransSpeedNow[e]*cc.director.getDeltaTime(),a=this.m_dic_ListImage.get(e),o=this.m_dic_ListItemNum.get(e),n=0;n<this.m_dic_ListImage.get(e).length;n++)a[n].position=cc.v3(a[n].position.x,a[n].y-i,0);var m=a[0],r=o[0];if(m.position.y<=this.m_ary_VecStartAncPos[0].y-this.m_fImageHeight){this.m_ary_iShowResultIdTemp[e]>=this.m_arys_iItemResult[0].length&&(this.m_ary_bIsCanShowParabola[e]=!0,t=!1);var _=0;if(t){if(-1!=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-1]){_=this.m_arys_iItemResult[e][this.m_arys_iItemResult[0].length-1-this.m_ary_iShowResultIdTemp[e]];var s=cc.find("Item",m).getComponent(cc.Sprite),c=cc.find("Panel_NumPar",m),l=cc.find("AnimBG",m).getComponent(cc.Sprite);if(this.isFireNum(_)){if(c.active=!0,s.node.active=!1,r.ShowNum2(this.GetFireNumStr(_),!0,!1),0==this.GetFireNumStr(_)&&(c.active=!1),this.m_ary_SpBGRes){var h=cc.find("light",m).getComponent(cc.Sprite);_>=10&&_<=15?(l.spriteFrame=this.m_ary_SpBGRes[6],h.spriteFrame=this.m_ary_imagLight[0]):_>=17&&_<=25?(l.spriteFrame=this.m_ary_SpBGRes[8],h.spriteFrame=this.m_ary_imagLight[2]):(l.spriteFrame=this.m_ary_SpBGRes[7],h.spriteFrame=this.m_ary_imagLight[1]),this.scheduleOnce(function(){m.getComponent(cc.Animation).play("Anim_SlotItem_Fire")},.5)}l.node.active=!0}else this.isJackPotNum(_)?(c.active=!1,s.node.active=!0,s.spriteFrame=this.m_ary_SpItemRes[_],m.getComponent(cc.Animation).play("Anim_SlotItem_jackpot")):_==this.m_iItem_WILD?(c.active=!1,s.spriteFrame=this.m_ary_SpItemRes[_],s.node.active=!0,this.m_ary_SpBGRes&&(l.spriteFrame=this.m_ary_SpBGRes[0]),m.getComponent(cc.Animation).play("Anim_SlotItem_WILD")):(c.active=!1,s.spriteFrame=this.m_ary_SpItemRes[_],s.node.active=!0,this.m_ary_SpBGRes&&(m.getComponent(cc.Animation).stop(),_>=4&&_<=7?(l.spriteFrame=this.m_ary_SpBGRes[_-3],l.node.active=!0):l.spriteFrame=this.m_ary_SpBGRes[0]));this.m_ary_iShowResultIdTemp[e]++}}else _=this.GetRandomItemSpIndex(),s=cc.find("Item",m).getComponent(cc.Sprite),c=cc.find("Panel_NumPar",m),l=cc.find("AnimBG",m).getComponent(cc.Sprite),this.isFireNum(_)?(s.node.active=!1,c.active=!0,r.ShowNum2(this.GetFireNumStr(_),!0,!1),0==this.GetFireNumStr(_)&&(c.active=!1),this.m_ary_SpBGRes&&(l.spriteFrame=_>=10&&_<=15?this.m_ary_SpBGRes[6]:_>=17&&_<=25?this.m_ary_SpBGRes[7]:this.m_ary_SpBGRes[8]),l.node.active=!0):this.isJackPotNum(_)?(cc.error("\u968f\u673a\u5f69\u91d1"),c.active=!1,s.spriteFrame=this.m_ary_SpItemRes[_],s.node.active=!0):(c.active=!1,s.spriteFrame=this.m_ary_SpItemRes[_],s.node.active=!0,this.m_ary_SpBGRes&&(_>=4&&_<=7?(l.spriteFrame=this.m_ary_SpBGRes[_-3],l.node.active=!0):l.spriteFrame=this.m_ary_SpBGRes[0]));var S=m.position.y-this.m_ary_VecStartAncPos[0].y+this.m_fImageHeight;m.position=cc.v3(this.m_ary_VecStartAncPos[this.m_ary_VecStartAncPos.length-1].x,this.m_ary_VecStartAncPos[this.m_ary_VecStartAncPos.length-1].y+S,0),a.shift(),a.push(m),o.shift(),o.push(r),this.m_dic_ListImage.set(e,a),this.m_dic_ListItemNum.set(e,o)}},t.prototype.ParabolaLogic=function(e,t){this.m_ary_fParabolaXTemp[e]+=cc.director.getDeltaTime()*this.m_iParabolaReboundSpeed;var i=this.m_fX1+this.m_ary_fParabolaXTemp[e];return(i=(i=i<this.m_fX1?this.m_fX1:i)>this.m_fX2?this.m_fX2:i)>=this.m_fX2&&(this.m_ary_bIsStoped[e]=!0,null!=this.AColStopBackEvn&&this.AColStopBackEvn.call(this.caller,e)),i*i-t},t.prototype.ShowParabolaEff=function(e,t){for(var i=this.m_dic_ListImage.get(e),a=0;a<i.length;a++)this.m_ary_bIsStoped[e]?i[a].position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y,0):i[a].position=cc.v3(this.m_ary_VecStartAncPos[a].x,this.m_ary_VecStartAncPos[a].y+t,0);this.m_dic_ListImage.set(e,i)},t.prototype.GetNormalResult=function(){return Math.floor(Math.random()*this.m_iItem_NornalEnd)},t.prototype.GetRandomItemSpIndex=function(){var e=Math.floor(Math.random()*(this.m_iItem_NornalEnd+2));if(e==this.m_iItem_NornalEnd+1)if(1==this.m_GameTypeCurIndex)e=Math.floor(Math.random()*this.m_iItem_NornalEnd);else{var t=Math.floor(6*Math.random());e=this.m_iItem_FireBegain+t}else e==this.m_iItem_NornalEnd+2&&(e=this.m_iItem_WILD);return e>=this.m_ary_SpItemRes.length&&(e=0),e},t.prototype.isFireNum=function(e){return e>=this.m_iItem_FireBegain&&e<=this.m_iItem_FireEnd},t.prototype.GetFireNumStr=function(e){return null!=this.AShowNumBackEvn?this.AShowNumBackEvn.call(this.caller,e):this.GetFireNumStr_Normal(e)},t.prototype.GetFireNumStr_Normal=function(e){var t=0;if(this.isFireNum(e)){var i=e-this.m_iItem_FireBegain;e<this.m_iItem_FireEnd-1?t=25*(i+2)*this.m_iBet:e==this.m_iItem_FireEnd-1?t=2500*this.m_iBet:e==this.m_iItem_FireEnd&&(t=5e3*this.m_iBet)}return t},t.prototype.isJackPotNum=function(e){return e>=this.m_iItem_JackpotBegain&&e<this.m_iItem_JackpotBegain+4},t.prototype.updateData=function(e,t,i){var a=e,o=3-t,n=this.m_dic_ListImage.get(a),m=cc.find("Item",n[o]).getComponent(cc.Sprite),r=cc.find("Panel_NumPar",n[o]),_=cc.find("AnimBG",n[o]).getComponent(cc.Sprite),s=this.m_dic_ListItemNum.get(a);m.node.active=!1,r.active=!0,s[o].ShowNum2(i,!0,!1),_.node.active=!0},n([_],t)}(cc.Component);i.default=s,cc._RF.pop()},{}]},{},["DataManager_Zodiac","DealAutoTrans_Zodiac","DealBetRelevant_Zodiac","DealItemRelevant_Zodiac","DealSpecial_Zodiac","DealWinProcess_Zodiac","GameLogic_Zodiac","Game_Zodiac","GoldIngot","GoldIngotItem","ItemCtrl_CR_FireRes_SpeZodiac"]);