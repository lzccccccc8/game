window.__require=function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var l=r.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){return o(e[r][1][t]||t)},p,p.exports,t,e,n,i)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({SHOTKENO_BtnMgr:[function(t,e,n){"use strict";cc._RF.push(e,"21cbf+REOhAsrBRfSD3Vvtn","SHOTKENO_BtnMgr");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./SHOTKENO_GameDefine"),a=cc._decorator,l=a.ccclass,s=(a.inspector,a.property),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnDonate=null,e.btnRevealplus=null,e.btnToLobby=null,e.btnHelp=null,e.btnQuickPick=null,e.btnErase=null,e.btnAdd=null,e.btnMax=null,e.btnAutoPlay=null,e.btnAutoStop=null,e.btnSoundOn=null,e.btnSoundOff=null,e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.btnAddClick=function(){this.game.iGameBase.EmitEvent(r.EventCode.changeMultiple,{bMultiple:!0,bMax:!1}),this.game.iAudioPlayer.play_sound("hkeno_btn_add")},e.prototype.btnMaxClick=function(){this.game.iGameBase.EmitEvent(r.EventCode.changeMultiple,{bMultiple:!0,bMax:!0}),this.game.iAudioPlayer.play_sound("hkeno_btn_max")},e.prototype.btnSoundOnClick=function(){this.btnSoundOn.node.active=!1,this.btnSoundOff.interactable=!0,this.game.iAudioPlayer.setMute(!0)},e.prototype.btnSoundOffClick=function(){this.btnSoundOn.node.active=!0,this.btnSoundOff.interactable=!1,this.game.iAudioPlayer.setMute(!1)},e.prototype.setCanOperate=function(t){this.btnDonate.interactable=t,this.btnRevealplus.interactable=t,this.btnToLobby.interactable=t,this.btnHelp.interactable=t,this.btnQuickPick.interactable=t,this.btnErase.interactable=t,this.btnAdd.interactable=t,this.btnMax.interactable=t,this.btnAutoPlay.interactable=t},e.prototype.setAutoStatu=function(t){this.btnAutoPlay.node.active=!t,this.btnAutoStop.interactable=t},c([s({type:cc.Button})],e.prototype,"btnDonate",void 0),c([s({type:cc.Button})],e.prototype,"btnRevealplus",void 0),c([s({type:cc.Button})],e.prototype,"btnToLobby",void 0),c([s({type:cc.Button})],e.prototype,"btnHelp",void 0),c([s({type:cc.Button})],e.prototype,"btnQuickPick",void 0),c([s({type:cc.Button})],e.prototype,"btnErase",void 0),c([s({type:cc.Button})],e.prototype,"btnAdd",void 0),c([s({type:cc.Button})],e.prototype,"btnMax",void 0),c([s({type:cc.Button})],e.prototype,"btnAutoPlay",void 0),c([s({type:cc.Button})],e.prototype,"btnAutoStop",void 0),c([s({type:cc.Button})],e.prototype,"btnSoundOn",void 0),c([s({type:cc.Button})],e.prototype,"btnSoundOff",void 0),c([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./SHOTKENO_GameDefine":"SHOTKENO_GameDefine"}],SHOTKENO_Cell:[function(t,e,n){"use strict";cc._RF.push(e,"eb7bfcUD4tAWaqIR73SOi4b","SHOTKENO_Cell");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=r.inspector,s=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=null,e.select=null,e.match=null,e.lblNormal=null,e.lblSelect=null,e.lblMatch=null,e.matchSign=null,e._num=-1,e._onClick=null,e._isSelet=!1,e}return o(e,t),Object.defineProperty(e.prototype,"isSelect",{get:function(){return this._isSelet},enumerable:!1,configurable:!0}),e.prototype.init=function(t,e){this._onClick=e,this._num=t,this.setNormal()},e.prototype.setNormal=function(){this.normal.opacity=255,this.match.opacity=0,this.select.opacity=0,this.lblNormal.string=String(this._num),this._isSelet=!1},e.prototype.setSelect=function(){this.normal.opacity=0,this.match.opacity=0,this.select.opacity=255,this.lblSelect.string=String(this._num),this._isSelet=!0},e.prototype.setMathed=function(){this.normal.opacity=0,this.select.opacity=0,this.match.opacity=255,this.lblMatch.string=""+this._num,this.matchSign.scale=1.5,cc.tween(this.matchSign).to(.35,{scale:1}).start()},e.prototype.onSelectClick=function(){this._onClick&&this._onClick(this._num-1)},c([s({type:cc.Node})],e.prototype,"normal",void 0),c([s({type:cc.Node})],e.prototype,"select",void 0),c([s({type:cc.Node})],e.prototype,"match",void 0),c([s({type:cc.Label})],e.prototype,"lblNormal",void 0),c([s({type:cc.Label})],e.prototype,"lblSelect",void 0),c([s({type:cc.Label})],e.prototype,"lblMatch",void 0),c([s({type:cc.Node})],e.prototype,"matchSign",void 0),c([a,l("packages://autoproperty/inspector.js")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],SHOTKENO_DonatoAmount:[function(t,e,n){"use strict";cc._RF.push(e,"d0a0dGqTvVEjJX6L2bh4/mz","SHOTKENO_DonatoAmount");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./SHOTKENO_GameDefine"),a=cc._decorator,l=a.ccclass,s=a.inspector,p=a.property,h=[1,5,10,20,100],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnScoreArray=[],e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.show=function(t){var e=this.btnScoreArray.length;if(t.winning>100){for(var n=0;n<e;n++)this.btnScoreArray[n].interactable=t.winning>=100*h[n];this.btnScoreArray[e-1].interactable=!0}else for(n=0;n<e;n++)this.btnScoreArray[n].interactable=!1;this._gameInfo=t,this.node.active=!0},e.prototype.OnCloseBtnClick=function(){this.node.active=!1},e.prototype.OnScoreBtnClick=function(t,e){var n=e<6?100*h[e-1]:this._gameInfo.winning;cc.error("\u5f53\u524d\u5206\u6570\uff1a"+this._gameInfo.winning,"\u63d0\u53d6\u5206\u6570\uff1a",n),this.game.iGameBase.EmitEvent(r.EventCode.converScore,{fScore:n}),this.OnCloseBtnClick()},c([p([cc.Button])],e.prototype,"btnScoreArray",void 0),c([l,s("packages://autoproperty/inspector.js")],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SHOTKENO_GameDefine":"SHOTKENO_GameDefine"}],SHOTKENO_FireBallEffect:[function(t,e,n){"use strict";cc._RF.push(e,"3fcd2q4lAZEyJTvAVAdgapU","SHOTKENO_FireBallEffect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fireballSmall=null,e.fireballBig=null,e.hitWin=null,e.lblGameWin=null,e._cb=null,e._gamewin=0,e._lastNum=0,e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.playEffect=function(t,e,n,i){this._cb=i,this._gamewin=e,this._lastNum=n,this.node.setPosition(t),this.fireballSmall.play(),this.game.iAudioPlayer.play_sound("hkeno_4x"),this.scheduleOnce(this.startCurveMove.bind(this),.836)},e.prototype.startCurveMove=function(){var t=this.node.getPosition(),e=cc.v2();cc.tween(this.node).then(this.bezier(t,e)).call(this.fireBallSmallComplete.bind(this)).start()},e.prototype.fireBallSmallComplete=function(){this.fireballSmall.node.active=!1,this.fireballBig.node.active=!0,this.hitWin.node.active=!0,this.hitWin.on(cc.Animation.EventType.FINISHED,this.hide.bind(this)),this.hitWin.play(),this.scheduleOnce(this.showGameWin.bind(this),1.11)},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(1,{opacity:0}).call(function(){t._cb&&t._cb(t._gamewin),t.node.destroy()}).start()},e.prototype.showGameWin=function(){this.lblGameWin.node.opacity=0,this.lblGameWin.string=String(this._lastNum),cc.tween(this.lblGameWin.node).to(.25,{opacity:255}).start()},e.prototype.bezier=function(t,e){var n=t.x+t.x/2,i=cc.v2(n,t.y-t.y/3*2),o=cc.v2(t.x,e.y-50);return cc.bezierTo(.25,[i,o,e])},c([l({type:cc.Animation})],e.prototype,"fireballSmall",void 0),c([l({type:cc.Animation})],e.prototype,"fireballBig",void 0),c([l({type:cc.Animation})],e.prototype,"hitWin",void 0),c([l({type:cc.Label})],e.prototype,"lblGameWin",void 0),c([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],SHOTKENO_GameDefine:[function(t,e,n){"use strict";var i,o,c,r,a,l,s,p,h,u;cc._RF.push(e,"51ec8gMv85BqoHPRcirPYQm","SHOTKENO_GameDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.HintType=n.format_number=n.EventCode=n.matchConfig=void 0;var f=cc._decorator;f.ccclass,f.property,n.matchConfig=((i={})[2]=((o={})[1]=25,o[2]=150,o),i[3]=((c={})[2]=50,c[3]=700,c),i[4]=((r={})[2]=25,r[3]=175,r[4]=1125,r),i[5]=((a={})[2]=25,a[3]=50,a[4]=300,a[5]=2500,a),i[6]=((l={})[3]=50,l[4]=175,l[5]=950,l[6]=3875,l),i[7]=((s={})[3]=25,s[4]=100,s[5]=375,s[6]=1875,s[7]=10500,s),i[8]=((p={})[3]=25,p[4]=50,p[5]=150,p[6]=750,p[7]=2625,p[8]=15750,p),i[9]=((h={})[4]=50,h[5]=125,h[6]=450,h[7]=1500,h[8]=6775,h[9]=5e4,h),i[10]=((u={})[4]=25,u[5]=100,u[6]=250,u[7]=600,u[8]=2900,u[9]=5e4,u[10]=5e4,u),i),function(t){t.revealPlus="revealPlus",t.changeMultiple="changeMultiple",t.converScore="converScore"}(n.EventCode||(n.EventCode={})),n.format_number=function(t){for(var e=(t+="").split("."),n=e[0],i=e.length>1?"."+e[1]:"",o=/(\d+)(\d{3})/;o.test(n);)n=n.replace(o,"$1,$2");return n+i},function(t){t[t.level=1]="level",t[t.start=2]="start",t[t.select=3]="select"}(n.HintType||(n.HintType={})),cc._RF.pop()},{}],SHOTKENO_GameInfo:[function(t,e,n){"use strict";cc._RF.push(e,"699eaX7+rJGf5kkYb/BJVz4","SHOTKENO_GameInfo");var i=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,r=(o.property,function(){function t(t,e,n){this.entries=0,this.jpes=0,this.multiple=0,this.gameWin=0,this.winning=0,this.prizeReveal=0,this.jpes=0,this.gameWin=0,this.prizeReveal=0,this.multiple=t,this.entries=e,this.winning=n}return i([c],t)}());n.default=r,cc._RF.pop()},{}],SHOTKENO_GameLogic:[function(t,e,n){"use strict";cc._RF.push(e,"91357DPjAZKpLFaE/U8Qahd","SHOTKENO_GameLogic");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,c=n.call(t),r=[];try{for(;(void 0===e||e-- >0)&&!(i=c.next()).done;)r.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}return r};Object.defineProperty(n,"__esModule",{value:!0});var l=t("./SHOTKENO_BtnMgr"),s=t("./SHOTKENO_Cell"),p=t("./SHOTKENO_FireBallEffect"),h=t("./SHOTKENO_GameDefine"),u=t("./SHOTKENO_GameInfo"),f=t("./SHOTKENO_JackPotAward"),d=t("./SHOTKENO_MatchReward"),y=t("./SHOTKENO_ResourcesMgr"),b=t("./SHOTKENO_Rule"),m=t("./SHOTKENO_Speedometer"),g=t("./SHOTKENO_WinEffect"),v=cc._decorator,_=v.ccclass,O=v.property,S=function(t){function e(){var e=t.call(this)||this;return e.game=null,e.lblUserInfo=null,e.lblEntries=null,e.lbljpes=null,e.lblGameWin=null,e.lblWinning=null,e.lblMultiple=null,e.lblHint=null,e.lblNumberMatched=null,e.grid=null,e.ballContainer=null,e.points=[],e.lblHitArray=[],e.lblPayArray=[],e.leftLight=null,e.pipeFlicker=null,e.leftRun=null,e.pipeLight=null,e.matchReward=null,e.progressive=null,e.lblProgressive=null,e.bottom=null,e.lblJackpotArray=[],e.effectLayout=null,e.speedometer=null,e.signal=null,e.jackPotStatuSign=null,e.cellArray=null,e.rule=null,e.selectNumCount=0,e.selectCellMap=null,e.matchCellMap=null,e.ballArray=null,e.ballCompCount=0,e.ballIndex=0,e.tier=0,e.matchNumCount=0,e.gameInfo=null,e.hintType=h.HintType.select,e.setHintHanle=null,e.isCanSelect=!0,e.isAuto=!1,e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.onLoad=function(){this.ballArray=[]},e.prototype.start=function(){this.progressive.play("progressive1"),this.setHintHanle=this.setHint.bind(this,null),this.setHint(h.HintType.select),this.game.iGameBase.isNoWin()&&(this.lblWinning.node.active=!1)},e.prototype.onDestroy=function(){},e.prototype.ininResolution=function(){var t=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),e=this.node.width*t,n=this.node.height*t;this.node.width=this.node.width*(cc.view.getCanvasSize().width/e),this.node.height=this.node.height*(cc.view.getCanvasSize().height/n)},e.prototype.windowSizeChange=function(){cc.error("windowSizeChange"),this.grid.getComponent(cc.Widget).updateAlignment();for(var t=0,e=(this.grid.width-45)/10,n=(this.grid.height-14)/8,i=0;i<8;i++)for(var o=0;o<10;o++){var c=cc.v2(.5*e+o*e+5*o,-.5*n-i*n-2*i),r=this.cellArray[t];r.node.setContentSize(e,n),r.node.setPosition(c),t++}cc.error("windowSizeChange end")},e.prototype.onGameScene=function(t,e,n,i,o){this.gameInfo=new u.default(t,e,n),this.lblEntries.string=this.game.iGameBase.getNum(e,!0),this.lblMultiple.string=this.game.iGameBase.getNum(t,!0),this.lblWinning.string=this.game.iGameBase.getNum(n,!0),this.lblGameWin.string="0",this.lblUserInfo.string=this.game.iGameBase.GlobalUserItem_account()+"("+this.game.iGameBase.GlobalUserItem_getUserID()+")",this.updateProgressiveScore(i),this.UpdateJackPot(o),this.initCell(),this.game.iGameBase.setExectUpdate(!0)},e.prototype.OnUpScore=function(t){this.gameInfo.entries+=t,this.lblEntries.string=this.game.iGameBase.getNum(this.gameInfo.entries,!0)},e.prototype.initCell=function(){this.cellArray=[],this.selectCellMap=new Map,this.matchCellMap=new Map;for(var t=0,e=(this.grid.width-45)/10,n=(this.grid.height-14)/8,i=this.game.resourMgr.getRes("cell",y.ResourceType.prefab,cc.Prefab),o=0;o<8;o++)for(var c=0;c<10;c++){var r=cc.instantiate(i);this.grid.addChild(r);var a=cc.v2(.5*e+c*e+5*c,-.5*n-o*n-2*o);r.setContentSize(e,n),r.setPosition(a);var l=r.getComponent(s.default);l.init(t+1,this.cellClick.bind(this)),this.cellArray[t]=l,t++}this.game.iAudioPlayer.play_music("hkeno_bgm1")},e.prototype.createBall=function(t,e,n){var i=null;if(this.ballArray.length>=20)i=this.ballArray[this.ballIndex];else{var o=this.game.resourMgr.getRes("ball",y.ResourceType.prefab,cc.Prefab);i=cc.instantiate(o),this.ballArray.push(i),this.ballContainer.addChild(i)}i.setPosition(this.points[0].getPosition()),i.opacity=255;var c=t[this.ballIndex],r=null,a=-1;-1!=e.indexOf(c)?(this.matchCellMap.set(c,this.cellArray[c-1]),a=c,r=this.game.resourMgr.getBallIcon(c,y.BallIconType.ballMatchIcon)):r=this.game.resourMgr.getBallIcon(c,y.BallIconType.ballNormalIcon),i.getComponent(cc.Sprite).spriteFrame=r,this.ballIndex++,this.ballAnima(i,a,c,n)},e.prototype.ballAnima=function(t,e,n,i){var o=this,c=cc.v2();1==this.ballIndex?c=this.points[3].getPosition():20==this.ballIndex?(this.tier++,c=cc.v2(this.points[3].x,this.points[3].y+t.height*this.tier)):this.ballIndex%2==0?(this.tier++,c=cc.v2(this.points[3].x-.5*t.width,this.points[3].y+t.height*this.tier)):c=cc.v2(this.points[3].x+.5*t.width,this.points[3].y+t.height*this.tier);var r=c.sub(this.points[2].getPosition()).mag()/1300,a=cc.moveTo(.25,this.points[1].getPosition()),l=cc.moveTo(.35,this.points[2].getPosition()),s=cc.moveTo(r,c),p=cc.sequence(cc.moveTo(.08,cc.v2(c.x,c.y+18)),cc.moveTo(.06,c),cc.moveTo(.04,cc.v2(c.x,c.y+10)),cc.moveTo(.04,c));cc.tween(t).sequence(a,l,s,cc.callFunc(function(){o.game.iAudioPlayer.play_sound("hkeno_number"+o.ballIndex)}),p).call(this.ballAnimaComplete.bind(this,e,n,i)).start()},e.prototype.ballAnimaComplete=function(t,e,n){this.ballCompCount++;var i=this.ballCompCount>=20,o=!1;if(-1!=t){this.matchNumCount++,this.cellArray[t-1].setMathed(),this.lblNumberMatched.string=1==this.matchNumCount?""+t:this.lblNumberMatched.string+","+t,this.game.iAudioPlayer.play_sound("hkeno_hit");var c=h.matchConfig[this.selectNumCount],r=this.lblHitArray.length-1;for(var a in c){if(Number(a)==this.matchNumCount){o=!0;break}r--}o&&this.matchReward.set(r,this.lblHitArray[r].string,this.lblPayArray[r].string,i)}i&&(this.leftRun.active=!1,this.pipeLight.active=!1,n>0&&(this.leftLight.active=!0,this.pipeFlicker.active=!0,this.game.iAudioPlayer.play_sound("hkeno_result_win")),o?this.lastMatch(n,e):this.currentEnd(n))},e.prototype.currentEnd=function(t){if(this.game.iAudioPlayer.play_music("hkeno_bgm1"),t>0){var e=!0;this.lblHint.string="Congratulations! You won "+h.format_number(String(this.game.iGameBase.getNum(t,!1)))+"!",this.matchNumCount>=5&&(e=!1,this.bigWin(t)),this.gameInfo.gameWin=t,this.game.iGameBase.updatenNumberAnim(this.lblGameWin,t,1,this.updateWinning.bind(this,e))}else this.setHint(h.HintType.level),this.canEnterNext()},e.prototype.bigWin=function(t){var e=this.game.resourMgr.getRes("winEffect",y.ResourceType.prefab,cc.Prefab),n=cc.instantiate(e);this.effectLayout.addChild(n);var i=n.getComponent(g.default);i.setGame(this.game),i.playEffect(t,this.matchNumCount,this.canEnterNext.bind(this))},e.prototype.lastMatch=function(t,e){cc.error("\u6700\u540e\u4e00\u4e2a\u7403\u4e2d\u4e86\uff0cx4\u500d");var n=this.ballArray[this.ballIndex-1].getPosition(),i=this.game.resourMgr.getRes("fireBallEffect",y.ResourceType.prefab,cc.Prefab),o=cc.instantiate(i);this.node.addChild(o);var c=o.getComponent(p.default);c.setGame(this.game),c.playEffect(n,t,e,this.currentEnd.bind(this))},e.prototype.updateWinning=function(t){var e=this;this.game.iGameBase.isNoWin()?cc.tween(this.lblEntries.node).sequence(cc.scaleTo(.08,1.5),cc.scaleTo(.08,1)).call(function(){e.lblEntries.string=e.game.iGameBase.getNum(e.gameInfo.entries,!0),t&&e.canEnterNext()}).start():cc.tween(this.lblWinning.node).sequence(cc.scaleTo(.08,1.5),cc.scaleTo(.08,1)).call(function(){e.lblWinning.string=e.game.iGameBase.getNum(e.gameInfo.winning,!0),t&&e.canEnterNext()}).start()},e.prototype.canEnterNext=function(){var t=this;this.speedometer.startCountDown(),this.scheduleHint(h.HintType.level),this.scheduleOnce(function(){t.isAuto?t.revealPlus():(t.isCanSelect=!0,t.bottom.setCanOperate(!0))},1.2)},e.prototype.scheduleHint=function(t){this.hintType=t,this.unschedule(this.setHintHanle),this.scheduleOnce(this.setHintHanle,1.5)},e.prototype.setHint=function(t){switch(t||this.hintType){case h.HintType.level:this.gameInfo.multiple>=250?this.lblHint.string="The current level: MAX Total E's":this.lblHint.string="The current level:"+this.game.iGameBase.getNum(this.gameInfo.multiple,!0)+" Total E's";break;case h.HintType.select:this.lblHint.string="Pick at least 2 numbers to start a game!";break;case h.HintType.start:this.lblHint.string="GOOD LUCK!"}},e.prototype.handleResult=function(t,e,n,i,o){this.ballCompCount=0,this.ballIndex=0,this.tier=0,this.leftRun.active=!0,this.pipeLight.active=!0,this.game.iGameBase.isNoWin()?(this.gameInfo.entries=t+e-o,this.lblEntries.string=this.game.iGameBase.getNum(this.gameInfo.entries,!0),this.gameInfo.entries+=o):(this.gameInfo.entries=t,this.lblEntries.string=this.game.iGameBase.getNum(this.gameInfo.entries,!0)),this.gameInfo.winning=e,this.game.iAudioPlayer.play_music("hkeno_bgm2"),this.schedule(this.createBall.bind(this,n,i,o),.23,19)},e.prototype.handleChangeMultiple=function(t){this.gameInfo.multiple=t,this.lblMultiple.string=""+this.game.iGameBase.getNum(t,!0),this.unschedule(this.setHintHanle),this.setHint(h.HintType.level),this.sethitAndPay()},e.prototype.handleConverScore=function(t,e,n){t?(this.gameInfo.winning-=e,this.gameInfo.entries=n,this.lblWinning.string=this.game.iGameBase.getNum(this.gameInfo.winning,!0),this.lblEntries.string=this.game.iGameBase.getNum(n,!0)):cc.error("\u8f6c\u6362\u5206\u6570\u5931\u8d25")},e.prototype.OnJackpotStatu=function(t){this.jackPotStatuSign.active=t},e.prototype.OnJackpotAward=function(t,e){var n=this,i=this.game.resourMgr.getRes("jackPotAward",y.ResourceType.prefab,cc.Prefab),o=cc.instantiate(i);this.node.addChild(o),o.getComponent(f.default).show(t,e);var c=100*Number(e.toFixed(2));this.gameInfo.winning+=c,cc.tween(this.lblGameWin.node).sequence(cc.scaleTo(.08,1.5),cc.callFunc(function(){n.lblGameWin.string=n.game.iGameBase.getNum(n.gameInfo.gameWin+c,!0),n.game.iGameBase.isNoWin()?n.lblEntries.string=n.game.iGameBase.getNum(n.gameInfo.gameWin+c,!0):n.lblWinning.string=n.game.iGameBase.getNum(n.gameInfo.winning,!0)}),cc.scaleTo(.08,1)).start()},e.prototype.netWorkDelay=function(){var t=this;this.signal.active=!0,setTimeout(function(){t.signal.active=!1},3e3)},e.prototype.UpdateJackPot=function(t){for(var e=0,n=t.length;e<n;e++)this.lblJackpotArray[e].string="$"+h.format_number(t[e].toFixed(2))},e.prototype.updateProgressiveScore=function(t){this.lblProgressive.string="$"+h.format_number((.01*t).toFixed(2))},e.prototype.sethitAndPay=function(){var t,e,n=this.lblHitArray.length-1,i=!1;if(this.selectNumCount>=2){var o=h.matchConfig[this.selectNumCount],c=this.gameInfo.multiple/25;for(var l in o)this.lblHitArray[n].string=""+l,this.lblHitArray[n].node.active=!0,5e4==o[l]&&10==c&&10==this.selectNumCount?(this.lblPayArray[n].string="PROGRESSIVE",i=!0):this.lblPayArray[n].string=this.game.iGameBase.getNum(o[l]*c,!0),this.lblPayArray[n].node.active=!0,n--}this.showProgressive(i);for(var s=n;s>=0;s--)this.lblHitArray[s].node.active=!1,this.lblPayArray[s].node.active=!1;try{for(var p=r(this.matchCellMap),u=p.next();!u.done;u=p.next()){var f=a(u.value,2),d=f[0];f[1].setSelect(),this.matchCellMap.delete(d)}}catch(y){t={error:y}}finally{try{u&&!u.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}this.matchReward.node.active=!1,this.leftLight.active=!1,this.pipeFlicker.active=!1,this.lblNumberMatched.string=""},e.prototype.showProgressive=function(t){t?(this.lblProgressive.node.color=cc.Color.WHITE,"progressive1"==this.progressive.currentClip.name&&(this.progressive.play("progressive2"),this.game.iAudioPlayer.play_sound("hkeno_prog_open"))):(this.lblProgressive.node.color=cc.color(65,65,65,255),"progressive2"==this.progressive.currentClip.name&&this.progressive.play("progressive1"))},e.prototype.revealPlus=function(){var t,e;if(!(this.selectNumCount<2)){if(this.gameInfo.entries<this.gameInfo.multiple+5)return this.isAuto&&(this.isCanSelect=!0,this.isAuto=!1,this.bottom.setAutoStatu(!1),this.bottom.setCanOperate(!0)),void this.game.iGameBase.PopMessage_ShowMessage(1);this.isCanSelect=!1,this.leftLight.active=!1,this.pipeFlicker.active=!1,this.matchCellMap.clear(),this.matchNumCount=0,this.lblNumberMatched.string="",this.lblGameWin.string="0",this.gameInfo.gameWin=0,this.bottom.setCanOperate(!1),this.matchReward.node.active=!1;var n=new Array(10).fill(0),i=0;try{for(var o=r(this.selectCellMap),c=o.next();!c.done;c=o.next()){var l=a(c.value,2),s=l[0];l[1].setSelect(),n[i]=s+1,i++}}catch(f){t={error:f}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var p=0,u=this.ballArray.length;p<u;p++)this.ballArray[p].opacity=0;this.speedometer.addSecond(),this.unschedule(this.setHintHanle),this.setHint(h.HintType.start),this.game.iGameBase.EmitEvent(h.EventCode.revealPlus,{cbPickNumber:n,cbPickCount:this.selectNumCount}),this.game.iAudioPlayer.play_sound("hkeno_btn_add")}},e.prototype.cellClick=function(t){if(this.isCanSelect){var e=this.cellArray[t];if(e.isSelect)this.matchCellMap.has(t+1)&&this.matchCellMap.delete(t+1),e.setNormal(),this.selectNumCount--,this.selectCellMap.delete(t),this.selectNumCount<2&&(this.lblHint.string="Pick at least 2 numbers to start a game!");else{if(this.selectNumCount>=10)return;e.setSelect(),this.selectNumCount++,this.selectCellMap.set(t,e),this.selectNumCount>=2&&(this.lblHint.string="Pick the number "+(t+1)+" and can pick another "+(10-this.selectNumCount)+" number!",this.scheduleHint(h.HintType.level))}this.game.iAudioPlayer.play_sound("hkeno_btn_pick"),this.setBtnEraseAndRevealPlusActive(),this.sethitAndPay()}},e.prototype.btnAutoPlayClick=function(){this.isAuto=!0,this.bottom.setAutoStatu(!0),this.revealPlus(),this.game.iAudioPlayer.play_sound("hkeno_btn_add")},e.prototype.btnAutoStopClick=function(){this.isAuto=!1,this.bottom.setAutoStatu(!1),this.game.iAudioPlayer.play_sound("hkeno_btn_add")},e.prototype.btnEraseClick=function(){var t,e;this.matchCellMap.clear();try{for(var n=r(this.selectCellMap),i=n.next();!i.done;i=n.next()){var o=a(i.value,2),c=o[0];o[1].setNormal(),this.selectCellMap.delete(c)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.selectNumCount=0,this.setBtnEraseAndRevealPlusActive(),this.sethitAndPay(),this.lblHint.string="Picked numbers are all cleared",this.scheduleHint(h.HintType.select),this.game.iAudioPlayer.play_sound("hkeno_btn_erase")},e.prototype.btnQuickPickClick=function(){for(var t,e,n,i,o=0,c=new Map,l=this.selectNumCount>0?this.selectNumCount:10;o<l;){var s=this.game.iGameBase.utils_random(1,80);c.has(s)||(c.set(s,!0),o++)}this.matchCellMap.clear();try{for(var p=r(this.selectCellMap),u=p.next();!u.done;u=p.next()){var f=a(u.value,2),d=f[0];f[1].setNormal(),this.selectCellMap.delete(d)}}catch(v){t={error:v}}finally{try{u&&!u.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}try{for(var y=r(c.keys()),b=y.next();!b.done;b=y.next()){var m=(d=b.value)-1,g=this.cellArray[m];g.setSelect(),this.selectCellMap.set(d-1,g)}}catch(_){n={error:_}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}this.selectNumCount=l,this.setBtnEraseAndRevealPlusActive(),this.sethitAndPay(),this.lblHint.string=l+" numbers have auto picked.",this.scheduleHint(h.HintType.level),this.game.iAudioPlayer.play_sound("hkeno_btn_qpick")},e.prototype.btnDonatoAmountClick=function(){this.game.iGameBase.ShowDona()},e.prototype.btnHelpClick=function(){if(null==this.rule){var t=cc.instantiate(this.game.resourMgr.getRes("rule",y.ResourceType.prefab,cc.Prefab));this.node.addChild(t),this.rule=t.getComponent(b.default)}this.rule.node.active=!0,this.game.iAudioPlayer.play_sound("hkeno_btn_add")},e.prototype.setBtnEraseAndRevealPlusActive=function(){this.bottom.btnErase.interactable=this.selectNumCount>0,this.bottom.btnRevealplus.interactable=this.selectNumCount>=2,this.bottom.btnAutoPlay.interactable=this.selectNumCount>=2},e.prototype.getWinScore=function(){return this.gameInfo.winning},c([O({type:cc.Label})],e.prototype,"lblUserInfo",void 0),c([O({type:cc.Label})],e.prototype,"lblEntries",void 0),c([O({type:cc.Label})],e.prototype,"lbljpes",void 0),c([O({type:cc.Label})],e.prototype,"lblGameWin",void 0),c([O({type:cc.Label})],e.prototype,"lblWinning",void 0),c([O({type:cc.Label})],e.prototype,"lblMultiple",void 0),c([O({type:cc.Label})],e.prototype,"lblHint",void 0),c([O({type:cc.Label})],e.prototype,"lblNumberMatched",void 0),c([O({type:cc.Node})],e.prototype,"grid",void 0),c([O({type:cc.Node})],e.prototype,"ballContainer",void 0),c([O({type:[cc.Node]})],e.prototype,"points",void 0),c([O({type:[cc.Label]})],e.prototype,"lblHitArray",void 0),c([O({type:[cc.Label]})],e.prototype,"lblPayArray",void 0),c([O({type:cc.Node})],e.prototype,"leftLight",void 0),c([O({type:cc.Node})],e.prototype,"pipeFlicker",void 0),c([O({type:cc.Node})],e.prototype,"leftRun",void 0),c([O({type:cc.Node})],e.prototype,"pipeLight",void 0),c([O({type:d.default})],e.prototype,"matchReward",void 0),c([O({type:cc.Animation})],e.prototype,"progressive",void 0),c([O({type:cc.Label})],e.prototype,"lblProgressive",void 0),c([O({type:l.default})],e.prototype,"bottom",void 0),c([O({type:[cc.Label]})],e.prototype,"lblJackpotArray",void 0),c([O({type:cc.Node})],e.prototype,"effectLayout",void 0),c([O({type:m.default})],e.prototype,"speedometer",void 0),c([O({type:cc.Node})],e.prototype,"signal",void 0),c([O({type:cc.Node})],e.prototype,"jackPotStatuSign",void 0),c([_],e)}(cc.Component);n.default=S,cc._RF.pop()},{"./SHOTKENO_BtnMgr":"SHOTKENO_BtnMgr","./SHOTKENO_Cell":"SHOTKENO_Cell","./SHOTKENO_FireBallEffect":"SHOTKENO_FireBallEffect","./SHOTKENO_GameDefine":"SHOTKENO_GameDefine","./SHOTKENO_GameInfo":"SHOTKENO_GameInfo","./SHOTKENO_JackPotAward":"SHOTKENO_JackPotAward","./SHOTKENO_MatchReward":"SHOTKENO_MatchReward","./SHOTKENO_ResourcesMgr":"SHOTKENO_ResourcesMgr","./SHOTKENO_Rule":"SHOTKENO_Rule","./SHOTKENO_Speedometer":"SHOTKENO_Speedometer","./SHOTKENO_WinEffect":"SHOTKENO_WinEffect"}],SHOTKENO_Game:[function(t,e,n){"use strict";cc._RF.push(e,"20f11G+RxBJSbXomKkFySC9","SHOTKENO_Game");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./SHOTKENO_BtnMgr"),a=t("./SHOTKENO_GameLogic"),l=t("./SHOTKENO_MatchReward"),s=t("./SHOTKENO_ResourcesMgr"),p=t("./SHOTKENO_Speedometer"),h=cc._decorator,u=h.ccclass,f=(h.property,function(t){function e(){var e=t.call(this)||this;return e.handlerPriority=2,e.handlerName="Game_KENO",e.scriptName="SHOTKENO_Game",e.resourMgr=null,e}return o(e,t),e.prototype.setIGameBase=function(t){this.iGameBase=t,this.iAudioPlayer=this.iGameBase.getIAudioPlayer(),this.SetGameObject(),this.iGameBase.setMyGameLogic(this.GameLogic,this.iGameBase.GetKindID()),this.iGameBase.CommonUI_RootNode(this.node),this.resourMgr.KindID=this.iGameBase.GetKindID(),this.enterGame()},e.prototype.onLoad=function(){this.resourMgr=new s.default,this.resourMgr.setGame(this)},e.prototype.onDestroy=function(){this.resourMgr.release()},e.prototype.SetGameObject=function(){var t=this.node;this.initPlaying(t)},e.prototype.enterGame=function(){},e.prototype.initPlaying=function(t){for(var e=cc.find("pipeFlicker",t),n=cc.find("pipeLight",t),i=cc.find("ballContainer",t),o=cc.find("leftLight",t),c=cc.find("leftRun",t),s=cc.find("grid",t),h=cc.find("effectLayout",t),u=cc.find("signal",t),f=cc.find("JackpotGame",t),d=cc.find("hit",t),y=new Array(7),b=0;b<y.length;b++)y[b]=cc.find("lblHitArray"+b,d).getComponent(cc.Label);var m=cc.find("progressive",t).getComponent(cc.Animation),g=cc.find("New Node/lblProgressive",m.node).getComponent(cc.Label),v=cc.find("pay",t),_=new Array(7);for(b=0;b<_.length;b++)_[b]=cc.find("lblPayArray"+b,v).getComponent(cc.Label);var O=new Array(4);for(b=0;b<O.length;b++)O[b]=cc.find(""+(b+1),i);var S=cc.find("matchAward/matchReward",t).addComponent(l.default),E=cc.find("lblHit",S.node).getComponent(cc.Label),C=cc.find("lblPay",S.node).getComponent(cc.Label),N=cc.find("fourMultiple",S.node);S.lblHit=E,S.lblPay=C,S.fourMultiple=N;var P=cc.find("right",t),T=cc.find("lblUserInfo",P).getComponent(cc.Label),H=cc.find("entries/lblEntries",P).getComponent(cc.Label),A=cc.find("jpes/lbljpes",P).getComponent(cc.Label),w=cc.find("gameWin/lblGameWin",P).getComponent(cc.Label),G=cc.find("winning/lblWinning",P).getComponent(cc.Label),k=cc.find("multiple/lblMultiple",P).getComponent(cc.Label);this.iGameBase.isNoWin()&&(cc.find("winning",P).active=!1);var R=cc.find("speedometer",P).addComponent(p.default),B=cc.find("lblSecond",P).getComponent(cc.Label);R.jackpotgame=f,R.lblSecond=B;var M=cc.find("bottom",t).addComponent(r.default);M.setGame(this);var j=cc.find("btnDonate",M.node).getComponent(cc.Button);this.SetBtnEvent(j),this.iGameBase.isNoWin()&&(j.node.active=!1);var K=cc.find("btnRevealplus",M.node).getComponent(cc.Button);this.SetBtnEvent(K);var L=cc.find("Content",M.node),I=cc.find("btnToLobby",L).getComponent(cc.Button);this.SetBtnEvent(I);var W=cc.find("btnHelp",L).getComponent(cc.Button);this.SetBtnEvent(W);var x=cc.find("btnQuickPick",L).getComponent(cc.Button);this.SetBtnEvent(x);var D=cc.find("btnErase",L).getComponent(cc.Button);this.SetBtnEvent(D);var F=cc.find("btnAdd",L).getComponent(cc.Button);this.SetBtnEvent(F);var U=cc.find("btnMax",L).getComponent(cc.Button);this.SetBtnEvent(U);var z=cc.find("btnAutoStop",L).getComponent(cc.Button);this.SetBtnEvent(z);var J=cc.find("btnAutoPlay",L).getComponent(cc.Button);this.SetBtnEvent(J);var q=cc.find("lblHint",M.node).getComponent(cc.Label),Q=cc.find("lblNumberMatched",M.node).getComponent(cc.Label);M.btnDonate=j,M.btnRevealplus=K,M.btnToLobby=I,M.btnHelp=W,M.btnQuickPick=x,M.btnErase=D,M.btnAdd=F,M.btnMax=U,M.btnAutoStop=z,M.btnAutoPlay=J;var Y=cc.find("top",t),V=cc.find("jackport",Y),Z=new Array(4);for(b=0;b<Z.length;b++)Z[b]=cc.find("lblJackpotArray"+b,V).getComponent(cc.Label);var X=cc.find("jackpotStatu",Y),$=new Array(2);for(b=0;b<$.length;b++)$[b]=cc.find("jackPotStatuSign"+(b+1),X);this.GameLogic=t.addComponent(a.default),this.GameLogic.setGame(this),this.GameLogic.pipeFlicker=e,this.GameLogic.pipeLight=n,this.GameLogic.ballContainer=i,this.GameLogic.points=O,this.GameLogic.leftLight=o,this.GameLogic.leftRun=c,this.GameLogic.grid=s,this.GameLogic.effectLayout=h,this.GameLogic.signal=u,this.GameLogic.lblHitArray=y,this.GameLogic.progressive=m,this.GameLogic.lblProgressive=g,this.GameLogic.lblPayArray=_,this.GameLogic.matchReward=S,this.GameLogic.lblUserInfo=T,this.GameLogic.lblEntries=H,this.GameLogic.lbljpes=A,this.GameLogic.lblGameWin=w,this.GameLogic.lblWinning=G,this.GameLogic.lblMultiple=k,this.GameLogic.speedometer=R,this.GameLogic.lblHint=q,this.GameLogic.lblNumberMatched=Q,this.GameLogic.lblJackpotArray=Z,this.GameLogic.jackPotStatuSign=X,this.GameLogic.bottom=M},e.prototype.SetBtnEvent=function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),null!=t){var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.scriptName,i.handler="BtnEventCallback",t.clickEvents.push(i),t.node.active=e,t.interactable=n}},e.prototype.BtnEventCallback=function(t){var e=t.target;this.OnClickBtn(e)},e.prototype.OnClickBtn=function(t){switch(t.name){case"btnHelp":this.GameLogic.btnHelpClick();break;case"btnToLobby":this.iGameBase.onBtnLeaveGame();break;case"btnDonate":this.GameLogic.btnDonatoAmountClick();break;case"btnRevealplus":this.GameLogic.revealPlus();break;case"btnQuickPick":this.GameLogic.btnQuickPickClick();break;case"btnErase":this.GameLogic.btnEraseClick();break;case"btnAdd":this.GameLogic.bottom.btnAddClick();break;case"btnMax":this.GameLogic.bottom.btnMaxClick();break;case"btnAutoStop":this.GameLogic.btnAutoStopClick();break;case"btnAutoPlay":this.GameLogic.btnAutoPlayClick()}},c([u],e)}(cc.Component));n.default=f,cc._RF.pop()},{"./SHOTKENO_BtnMgr":"SHOTKENO_BtnMgr","./SHOTKENO_GameLogic":"SHOTKENO_GameLogic","./SHOTKENO_MatchReward":"SHOTKENO_MatchReward","./SHOTKENO_ResourcesMgr":"SHOTKENO_ResourcesMgr","./SHOTKENO_Speedometer":"SHOTKENO_Speedometer"}],SHOTKENO_JackPotAward:[function(t,e,n){"use strict";cc._RF.push(e,"bb1908KmiBNmI6isAzgAila","SHOTKENO_JackPotAward");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblJackpot=null,e.jackpotTitle=null,e.jackpotTitleArray=[],e}return o(e,t),e.prototype.show=function(t,e){this.jackpotTitle.spriteFrame=this.jackpotTitleArray[t],this.lblJackpot.string=e.toFixed(2),cc.tween(this.node).to(1.5,{opacity:255}).call(this.hide.bind(this)).start()},e.prototype.hide=function(){var t=this;this.scheduleOnce(function(){cc.tween(t.node).to(.5,{opacity:0}).call(function(){t.node.destroy()}).start()},5)},c([l({type:cc.Label})],e.prototype,"lblJackpot",void 0),c([l({type:cc.Sprite})],e.prototype,"jackpotTitle",void 0),c([l({type:[cc.SpriteFrame]})],e.prototype,"jackpotTitleArray",void 0),c([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],SHOTKENO_MatchReward:[function(t,e,n){"use strict";cc._RF.push(e,"e92e2hYrvtGy5AcwnttxPic","SHOTKENO_MatchReward");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=(r.inspector,r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblHit=null,e.lblPay=null,e.fourMultiple=null,e}return o(e,t),e.prototype.set=function(t,e,n,i){this.node.setSiblingIndex(t),this.lblHit.string=e,this.lblPay.string=n,this.fourMultiple.active=i,this.node.active=!0},c([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{}],SHOTKENO_ResourcesMgr:[function(t,e,n){"use strict";cc._RF.push(e,"0c5795Cmq1PAY5sdsSMKu5O","SHOTKENO_ResourcesMgr");var i=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BallIconType=n.ResourceType=void 0;var o,c,r,a=cc._decorator,l=a.ccclass;a.property,function(t){t[t.ballIcon=0]="ballIcon",t[t.prefab=1]="prefab"}(o=n.ResourceType||(n.ResourceType={})),function(t){t[t.ballNormalIcon=0]="ballNormalIcon",t[t.ballMatchIcon=1]="ballMatchIcon"}(c=n.BallIconType||(n.BallIconType={})),function(t){t.ballIcon="Res/ballIcon/",t.prefab="Res/Prefab/"}(r||(r={}));var s=function(){function t(){this._bundle=null,this._ballAtlas=null,this._bundle=cc.assetManager.getBundle("SHOTKENO"),this._ballAtlas=this.getRes("ballIcon",o.ballIcon,cc.SpriteAtlas)}return t.prototype.setGame=function(t){this.game=t},t.prototype.getRes=function(t,e,n){var i=r[o[e]]+t;return this._bundle.get(i,n)},t.prototype.getBallIcon=function(t,e){return this._ballAtlas.getSpriteFrame(c[e]+"-"+t)},t.prototype.release=function(){this.game.iGameBase.releaseGameRes(this.KindID)},i([l],t)}();n.default=s,cc._RF.pop()},{}],SHOTKENO_Rule:[function(t,e,n){"use strict";cc._RF.push(e,"5fbe0u19oBGB76sYlRzw0l2","SHOTKENO_Rule");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.touchEnd=function(){this.node.active=!1},c([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{}],SHOTKENO_Speedometer:[function(t,e,n){"use strict";cc._RF.push(e,"24c3bL+5y5C17ZnEN04aMQA","SHOTKENO_Speedometer");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblSecond=null,e.jackpotgame=null,e.speedometerArray=[],e.step=0,e.currSecond=0,e.isCanClick=!0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.jackpotgame.off(cc.Node.EventType.TOUCH_END,this.jackpotTouchEnd,this)},e.prototype.jackpotTouchEnd=function(){this.jackpotgame.active=!1},e.prototype.touchEnd=function(){this.isCanClick&&(this.jackpotgame.active=!0)},e.prototype.start=function(){this.step=30/18;for(var t=this.node.childrenCount,e=0;e<t;e++){var n=this.node.children[e];this.speedometerArray[e]=n,n.active=!1}this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.jackpotgame.on(cc.Node.EventType.TOUCH_END,this.jackpotTouchEnd,this)},e.prototype.addSecond=function(){this.isCanClick=!1,this.unschedule(this.subSecond),this.currSecond+=10,this.currSecond=Math.min(this.currSecond,30),this.lblSecond.string=""+this.currSecond,this.showSpeedometer()},e.prototype.showSpeedometer=function(){for(var t=Math.floor(this.currSecond/this.step),e=0,n=this.speedometerArray.length;e<n;e++)this.speedometerArray[e].active=e<t},e.prototype.subSecond=function(){this.currSecond-=1,this.lblSecond.string=""+this.currSecond,this.showSpeedometer(),this.currSecond<=0&&this.unschedule(this.subSecond)},e.prototype.startCountDown=function(){this.isCanClick=!0,this.currSecond<=0||this.schedule(this.subSecond,1)},c([l({type:cc.Label})],e.prototype,"lblSecond",void 0),c([l({type:cc.Node})],e.prototype,"jackpotgame",void 0),c([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],SHOTKENO_Test:[function(t,e,n){"use strict";cc._RF.push(e,"fa8a4PTKZNH570V1KETAmOz","SHOTKENO_Test");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Scripts/SHOTKENO_FireBallEffect"),a=t("../Scripts/SHOTKENO_WinEffect"),l=cc._decorator,s=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fireBallPrefab=null,e.winPrefab=null,e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchUp,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchUp,this)},e.prototype.keyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.PlayWinEffect()}},e.prototype.touchUp=function(t){var e=t.getLocation(),n=cc.v2();this.node.convertToNodeSpaceAR(e,n)},e.prototype.PlayWinEffect=function(){var t=cc.instantiate(this.winPrefab);this.node.addChild(t);var e=t.getComponent(a.default);e.setGame(this.game),e.playEffect(1e3,null)},e.prototype.PlayFireballEffect=function(t){var e=cc.instantiate(this.fireBallPrefab);this.node.addChild(e);var n=e.getComponent(r.default);n.setGame(this.game),n.playEffect(t,31,null)},c([p({type:cc.Prefab})],e.prototype,"fireBallPrefab",void 0),c([p({type:cc.Prefab})],e.prototype,"winPrefab",void 0),c([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Scripts/SHOTKENO_FireBallEffect":"SHOTKENO_FireBallEffect","../Scripts/SHOTKENO_WinEffect":"SHOTKENO_WinEffect"}],SHOTKENO_WinEffect:[function(t,e,n){"use strict";cc._RF.push(e,"35738KyzTVFgL0aNtzF6ZBd","SHOTKENO_WinEffect");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,l=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWinContainer=null,e.goldContainer=null,e.goldPrefab=null,e.lblWinScore=null,e.bigWin=null,e.youWin=null,e.goldPool=null,e._cb=null,e}return o(e,t),e.prototype.setGame=function(t){this.game=t},e.prototype.playEffect=function(t,e,n){this._cb=n,this.lblWinScore.string="0",this.bigWinContainer.scale=.2,this.bigWinContainer.active=!0,this.goldPool=[],5==e?(this.bigWin.active=!1,this.youWin.active=!0):(this.youWin.active=!1,this.bigWin.active=!0),cc.tween(this.bigWinContainer).to(.25,{scale:1},{easing:"backOut"}).call(this.callBack.bind(this)).start(),this.game.iGameBase.updatenNumberAnim(this.lblWinScore,t,4)},e.prototype.callBack=function(){this.schedule(this.createGold.bind(this),.02),this.scheduleOnce(this.hide.bind(this),5)},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(1.2,{opacity:0}).call(function(){t._cb&&t._cb(),t.node.destroy()}).start()},e.prototype.createGold=function(){var t=null;this.goldPool.length>0?(t=this.goldPool.shift()).opacity=255:(t=cc.instantiate(this.goldPrefab),this.goldContainer.addChild(t));var e=this.game.iGameBase.utils_random(1,360);t.angle=e,this.goldAnima(t)},e.prototype.goldAnima=function(t){var e=this,n=this.game.iGameBase.utils_random(-.5*cc.winSize.width,cc.winSize.width),i=-.5*cc.winSize.height;t.setPosition(cc.v2(n,-cc.winSize.height));var o=cc.v2(n+this.game.iGameBase.utils_random(-400,400),cc.winSize.height+this.game.iGameBase.utils_random(250,500)),c=cc.v2(o.x+this.game.iGameBase.utils_random(-400,400),i);cc.tween(t).then(cc.bezierTo(1.2,[cc.v2(n,i),o,c])).call(function(){t.opacity=0,e.goldPool.push(t)}).start()},e.prototype.onDestroy=function(){this.goldPool=null,this.unscheduleAllCallbacks()},c([l({type:cc.Node})],e.prototype,"bigWinContainer",void 0),c([l({type:cc.Node})],e.prototype,"goldContainer",void 0),c([l({type:cc.Prefab})],e.prototype,"goldPrefab",void 0),c([l({type:cc.Label})],e.prototype,"lblWinScore",void 0),c([l({type:cc.Node})],e.prototype,"bigWin",void 0),c([l({type:cc.Node})],e.prototype,"youWin",void 0),c([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}]},{},["SHOTKENO_BtnMgr","SHOTKENO_Cell","SHOTKENO_DonatoAmount","SHOTKENO_FireBallEffect","SHOTKENO_Game","SHOTKENO_GameDefine","SHOTKENO_GameInfo","SHOTKENO_GameLogic","SHOTKENO_JackPotAward","SHOTKENO_MatchReward","SHOTKENO_ResourcesMgr","SHOTKENO_Rule","SHOTKENO_Speedometer","SHOTKENO_WinEffect","SHOTKENO_Test"]);