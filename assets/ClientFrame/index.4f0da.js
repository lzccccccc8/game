window.__require=function e(t,r,o){function a(n,_){if(!r[n]){if(!t[n]){var d=n.split("/");if(d=d[d.length-1],!t[d]){var c="function"==typeof __require&&__require;if(!_&&c)return c(d,!0);if(s)return s(d,!0);throw new Error("Cannot find module '"+n+"'")}n=d}var i=r[n]={exports:{}};t[n][0].call(i.exports,function(e){return a(t[n][1][e]||e)},i,i.exports,e,t,r,o)}return r[n].exports}for(var s="function"==typeof __require&&__require,n=0;n<o.length;n++)a(o[n]);return a}({BaseGame:[function(e,t,r){"use strict";cc._RF.push(t,"98442uQEmZHbLm8Qbynwwo5","BaseGame");var o=this&&this.__decorate||function(e,t,r,o){var a,s=arguments.length,n=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(s<3?a(n):s>3?a(t,r,n):a(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n};Object.defineProperty(r,"__esModule",{value:!0});const{ccclass:a,property:s}=cc._decorator;let n=class extends cc.Component{onLoad(){}start(){this.queryGameServer()}queryGameServer(){}};n=o([a],n),r.default=n,cc._RF.pop()},{}],CMD_Common:[function(e,t,r){"use strict";cc._RF.push(t,"f7004XdfN5J7pwzhAHU12J4","CMD_Common"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("./GameMacro");class a{}r.default=a,a.MDM_CM_SYSTEM=1e3,a.SUB_CM_SYSTEM_MESSAGE=1,a.SUB_CM_ACTION_MESSAGE=2,a.SMT_CHAT=1,a.SMT_EJECT=2,a.SMT_GLOBAL=4,a.SMT_PROMPT=8,a.SMT_TABLE_ROLL=16,a.SMT_CLOSE_ROOM=256,a.SMT_CLOSE_GAME=512,a.SMT_CLOSE_LINK=1024,a.CMD_CM_SystemMessage=[{k:"wType",t:"word"},{k:"wLength",t:"word"},{k:"szString",t:"string",s:1024}],a.tagGameServer=[{k:"wKindID",t:"word"},{k:"wNodeID",t:"word"},{k:"wSortID",t:"word"},{k:"wServerID",t:"word"},{k:"wServerKind",t:"word"},{k:"wServerType",t:"word"},{k:"wServerLevel",t:"word"},{k:"wServerPort",t:"word"},{k:"lCellScore",t:"score"},{k:"cbEnterMember",t:"byte"},{k:"lEnterScore",t:"score"},{k:"lTableScore",t:"score"},{k:"dwServerRule",t:"dword"},{k:"dwOnLineCount",t:"dword"},{k:"dwAndroidCount",t:"dword"},{k:"dwFullCount",t:"dword"},{k:"szServerAddr",t:"string",s:32},{k:"szServerName",t:"string",s:o.GameMacro.LEN_SERVER},{k:"dwSurportType",t:"dword"},{k:"wTableCount",t:"word"},{k:"dwDummyCount",t:"dword"}],a.tagOnLineInfoKind=[{k:"wKindID",t:"word"},{k:"dwOnLineCount",t:"dword"}],a.tagOnLineInfoServer=[{k:"wServerID",t:"word"},{k:"dwOnLineCount",t:"dword"}],a.tagColumnItem=[{k:"cbColumnWidth",t:"byte"},{k:"cbDataDescribe",t:"byte"},{k:"szColumnName",t:"string",s:16}],a.tagUserStatus=[{k:"wTableID",t:"word"},{k:"wChairID",t:"word"},{k:"cbUserStatus",t:"byte"}],a.tagTableStatus=[{k:"cbTableLock",t:"byte"},{k:"cbPlayStatus",t:"byte"},{k:"lCellScore",t:"dword"}],a.tagUserInfoHead=[{k:"dwGameID",t:"dword"},{k:"dwUserID",t:"dword"},{k:"dwGroupID",t:"dword"},{k:"wFaceID",t:"word"},{k:"dwCustomID",t:"dword"},{k:"szNickName",t:"string",s:o.GameMacro.LEN_NICKNAME},{k:"szFaceAddress",t:"string",s:256},{k:"bIsAndroid",t:"bool"},{k:"cbGender",t:"byte"},{k:"cbMemberOrder",t:"byte"},{k:"cbMasterOrder",t:"byte"},{k:"wTableID",t:"word"},{k:"wChairID",t:"word"},{k:"cbUserStatus",t:"byte"},{k:"lScore",t:"score"},{k:"lGrade",t:"score"},{k:"lInsure",t:"score"},{k:"lIngot",t:"score"},{k:"dBeans",t:"double"},{k:"bAndroid",t:"bool"},{k:"dwWinCount",t:"dword"},{k:"dwLostCount",t:"dword"},{k:"dwDrawCount",t:"dword"},{k:"dwFleeCount",t:"dword"},{k:"dwExperience",t:"dword"},{k:"lLoveLiness",t:"int"},{k:"lIntegralCount",t:"score"},{k:"dwAgentID",t:"dword"}],a.tagMobileUserInfoHead=[{k:"dwGameID",t:"dword"},{k:"dwUserID",t:"dword"},{k:"wFaceID",t:"word"},{k:"dwCustomID",t:"dword"},{k:"szNickName",t:"string",s:o.GameMacro.LEN_NICKNAME},{k:"szFaceAddress",t:"string",s:256},{k:"cbGender",t:"byte"},{k:"cbMemberOrder",t:"byte"},{k:"wTableID",t:"word"},{k:"wChairID",t:"word"},{k:"cbUserStatus",t:"byte"},{k:"lScore",t:"score"},{k:"dwWinCount",t:"dword"},{k:"dwLostCount",t:"dword"},{k:"dwDrawCount",t:"dword"},{k:"dwFleeCount",t:"dword"}],a.tagUserScore=[{k:"lScore",t:"score"},{k:"lGrade",t:"score"},{k:"lInsure",t:"score"},{k:"dwWinCount",t:"dword"},{k:"dwLostCount",t:"dword"},{k:"dwDrawCount",t:"dword"},{k:"dwFleeCount",t:"dword"}],a.tagMobileUserScore=[{k:"lScore",t:"score"},{k:"dwWinCount",t:"dword"},{k:"dwLostCount",t:"dword"},{k:"dwDrawCount",t:"dword"},{k:"dwFleeCount",t:"dword"}],cc._RF.pop()},{"./GameMacro":"GameMacro"}],CMD_GameServer:[function(e,t,r){"use strict";cc._RF.push(t,"f9396WVWlxIuq16Z4Mdh6Zu","CMD_GameServer"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("./CMD_Common"),a=e("./GameMacro");class s{}r.default=s,s.MDM_GR_LOGON=1,s.SUB_GR_LOGON_USERID=1,s.SUB_GR_LOGON_MOBILE=2,s.SUB_GR_LOGON_SUCCESS=100,s.SUB_GR_LOGON_FAILURE=101,s.SUB_GR_LOGON_FINISH=102,s.SUB_GR_UPDATE_NOTIFY=200,s.CMD_GR_LogonUserID=[{k:"dwPlazaVersion",t:"dword"},{k:"dwFrameVersion",t:"dword"},{k:"dwProcessVersion",t:"dword"},{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:a.GameMacro.LEN_MD5},{k:"szServerPasswd",t:"string",s:a.GameMacro.LEN_PASSWORD},{k:"szMachineID",t:"string",s:a.GameMacro.LEN_MACHINE_ID},{k:"wKindID",t:"word"}],s.CMD_GR_LogonMobile=[{k:"wGameID",t:"word"},{k:"dwProcessVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"wBehaviorFlags",t:"word"},{k:"wPageTableCount",t:"word"},{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:a.GameMacro.LEN_MD5},{k:"szServerPasswd",t:"string",s:a.GameMacro.LEN_PASSWORD},{k:"szMachineID",t:"string",s:a.GameMacro.LEN_MACHINE_ID}],s.CMD_GR_LogonAccounts=[{k:"dwPlazaVersion",t:"dword"},{k:"dwFrameVersion",t:"dword"},{k:"dwProcessVersion",t:"dword"},{k:"szPassword",t:"string",s:a.GameMacro.LEN_MD5},{k:"szAccounts",t:"string",s:a.GameMacro.LEN_ACCOUNTS},{k:"szMachineID",t:"string",s:a.GameMacro.LEN_MACHINE_ID}],s.CMD_GR_LogonSuccess=[{k:"dwUserRight",t:"dword"},{k:"dwMasterRight",t:"dword"}],s.CMD_GR_LogonError=[{k:"lErrorCode",t:"dword"},{k:"dwLockKindID",t:"dword"},{k:"dwLockServerID",t:"dword"},{k:"szErrorDescribe",t:"string",s:128}],s.CMD_GR_UpdateNotify=[{k:"cbMustUpdatePlaza",t:"byte"},{k:"cbMustUpdateClient",t:"byte"},{k:"cbAdviceUpdateClient",t:"byte"},{k:"dwCurrentPlazaVersion",t:"dword"},{k:"dwCurrentFrameVersion",t:"dword"},{k:"dwCurrentClientVersion",t:"dword"}],s.MDM_GR_CONFIG=2,s.SUB_GR_CONFIG_SERVER=101,s.SUB_GR_CONFIG_FINISH=103,s.SUB_GR_CONFIG_USER_RIGHT=104,s.CMD_GR_ConfigServer=[{k:"wTableCount",t:"word"},{k:"wChairCount",t:"word"},{k:"wServerType",t:"word"},{k:"dwServerRule",t:"dword"}],s.CMD_GR_ConfigUserRight=[{k:"dwUserRight",t:"dword"}],s.MDM_GR_USER=3,s.SUB_GR_USER_RULE=1,s.SUB_GR_USER_LOOKON=2,s.SUB_GR_USER_SITDOWN=3,s.SUB_GR_USER_STANDUP=4,s.SUB_GR_USER_INVITE=5,s.SUB_GR_USER_INVITE_REQ=6,s.SUB_GR_USER_REPULSE_SIT=7,s.SUB_GR_USER_KICK_USER=8,s.SUB_GR_USER_INFO_REQ=9,s.SUB_GR_USER_CHAIR_REQ=10,s.SUB_GR_USER_CHAIR_INFO_REQ=11,s.SUB_GR_USER_WAIT_DISTRIBUTE=12,s.SUB_GR_USER_ENTER=100,s.SUB_GR_USER_SCORE=101,s.SUB_GR_USER_STATUS=102,s.SUB_GR_REQUEST_FAILURE=103,s.SUB_GR_USER_GAME_DATA=104,s.SUB_MB_Random_NOTICE=207,s.CMD_CS_S_RandomAnnouncement=[{k:"wLetterIndex",t:"word"},{k:"wKindID",t:"word"},{k:"fScore",t:"double"}],s.SUB_GR_USER_CHAT=201,s.SUB_GR_USER_EXPRESSION=202,s.SUB_GR_WISPER_CHAT=203,s.SUB_GR_WISPER_EXPRESSION=204,s.SUB_GR_COLLOQUY_CHAT=205,s.SUB_GR_COLLOQUY_EXPRESSION=206,s.CMD_GR_UserLookon=[{k:"wTableID",t:"word"},{k:"wChairID",t:"word"}],s.CMD_GR_UserSitDown=[{k:"wTableID",t:"word"},{k:"wChairID",t:"word"},{k:"szPassword",t:"string",s:a.GameMacro.LEN_PASSWORD}],s.CMD_GR_UserStandUp=[{k:"wTableID",t:"word"},{k:"wChairID",t:"word"},{k:"cbForceLeave",t:"byte"}],s.CMD_GR_UserInvite=[{k:"wTableID",t:"word"},{k:"dwUserID",t:"dword"}],s.CMD_GR_UserInviteReq=[{k:"wTableID",t:"word"},{k:"dwUserID",t:"dword"}],s.CMD_GR_UserScore=[{k:"dwUserID",t:"dword"},{k:"UserScore",t:"table",d:o.default.tagUserScore}],s.CMD_GR_MobileUserScore=[{k:"dwUserID",t:"dword"},{k:"UserScore",t:"table",d:o.default.tagMobileUserScore}],s.CMD_GR_UserStatus=[{k:"dwUserID",t:"dword"},{k:"UserStatus",t:"table",d:o.default.tagUserStatus}],s.CMD_GR_UserGameData=[{k:"dwUserID",t:"dword"},{k:"szUserGameData",t:"string",s:a.GameMacro.LEN_GAME_DATA}],s.CMD_GR_RequestFailure=[{k:"lErrorCode",t:"dword"},{k:"szDescribeString",t:"string",s:256}],s.MDM_GR_STATUS=4,s.SUB_GR_TABLE_INFO=100,s.SUB_GR_TABLE_STATUS=101,s.CMD_GR_TableInfo=[{k:"wTableCount",t:"word"},{k:"TableStatusArray",t:"table",d:o.default.tagTableStatus,l:[512,0]}],s.CMD_GR_TableStatus=[{k:"wTableID",t:"word"},{k:"TableStatus",t:"table",d:o.default.tagTableStatus}],s.MDM_GF_FRAME=100,s.SUB_GF_GAME_OPTION=1,s.SUB_GF_USER_READY=2,s.SUB_GF_LOOKON_CONFIG=3,s.SUB_GF_ANDEOID_QUIT=4,s.SUB_GF_USER_CHAT=10,s.SUB_GF_USER_EXPRESSION=11,s.SUB_GF_USER_VOICE=12,s.SUB_GF_GAME_STATUS=100,s.SUB_GF_GAME_SCENE=101,s.SUB_GF_LOOKON_STATUS=102,s.SUB_GF_USER_DATA=103,s.SUB_GF_BJL_GAME_STATUS=2001,s.SUB_GF_BJL_GAME_RESULT=2002,s.SUB_GF_BJL_CHANGE_STATUS=2003,s.SUB_GF_BAIREN_STATUS_END=2004,s.SUB_GF_SYSTEM_MESSAGE=200,s.SUB_GF_ACTION_MESSAGE=201,s.SUB_S_NOTICE=214,s.SUB_S_UPSCORE=215,s.SUB_S_REWARD_NOTICE=216,s.CMD_GF_GameOption=[{k:"cbAllowLookon",t:"byte"},{k:"dwFrameVersion",t:"dword"},{k:"dwClientVersion",t:"dword"}],s.CMD_GF_LookonConfig=[{k:"dwUserID",t:"dword"},{k:"cbAllowLookon",t:"byte"}],s.tagChangeStatus=[{k:"wTableID",t:"word"},{k:"cbGameStatus",t:"byte"}],s.CMD_S_NOTICE=[{k:"szNotice",t:"string",s:512},{k:"cbAgentNotice",t:"byte"}],s.CMD_GF_LookonStatus=[{k:"cbAllowLookon",t:"byte"}],s.CMD_GF_GameStatus=[{k:"cbGameStatus",t:"byte"},{k:"cbAllowLookon",t:"byte"}],s.CMD_GF_GameUserData=[{k:"cbUserCharID",t:"dword"}],s.CMD_GF_C_UserChat=[{k:"wItemIndex",t:"word"}],s.CMD_GF_S_UserChat=[{k:"dwSendUserID",t:"dword"},{k:"wItemIndex",t:"word"}],s.CMD_GF_C_UserExpression=[{k:"wItemIndex",t:"word"},{k:"dwTargetUserID",t:"dword"}],s.CMD_GF_S_UserExpression=[{k:"wItemIndex",t:"word"},{k:"dwSendUserID",t:"dword"},{k:"dwTargetUserID",t:"dword"}],s.CMD_GF_C_UserVoice=[{k:"dwTargetUserID",t:"dword"},{k:"dwVoiceLength",t:"dword"},{k:"byVoiceData",t:"byte",l:[a.GameMacro.MAXT_VOICE_LENGTH,0]}],s.CMD_GF_S_UserVoice=[{k:"dwSendUserID",t:"dword"},{k:"dwTargetUserID",t:"dword"},{k:"dwVoiceLength",t:"dword"},{k:"byVoiceData",t:"byte",l:[a.GameMacro.MAXT_VOICE_LENGTH,0]}],s.CMD_S_UPSCORE=[{k:"iUpScore",t:"int"}],s.CMD_S_REWARD_NOTICE=[{k:"dwUserID",t:"dword"},{k:"szNotice",t:"string"}],s.MDM_GF_GAME=200,s.DTP_GR_TABLE_PASSWORD=1,s.DTP_GR_NICK_NAME=10,s.DTP_GR_GROUP_NAME=11,s.DTP_GR_UNDER_WRITE=12,s.DTP_GR_QQ=13,s.DTP_GR_MOBILE_PHONE=14,s.DTP_GR_USER_NOTE=20,s.DTP_GR_CUSTOM_FACE=21,s.REQUEST_FAILURE_NORMAL=0,s.REQUEST_FAILURE_NOGOLD=1,s.REQUEST_FAILURE_NOSCORE=2,s.REQUEST_FAILURE_PASSWORD=3,s.CMD_GR_GameRadioMessage=[{k:"wKindID",t:"word"},{k:"cbCardType",t:"byte"},{k:"lScore",t:"score"},{k:"szNickName",t:"string",s:32}],cc._RF.pop()},{"./CMD_Common":"CMD_Common","./GameMacro":"GameMacro"}],CMD_LogonServer:[function(e,t,r){"use strict";cc._RF.push(t,"4487b9gJdhBaY2YMEemc4fl","CMD_LogonServer"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("./CMD_Common"),a=e("./CPP_Struct"),s=e("./GameMacro");class n{}r.default=n,n.MDM_GP_LOGON=1,n.SUB_GP_LOGON_SUCCESS=100,n.SUB_GP_LOGON_FAILURE=101,n.SUB_GP_LOGON_FINISH=102,n.SUB_GP_VALIDATE_MBCARD=103,n.SUB_GP_VALIDATE_PASSPORT=104,n.SUB_GP_VERIFY_RESULT=105,n.SUB_GP_MATCH_SIGNUPINFO=106,n.SUB_GP_GROWLEVEL_CONFIG=107,n.SUB_GP_VERIFY_CODE_RESULT=108,n.SUB_GP_UPDATE_NOTIFY=200,n.MB_VALIDATE_FLAGS=1,n.LOW_VER_VALIDATE_FLAGS=2,n.VERIFY_ACCOUNTS=1,n.VERIFY_NICKNAME=2,n.CMD_GP_LogonGameID=[{k:"dwPlazaVersion",t:"dword"},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"dwGameID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_MD5},{k:"cbValidateFlags",t:"byte"}],n.CMD_GP_LogonAccounts=[{k:"dwPlazaVersion",t:"dword"},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"cbValidateFlags",t:"byte"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_MD5},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szPassPortID",t:"string",s:s.GameMacro.LEN_PASS_PORT_ID}],n.CMD_GP_RegisterAccounts=[{k:"dwPlazaVersion",t:"dword"},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szLogonPass",t:"string",s:s.GameMacro.LEN_MD5},{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"szPassPortID",t:"string",s:s.GameMacro.LEN_PASS_PORT_ID},{k:"szCompellation",t:"string",s:s.GameMacro.LEN_COMPELLATION},{k:"cbValidateFlags",t:"byte"},{k:"dwAgentID",t:"dword"},{k:"dwSpreaderGameID",t:"dword"}],n.CMD_GP_VerifyIndividual=[{k:"dwPlazaVersion",t:"dword"},{k:"wVerifyMask",t:"word"}],n.CMD_GP_LogonVisitor=[{k:"dwPlazaVersion",t:"dword"},{k:"cbValidateFlags",t:"byte"},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_GP_LogonSuccess=[{k:"wFaceID",t:"word"},{k:"dwUserID",t:"dword"},{k:"dwGameID",t:"dword"},{k:"dwGroupID",t:"dword"},{k:"dwCustomID",t:"dword"},{k:"lLoveLiness",t:"score"},{k:"lUserScore",t:"score"},{k:"lUserInsure",t:"score"},{k:"lUserIngot",t:"score"},{k:"dUserBeans",t:"double"},{k:"cbGender",t:"byte"},{k:"cbMoorMachine",t:"byte"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szDynamicPass",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szGroupName",t:"string",s:s.GameMacro.LEN_GROUP_NAME},{k:"cbInsureEnabled",t:"byte"},{k:"cbShowServerStatus",t:"byte"},{k:"cbIsAgent",t:"byte"}],n.CMD_GP_LogonFailure=[{k:"lResultCode",t:"int"},{k:"szDescribeString",t:"string",s:128}],n.CMD_GP_LogonFinish=[{k:"wIntermitTime",t:"word"},{k:"wOnLineCountTime",t:"word"}],n.CMD_GP_ValidateMBCard=[{k:"uMBCardID",t:"dword"}],n.CMD_GP_VerifyIndividualResult=[{k:"bVerifyPassage",t:"bool"},{k:"wVerifyMask",t:"word"},{k:"szErrorMsg",t:"string",s:128}],n.CMD_GP_UpdateNotify=[{k:"cbMustUpdate",t:"byte"},{k:"cbAdviceUpdate",t:"byte"},{k:"dwCurrentVersion",t:"dword"}],n.CMD_GP_VerifyCodeResult=[{k:"cbResultCode",t:"int"},{k:"szDescString",t:"string",s:64}],n.DTP_GP_GROUP_INFO=1,n.DTP_GP_MEMBER_INFO=2,n.DTP_GP_UNDER_WRITE=3,n.DTP_GP_STATION_URL=4,n.DTP_GP_GroupInfo=[{k:"dwGroupID",t:"dword"},{k:"szGroupName",t:"string",s:s.GameMacro.LEN_GROUP_NAME}],n.DTP_GP_MemberInfo=[{k:"cbMemberOrder",t:"byte"},{k:"MemberOverDate",t:"table",d:a.CPP_Struct.SYSTEMTIME}],n.MDM_GP_SERVER_LIST=2,n.SUB_GP_GET_LIST=1,n.SUB_GP_GET_SERVER=2,n.SUB_GP_GET_MATCH=3,n.SUB_GP_GET_ONLINE=4,n.SUB_GP_GET_COLLECTION=5,n.SUB_GP_LIST_TYPE=100,n.SUB_GP_LIST_KIND=101,n.SUB_GP_LIST_NODE=102,n.SUB_GP_LIST_PAGE=103,n.SUB_GP_LIST_SERVER=104,n.SUB_GP_LIST_MATCH=105,n.SUB_GP_VIDEO_OPTION=106,n.SUB_GP_AGENT_KIND=107,n.SUB_GP_LIST_FINISH=200,n.SUB_GP_SERVER_FINISH=201,n.SUB_GP_MATCH_FINISH=202,n.SUB_GR_KINE_ONLINE=300,n.SUB_GR_SERVER_ONLINE=301,n.CMD_GP_GetOnline=[{k:"wServerCount",t:"word"},{k:"wOnLineServerID",t:"word",l:[s.GameMacro.MAX_SERVER,0]}],n.CMD_GP_KindOnline=[{k:"wKindCount",t:"word"},{k:"OnLineInfoKind",t:"table",d:o.default.tagOnLineInfoKind,l:[s.GameMacro.MAX_KIND,0]}],n.CMD_GP_ServerOnline=[{k:"wServerCount",t:"word"},{k:"OnLineInfoServer",t:"table",d:o.default.tagOnLineInfoServer,l:[s.GameMacro.MAX_SERVER,0]}],n.MDM_GP_USER_SERVICE=3,n.SUB_GP_MODIFY_INSURE_PASS=102,n.SUB_GP_USER_FACE_INFO=120,n.SUB_GP_SYSTEM_FACE_INFO=122,n.SUB_GP_USER_INDIVIDUAL=140,n.SUB_GP_MODIFY_INDIVIDUAL=152,n.SUB_GP_INDIVIDUAL_RESULT=153,n.SUB_GP_USER_ENABLE_INSURE=160,n.SUB_GP_USER_SAVE_SCORE=161,n.SUB_GP_USER_TAKE_SCORE=162,n.SUB_GP_USER_TRANSFER_SCORE=163,n.SUB_GP_USER_INSURE_INFO=164,n.SUB_GP_QUERY_INSURE_INFO=165,n.SUB_GP_USER_INSURE_SUCCESS=166,n.SUB_GP_USER_INSURE_FAILURE=167,n.SUB_GP_QUERY_USER_INFO_REQUEST=168,n.SUB_GP_QUERY_USER_INFO_RESULT=169,n.SUB_GP_USER_INSURE_ENABLE_RESULT=170,n.SUB_GP_EXCHANGE_BANK_SCORE=177,n.SUB_GP_QUERY_GAMELOCKINFO_RESULT=178,n.SUB_GP_USER_SAVE_RESULT=179,n.SUB_GP_USER_TAKE_RESULT=180,n.SUB_GP_TASK_LOAD=240,n.SUB_GP_TASK_TAKE=241,n.SUB_GP_TASK_REWARD=242,n.SUB_GP_TASK_GIVEUP=243,n.SUB_GP_TASK_INFO=250,n.SUB_GP_TASK_LIST=251,n.SUB_GP_TASK_RESULT=252,n.SUB_GP_TASK_GIVEUP_RESULT=253,n.SUB_GP_BASEENSURE_LOAD=260,n.SUB_GP_BASEENSURE_TAKE=261,n.SUB_GP_BASEENSURE_PARAMETER=262,n.SUB_GP_BASEENSURE_RESULT=263,n.SUB_GP_QUERY_GAMEROOM=301,n.SUB_GP_QUERY_GAMEROOM_RESULT=302,n.SUB_GP_LOTTERY_CONFIG_REQ=360,n.SUB_GP_LOTTERY_CONFIG=361,n.SUB_GP_LOTTERY_USER_INFO=362,n.SUB_GP_LOTTERY_START=363,n.SUB_GP_LOTTERY_RESULT=364,n.SUB_GP_QUERY_EMAIL=370,n.SUB_GP_QUERY_CUSTOMER=371,n.SUB_GP_SUBMIT_CUSTOMER=372,n.SUB_GP_EXCHANGESCORE_RESULT=401,n.SUB_GP_USERlOSS_RESULT=420,n.SUB_GP_OPERATE_SUCCESS=500,n.SUB_GP_OPERATE_FAILURE=501,n.SUB_GP_QUERY_DYNAMIC_PASS=388,n.SUB_MB_RADIO_MESSAGE=550,n.SUB_MB_CUSTOMER=551,n.SUB_MB_RECHARGESUCCESS=552,n.SUB_MB_NOTIFYIDNEWMAIL=553,n.SUB_MB_USERHALLSCORE=554,n.SUB_MB_JACKPOTCHANGE=555,n.SUB_GP_USER_RESULT_LOSS=570,n.SUB_MB_AGENT_NOTICE=556,n.SUB_MB_POG_KICK=600,n.SUB_MB_QUERY_DYNAMIC_PASS=575,n.CMD_MB_UserHallScore=[{k:"dwUserID",t:"dword"},{k:"lUserScore",t:"score"}],n.CMD_MB_Customer=[{k:"szContent",t:"string",s:256}],n.CMD_MB_RechargeSuccess=[{k:"lScore",t:"score"},{k:"nID",t:"int"},{k:"szTitle",t:"string",s:20},{k:"szSender",t:"string",s:20},{k:"szContent",t:"string",s:256},{k:"szSendTime",t:"string",s:20},{k:"nStatus",t:"int"}],n.CMD_MB_NotifyidNewMail=[{k:"nID",t:"int"},{k:"szTitle",t:"string",s:20},{k:"szSender",t:"string",s:20},{k:"szContent",t:"string",s:256},{k:"szSendTime",t:"string",s:20},{k:"nStatus",t:"int"}],n.CMD_GP_ModifyLogonPass=[{k:"dwUserID",t:"dword"},{k:"szDesPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szScrPassword",t:"string",s:s.GameMacro.LEN_PASSWORD}],n.CMD_GP_ModifyInsurePass=[{k:"dwUserID",t:"dword"},{k:"szDesPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szScrPassword",t:"string",s:s.GameMacro.LEN_PASSWORD}],n.CMD_GP_ModifyUnderWrite=[{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szUnderWrite",t:"string",s:s.GameMacro.LEN_UNDER_WRITE}],n.CMD_GP_UserFaceInfo=[{k:"bSuccess",t:"bool"},{k:"wFaceID",t:"word"},{k:"szDescribeString",t:"string",s:128}],n.CMD_GP_SystemFaceInfo=[{k:"wFaceID",t:"word"},{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_GP_CustomFaceInfo=[{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"dwCustomFace",t:"dword",l:[s.GameMacro.FACE_CX*s.GameMacro.FACE_CY,0]}],n.CMD_GP_ModifyMachine=[{k:"cbBind",t:"byte"},{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_GP_UserIndividual=[{k:"dwUserID",t:"dword"}],n.CMD_GP_QueryIndividual=[{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD}],n.CMD_GP_ModifyIndividual=[{k:"cbGender",t:"byte"},{k:"dwUserID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD}],n.CMD_MB_QueryDynamicPassResult=[{k:"cbResult",t:"byte"},{k:"szDynamicPass",t:"string",s:s.GameMacro.LEN_PASSWORD}],n.CMD_GP_QuerySendPresent=[{k:"dwUserID",t:"dword"}],n.DTP_GP_UI_ACCOUNTS=1,n.DTP_GP_UI_NICKNAME=2,n.DTP_GP_UI_USER_NOTE=3,n.DTP_GP_UI_UNDER_WRITE=4,n.DTP_GP_UI_QQ=5,n.DTP_GP_UI_EMAIL=6,n.DTP_GP_UI_SEAT_PHONE=7,n.DTP_GP_UI_MOBILE_PHONE=8,n.DTP_GP_UI_COMPELLATION=9,n.DTP_GP_UI_DWELLING_PLACE=10,n.DTP_GP_UI_PASSPORTID=11,n.DTP_GP_UI_SPREADER=12,n.CMD_GP_UserInsureInfo=[{k:"cbEnjoinTransfer",t:"byte"},{k:"wRevenueTake",t:"word"},{k:"wRevenueTransfer",t:"word"},{k:"wRevenueTransferMember",t:"word"},{k:"wServerID",t:"word"},{k:"lUserScore",t:"score"},{k:"lUserInsure",t:"score"},{k:"lTransferPrerequisite",t:"score"}],n.CMD_MB_NOTICE=[{k:"szNotice",t:"string",s:512},{k:"cbAgentNotice",t:"byte"}],n.CMD_GP_ExchangeScoreResult=[{k:"bSuccess",t:"bool"},{k:"lScore",t:"score"},{k:"lInsureScore",t:"score"},{k:"szDescribeString",t:"string",s:128}],n.CMD_GP_OperateFailure=[{k:"szDescribeString",t:"string",s:128}],n.CMD_GP_OperateSuccess=[{k:"szDescribeString",t:"string",s:128}],n.MDM_MB_LOGON=100,n.SUB_MB_LOGON_GAMEID=1,n.SUB_MB_LOGON_ACCOUNTS=2,n.SUB_MB_REGISTER_ACCOUNTS=3,n.SUB_MB_LOGON_OTHERPLATFORM=4,n.SUB_MB_LOGON_VISITOR=5,n.SUB_MB_QUERY_GAMELOCKINFO=14,n.SUB_MB_LOGON_SUCCESS=100,n.SUB_MB_LOGON_FAILURE=101,n.SUB_MB_MATCH_SIGNUPINFO=102,n.SUB_MB_UPDATE_NOTIFY=200,n.CMD_MB_LogonGameID=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"dwGameID",t:"dword"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_MD5},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE}],n.CMD_MB_LogonAccounts=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"szPassword",t:"string",s:s.GameMacro.LEN_MD5},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"bGameBack",t:"byte"}],n.CMD_MB_LogonOtherPlatform=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"cbGender",t:"byte"},{k:"cbPlatformID",t:"byte"},{k:"szUserUin",t:"string",s:s.GameMacro.LEN_USER_UIN},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"szCompellation",t:"string",s:s.GameMacro.LEN_COMPELLATION},{k:"szOpenID",t:"string",s:s.GameMacro.LEN_USER_UIN},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szFaceAddress",t:"string",s:256}],n.CMD_MB_RegisterAccounts=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"szLogonPass",t:"string",s:s.GameMacro.LEN_MD5},{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"dwSpreaderGameID",t:"dword"},{k:"szAgentID",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szRegisterMobile",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE}],n.CMD_MB_PhoneRegisterAccounts=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"cbDeviceType",t:"byte"},{k:"szLogonPass",t:"string",s:s.GameMacro.LEN_MD5},{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"dwSpreaderGameID",t:"dword"},{k:"szAgentID",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szVerifyCode",t:"string",s:s.GameMacro.LEN_VERIFY_CODE},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_GetRegisterVerifyCode=[{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_QueryUserData=[{k:"cbType",t:"byte"},{k:"szWhere",t:"string",s:s.GameMacro.LEN_WHERE_PARM}],n.CMD_MB_TouSuDaili=[{k:"dwUserID",t:"dword"},{k:"szUserWx",t:"string",s:s.GameMacro.LEN_AGENT_ID},{k:"szAgentWx",t:"string",s:s.GameMacro.LEN_AGENT_ID},{k:"szReason",t:"string",s:s.GameMacro.LEN_DESC},{k:"szImageName",t:"string",s:s.GameMacro.LEN_IMAGE_NAME}],n.CMD_MB_ShenQingDailiCheck=[{k:"dwUserID",t:"dword"}],n.CMD_MB_ShenQingDaili=[{k:"dwUserID",t:"dword"},{k:"szAgentAcc",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szAgentName",t:"string",s:s.GameMacro.LEN_AGENT_ID},{k:"szAlipay",t:"string",s:s.GameMacro.LEN_ALIPAY},{k:"szWeChat",t:"string",s:s.GameMacro.LEN_WECHAT},{k:"szQQ",t:"string",s:s.GameMacro.LEN_QQ},{k:"N",t:"string",s:s.GameMacro.LEN_DESC}],n.CMD_MB_QueryGameLockInfo=[{k:"dwUserID",t:"dword"}],n.CMD_MB_GetModifyPassVerifyCode=[{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_GetModifyBankInfoVerifyCode=[{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_ModifyPassVerifyCode=[{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szPassword",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"cbMode",t:"byte"},{k:"szVerifyCode",t:"string",s:s.GameMacro.LEN_VERIFY_CODE},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_ModifyBankInfoVerifyCode=[{k:"dwUserID",t:"dword"},{k:"szBankNo",t:"string",s:s.GameMacro.LEN_BANK_NO},{k:"szBankName",t:"string",s:s.GameMacro.LEN_BANK_NAME},{k:"szVerifyCode",t:"string",s:s.GameMacro.LEN_VERIFY_CODE},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"szBankAddress",t:"string",s:s.GameMacro.LEN_BANK_ADDRESS},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID}],n.CMD_MB_LogonVisitor=[{k:"wModuleID",t:"word"},{k:"dwPlazaVersion",t:"dword"},{k:"szAgentID",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"cbDeviceType",t:"byte"},{k:"szMachineID",t:"string",s:s.GameMacro.LEN_MACHINE_ID},{k:"szMobilePhone",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE}],n.CMD_MB_LogonSuccess=[{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"dwCustomID",t:"dword"},{k:"dwUserID",t:"dword"},{k:"dwGameID",t:"dword"},{k:"dwSpreaderID",t:"dword"},{k:"dwExperience",t:"dword"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"szAliPayAcccount",t:"string",s:30},{k:"szBinkID",t:"string",s:20},{k:"szDynamicPass",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMobile",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"lUserScore",t:"score"},{k:"lUserInsure",t:"score"},{k:"cbInsureEnabled",t:"byte"},{k:"cbIsAgent",t:"byte"},{k:"cbMoorMachine",t:"byte"},{k:"TodayAlmsCount",t:"int"},{k:"dwLockServerID",t:"dword"},{k:"dwKindID",t:"dword"},{k:"dwAgentID",t:"dword"}],n.CMD_MB_LogonSuccess1=[{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"dwCustomID",t:"dword"},{k:"dwUserID",t:"dword"},{k:"dwGameID",t:"dword"},{k:"dwSpreaderID",t:"dword"},{k:"dwExperience",t:"dword"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"szAliPayAcccount",t:"string",s:30},{k:"szBinkID",t:"string",s:20},{k:"szDynamicPass",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMobile",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"lUserScore",t:"score"},{k:"lUserInsure",t:"score"},{k:"cbInsureEnabled",t:"byte"},{k:"cbIsAgent",t:"byte"},{k:"cbMoorMachine",t:"byte"},{k:"TodayAlmsCount",t:"int"},{k:"dwLockServerID",t:"dword"},{k:"dwKindID",t:"dword"},{k:"dwAgentID",t:"dword"},{k:"cbFirstrecharge",t:"byte"}],n.CMD_MB_LogonSuccess_Table=[{k:"wFaceID",t:"word"},{k:"cbGender",t:"byte"},{k:"dwCustomID",t:"dword"},{k:"dwUserID",t:"dword"},{k:"dwGameID",t:"dword"},{k:"dwSpreaderID",t:"dword"},{k:"dwExperience",t:"dword"},{k:"szAccounts",t:"string",s:s.GameMacro.LEN_ACCOUNTS},{k:"szNickName",t:"string",s:s.GameMacro.LEN_NICKNAME},{k:"szAliPayAcccount",t:"string",s:30},{k:"szBinkID",t:"string",s:20},{k:"szDynamicPass",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szMobile",t:"string",s:s.GameMacro.LEN_MOBILE_PHONE},{k:"lUserScore",t:"score"},{k:"lUserInsure",t:"score"},{k:"cbInsureEnabled",t:"byte"},{k:"cbIsAgent",t:"byte"},{k:"cbMoorMachine",t:"byte"},{k:"TodayAlmsCount",t:"int"},{k:"dwLockServerID",t:"dword"},{k:"dwKindID",t:"dword"},{k:"dwAgentID",t:"dword"},{k:"cbRightMask",t:"byte"}],n.CMD_MB_LogonFailure=[{k:"lResultCode",t:"int"},{k:"szDescribeString",t:"string",s:128}],n.CMD_MB_UpdateNotify=[{k:"cbMustUpdate",t:"byte"},{k:"cbAdviceUpdate",t:"byte"},{k:"dwCurrentVersion",t:"dword"}],n.MDM_MB_SERVER_LIST=101,n.SUB_QUEREY_SERVER=1,n.CMD_MB_QueryServer=[{k:"wKindID",t:"word"}],n.SUB_MB_LIST_SERVER_START=1,n.SUB_MB_LIST_SERVER_END=2,n.SUB_MB_LIST_KIND=100,n.SUB_MB_LIST_SERVER=101,n.SUB_MB_LIST_MATCH=102,n.SUB_MB_LIST_FINISH=200,n.SUB_MB_GET_ONLINE=300,n.SUB_MB_KINE_ONLINE=301,n.SUB_MB_SERVER_ONLINE=302,n.SUB_MB_AGENT_KIND=400,n.SUB_GP_QUERY_AGENT_NOTICE=373,n.CMD_MB_GetOnline=[{k:"wServerCount",t:"word"},{k:"wOnLineServerID",t:"word",l:[s.GameMacro.MAX_SERVER,0]}],n.CMD_MB_KindOnline=[{k:"wKindCount",t:"word"},{k:"OnLineInfoKind",t:"table",d:o.default.tagOnLineInfoKind,l:[s.GameMacro.MAX_KIND,0]}],n.CMD_MB_ServerOnline=[{k:"wServerCount",t:"word"},{k:"OnLineInfoServer",t:"table",d:o.default.tagOnLineInfoServer,l:[s.GameMacro.MAX_SERVER,0]}],n.CMD_GP_ExchangeBankScore=[{k:"dwUserID",t:"dword"},{k:"dwScore",t:"score"},{k:"szBankPass",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"szOrderID",t:"string",s:s.GameMacro.LEN_PASSWORD},{k:"dwType",t:"dword"}],n.CMD_JackPotConfig=[{k:"lJackPotScore",t:"double",l:[s.GameMacro.JACKPOT_COUNT,0]}],n.CMD_GP_QueryAgentNotice=[{k:"dwAgentID",t:"dword"}],n.SUB_MB_QUERY_SIGN_REWARD=560,n.SUB_MB_SIGN_REWARD=561,n.SUB_MB_WEDNESDAY_REWARD=573,n.CMD_MB_QuerySignRewardResult=[{k:"cbResult",t:"byte"},{k:"cbIndex",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.CMD_MB_SignRewardResult=[{k:"fScore",t:"double"},{k:"cbIndex",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.CMD_MB_WednesdayRewardResult=[{k:"fScore",t:"double"},{k:"szDescribeString",t:"string",s:128}],n.SUB_GP_QUERY_SIGN_REWARD=377,n.SUB_GP_SIGN_REWARD=378,n.SUB_GP_WEDNESDAY_REWARD=387,n.CMD_GP_QueryActivityReward=[{k:"dwUserID",t:"dword"}],n.CMD_GP_SignReward=[{k:"dwUserID",t:"dword"},{k:"cbRewardIndex",t:"byte"}],n.CMD_GP_WednesdayReward=[{k:"dwUserID",t:"dword"}],n.CMD_CMD_GP_QueryDynamicPass=[{k:"dwUserID",t:"dword"}],n.SUB_MB_QUERY_WHEEL_REWARD=562,n.SUB_MB_WHEEL_REWARD=563,n.CMD_MB_QueryWheelRewardResult=[{k:"cbResult",t:"byte"},{k:"cbFreeTimes",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.CMD_MB_WheelRewardResult=[{k:"fScore",t:"double"},{k:"cbIndex",t:"byte"},{k:"cbFreeTimes",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.SUB_GP_QUERY_WHEEL_REWARD=379,n.SUB_GP_WHEEL_REWARD=380,n.SUB_MB_LEN_PASSWORD=33,n.CMD_GP_WheelReward=[{k:"dwUserID",t:"dword"}],n.SUB_MB_QUERY_TABLE_INFO=564,n.SUB_MB_ADD_TABLE=565,n.SUB_MB_DEL_TABLE=566,n.SUB_MB_DEL_TABLE_SIT=568,n.SUB_MB_TABLE_SIT=567,n.LB_TABLE_INFO=[{k:"cbTableID",t:"byte"},{k:"wServerID",t:"word"},{k:"cbServerTableID",t:"byte"},{k:"fSitScore",t:"double"},{k:"cbPlayerCounts",t:"byte"},{k:"dwUserID",t:"dword",l:[4,0]}],n.CMD_MB_QueryTableInfoResult=[{k:"cbResult",t:"byte"},{k:"wKindID",t:"word"},{k:"cbAllCounts",t:"byte"},{k:"cbTableCounts",t:"byte"},{k:"tableInfo",t:"table",d:n.LB_TABLE_INFO,l:[10,0]}],n.CMD_MB_AddTableResult=[{k:"cbResult",t:"byte"},{k:"szDescribeString",t:"string",s:128},{k:"wKindID",t:"word"},{k:"cbAddPos",t:"byte"},{k:"dwServerID",t:"dword"},{k:"dwServerTableID",t:"dword"}],n.CMD_MB_DelTableResult=[{k:"cbResult",t:"byte"},{k:"szDescribeString",t:"string",s:128},{k:"wKindID",t:"word"},{k:"cbDelPos",t:"byte"},{k:"dwServerID",t:"dword"},{k:"dwServerTableID",t:"dword"}],n.CMD_CS_C_LBTableSit=[{k:"dwUserID",t:"dword"},{k:"dwServerID",t:"dword"},{k:"wKindID",t:"word"},{k:"wTableID",t:"word"},{k:"wChairID",t:"word"}],n.SUB_GP_QUERY_TABLE_INFO=382,n.SUB_GP_ADD_TABLE=383,n.SUB_GP_DEL_TABLE=384,n.CMD_GP_QueryTableInfo=[{k:"dwUserID",t:"dword"},{k:"wKindID",t:"word"},{k:"wServerID",t:"word"},{k:"wFromPos",t:"word"},{k:"wToPos",t:"word"}],n.CMD_GP_AddTable=[{k:"dwUserID",t:"dword"},{k:"wKindID",t:"word"},{k:"wServerID",t:"word"},{k:"cbAddPos",t:"byte"}],n.CMD_GP_DelTable=[{k:"dwUserID",t:"dword"},{k:"wKindID",t:"word"},{k:"wServerID",t:"word"},{k:"cbDelPos",t:"byte"}],n.SUB_MB_MODIFY_PASSWORD=574,n.CMD_MB_ModifyPasswordResult=[{k:"cbResult",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.SUB_GP_EXCHANGE_SCORE=376,n.CMD_GP_ExchangeScore=[{k:"dwUserID",t:"dword"},{k:"fScore",t:"double"}],n.SUB_MB_ExchangeScore=559,n.CMD_MB_ExchangeScoreResult=[{k:"fScore",t:"double"},{k:"cbResult",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.SUB_MB_JACKPOT_STATUS=601,n.SUB_GP_QUERY_GAME_RECORD=389,n.CMD_GP_QueryGameRecord=[{k:"dwUserID",t:"dword"},{k:"cbRecordType",t:"byte"},{k:"dwStartIndex",t:"dword"},{k:"dwPageCounts",t:"dword"}],n.SUB_MB_QUERY_GAME_RECORD=576,n.GAME_RECORD_INFO=[{k:"RecordTime",t:"string",s:64},{k:"wKindID",t:"word"},{k:"fBetAmount",t:"double"},{k:"cbResult",t:"byte"},{k:"fbalance",t:"double"}],n.CMD_MB_QueryGameRecordResult=[{k:"cbResult",t:"byte"},{k:"cbRecordType",t:"byte"},{k:"dwStartIndex",t:"dword"},{k:"dwUserID",t:"dword"},{k:"dwRecordCounts",t:"dword"},{k:"RecordInfo",t:"table",d:n.GAME_RECORD_INFO,l:[10,0]}],n.SUB_MB_MAX_JACKPOT=577,n.strMaxJackPot=[{k:"MaxJackPot",t:"int",l:[5,0]}],n.SUB_MB_Random_NOTICE=578,n.CMD_CS_S_RandomAnnouncement=[{k:"wLetterIndex",t:"word"},{k:"wKindID",t:"word"},{k:"fScore",t:"double"}],n.SUB_GP_QUERY_ACCOUNT_STATEMENT=390,n.DBR_GR_QueryAccountStatement=[{k:"dwUserID",t:"dword"}],n.SUB_MB_QUERY_ACCOUNT_STATEMENT=579,n.CMD_MB_QueryAccountStatementResult=[{k:"cbResult",t:"byte"},{k:"fRechargeScore",t:"double"},{k:"fBetScore",t:"double"},{k:"cbOnlineRecharge",t:"byte"}],n.SUB_GP_RECHARGE_WHEEL_REWARD=391,n.CMD_GP_RechargeWheelReward=[{k:"dwUserID",t:"dword"}],n.SUB_GP_QUERY_RECHARGE_WHEEL_REWARD=392,n.SUB_MB_RECHARGE_WHEEL_REWARD=580,n.CMD_MB_RechargeWheelRewardResult=[{k:"fScore",t:"double"},{k:"cbIndex",t:"byte"},{k:"cbFreeTimes",t:"byte"},{k:"szDescribeString",t:"string",s:128}],n.SUB_MB_QUERY_RECHARGE_WHEEL_REWARD=581,cc._RF.pop()},{"./CMD_Common":"CMD_Common","./CPP_Struct":"CPP_Struct","./GameMacro":"GameMacro"}],CPP_Struct:[function(e,t,r){"use strict";cc._RF.push(t,"abc47qSp6dJqaOjX6tNcZ6a","CPP_Struct"),Object.defineProperty(r,"__esModule",{value:!0}),r.CPP_Struct=void 0;class o{}r.CPP_Struct=o,o.SYSTEMTIME=[{k:"wYear",t:"word"},{k:"wMonth",t:"word"},{k:"wDayOfWeek",t:"word"},{k:"wDay",t:"word"},{k:"wHour",t:"word"},{k:"wMinute",t:"word"},{k:"wSecond",t:"word"},{k:"wMilliseconds ",t:"word"}],cc._RF.pop()},{}],GameFrameController:[function(e,t,r){"use strict";cc._RF.push(t,"5bc9aKK9+JDioemHFvbHYFW","GameFrameController");var o=this&&this.__decorate||function(e,t,r,o){var a,s=arguments.length,n=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(s<3?a(n):s>3?a(t,r,n):a(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n};Object.defineProperty(r,"__esModule",{value:!0});const a=e("./GameFrame"),s=e("./GameScripts/BaseGame"),n=e("./GameScripts/GoldGame"),_=e("./GlobalUserItem"),d=e("./Header/GameMacro"),c=e("./UserManager"),i=e("../BaseRes/PopTips/PopTips"),S=e("../ClientBase/UI/CommonUI"),{ccclass:E,property:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.GameScene=null,this.BaseGame=null,this.GoldGame=null,this.MyStatus=d.GameMacro.US_NULL}contorlGame(e){this.GameScene=e,this.BaseGame=e.node.addComponent(s.default),this.GoldGame=e.node.addComponent(n.default)}relieveBind(){cc.game.off(cc.game.EVENT_HIDE,this.onEnterBackground,this),cc.game.off(cc.game.EVENT_SHOW,this.onEnterForeground,this),this.GameScene=null}init(){cc.game.off(cc.game.EVENT_HIDE,this.onEnterBackground,this),cc.game.off(cc.game.EVENT_SHOW,this.onEnterForeground,this),cc.game.on(cc.game.EVENT_HIDE,this.onEnterBackground,this),cc.game.on(cc.game.EVENT_SHOW,this.onEnterForeground,this)}onEnterBackground(){this.GameScene.onEnterBackground()}onEnterForeground(){this.GameScene.onEnterForeground()}netWorkDelay(){this.GameScene&&this.GameScene.netWorkDelay()}onSocketConnected(){}onSocketError(){cc.log("GameFrameController onSocketError")}onSocketClose(){this.GameScene&&this.GameScene.onSocketClose()}onSystemMessage(e){cc.log(e),i.default.showMessage(S.default.RootNode,e)}onGameFrameMessage(e){cc.log(e),i.default.showMessage(S.default.RootNode,e)}onLogonFinish(){let e=c.default.getInstance().getMeUserItem();if(e)if(this.MyStatus=e.UserInfo.cbUserStatus,e.UserInfo.cbUserStatus!=d.GameMacro.US_FREE){if(!(e.UserInfo.cbUserStatus>d.GameMacro.US_FREE))return e.UserInfo.cbUserStatus==d.GameMacro.US_NULL?(cc.warn("onLogonFinish \u767b\u5f55\u5373\u9000\u670d",e),void this.onExitRoom()):void cc.error("\u672a\u5904\u7406\u7684\u767b\u5f55\u72b6\u6001",e);this.onEnterTable(e.UserInfo.wChairID)}else this.onEnterRoom()}onEnterRoom(){this.GameScene&&this.GameScene.onEnterRoom()}onExitRoom(){cc.error("------onExitRoom"),this.GameScene&&this.GameScene.onExitRoom()}onEnterTable(e){this.GameScene&&this.GameScene.onEnterTable(e)}onExitTable(){this.GameScene&&this.GameScene.onExitTable()}onUserEnter(e,t){this.GameScene&&this.GameScene.onUserEnter(e,t)}onUserScore(e,t){_.default.UserInfo.lUserScore=t.lScore,this.GameScene&&this.GameScene.onUserScore(e,t)}onUserLeave(e){this.GameScene&&this.GameScene.onUserLeave(e)}onUserStatus(e,t,r){let o=c.default.getInstance().getMeUserItem();null!=o?e.getUserID()==_.default.getUserID?(this.MyStatus=t.cbUserStatus,t.cbUserStatus==d.GameMacro.US_NULL?(cc.error("\u81ea\u5df1\u79bb\u5f00"),c.default.getInstance().onUserClear(),a.default.getInstance().intermitConnect("\u81ea\u5df1\u79bb\u5f00(US_NULL)"),this.onExitRoom()):t.cbUserStatus==d.GameMacro.US_FREE&&r.cbUserStatus>d.GameMacro.US_FREE?(cc.log("\u81ea\u5df1\u8d77\u7acb"),a.default.getInstance().intermitConnect("\u4e3b\u52a8\u79bb\u5f00"),c.default.getInstance().onUserClear()):t.cbUserStatus>d.GameMacro.US_FREE&&r.cbUserStatus<d.GameMacro.US_SIT?(cc.log("\u81ea\u5df1\u5750\u4e0b"),this.onEnterTable(t.wChairID)):(console.log("\u66f4\u65b0\u81ea\u5df1\u7684\u72b6\u6001",t.cbUserStatus),this.GameScene&&this.GameScene.onUserStatus(e,t,r))):r.wTableID==o.getTableID()?t.wTableID!=o.getTableID()?this.onUserLeave(r.wChairID):(console.log("\u65e7\u72b6\u6001\u66f4\u65b0\u72b6\u6001"),this.GameScene&&this.GameScene.onUserStatus(e,t,r)):t.wTableID==o.getTableID()&&(console.log("\u65b0\u72b6\u6001\u540c\u684c",e),this.onUserEnter(t.wChairID,e)):cc.error("onUserStatus meUserItem == null")}};u=o([E],u),r.default=u,cc._RF.pop()},{"../BaseRes/PopTips/PopTips":void 0,"../ClientBase/UI/CommonUI":void 0,"./GameFrame":"GameFrame","./GameScripts/BaseGame":"BaseGame","./GameScripts/GoldGame":"GoldGame","./GlobalUserItem":"GlobalUserItem","./Header/GameMacro":"GameMacro","./UserManager":"UserManager"}],GameFrame:[function(e,t,r){"use strict";cc._RF.push(t,"b819dMF9VpNooWngISL5TqC","GameFrame"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("../ClientBase/Device"),a=e("../ClientCommon/CData"),s=e("../ClientCommon/DataUtils"),n=e("../ClientCommon/EventCenter"),_=e("../ClientCommon/WSEngine"),d=e("./GameFrameController"),c=e("./GameServerManager"),i=e("./GlobalUserItem"),S=e("./Header/CMD_GameServer"),E=e("./Header/CMD_Common"),l=e("./Header/GameMacro"),u=e("./UserItem"),I=e("./UserManager"),M=e("../ClientBase/UI/CommonUI"),R=e("../BaseRes/PopDialog/PopDialog"),D=e("../ClientBase/BundleManager"),C=e("../BaseRes/Marquee/Marquee"),U=e("../BaseRes/PopWait/PopWait"),G=e("../ClientCommon/EventCommonCode");class N extends _.default{constructor(){super(),this.handlerPriority=99,this.handlerName="GameFrame",this.gameServer=null,this.ConfigServer=null,this.UserRight=0,this.MasterRight=0,this.gameFrameController=null,this.gameLogic=null,this.GameStatus=l.GameMacro.GAME_STATUS_FREE,this.AllowLookon=0,this.bigNum=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.gameFrameController=new d.default}static getInstance(){return null==N.instance&&(N.instance=new N),N.instance}netWorkDelay(){cc.error("\u6e38\u620f\u670d\u7f51\u7edc\u5ef6\u8fdf\u5904\u7406"),this.gameFrameController.netWorkDelay()}controlGame(e){this.gameFrameController.contorlGame(e),this.gameFrameController.init(),this.gameLogic=e.GameLogic}relieveBind(){this.gameFrameController.relieveBind()}getCurrentServer(){return this.gameServer}getGameLogicController(){return this.gameLogic}getGameFrameController(){return this.gameFrameController}handleEvent(e,t){}intermitConnect(e=null){null!=e?e.length<2?cc.log("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u7981\u6b62\u65ad\u5f00 \u539f\u56e0\u8fc7\u7b80:"+e):(cc.log("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u5141\u8bb8\u65ad\u5f00:"+e),this.close()):cc.log("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u7981\u6b62\u65ad\u5f00 \u539f\u56e0\u4e0d\u660e")}setLOGONSERVER(e,t){N.LOGONSERVER=e,null!=t&&(N.LOGONSERVERPORT=t)}connectServer(e){let t=c.default.getInstance().getGameServer(e);null!=t?(this.gameServer=t,this.setServer(N.LOGONSERVER,t.wServerPort,N.LOGONSERVERPORT),this.connectSocket()):cc.error("connectServer",e,"no server found")}onSocketConnected(){c.default.getInstance().KindID=this.gameServer.wKindID,this.sendLogonMobile()}onSocketError(){cc.log("GameFrame onSocketError"),super.onSocketError(),this.gameFrameController.onSocketError()}onSocketClose(){cc.log("GameFrame onSocketClose"),super.onSocketClose(),this.gameFrameController.onSocketClose()}onSocketData(e,t,r){switch(e){case S.default.MDM_GR_LOGON:this.OnSocketMainLogon(t,r);break;case S.default.MDM_GR_CONFIG:this.OnSocketMainConfig(t,r);break;case S.default.MDM_GR_USER:this.OnSocketMainUser(t,r);break;case S.default.MDM_GR_STATUS:this.OnSocketMainStatus(t,r);break;case S.default.MDM_GF_FRAME:this.OnSocketMainGameFrame(t,r);break;case S.default.MDM_GF_GAME:this.gameLogic&&this.gameLogic.OnEventSocketGame(t,r);break;case E.default.MDM_CM_SYSTEM:this.OnSocketMainSystem(t,r)}}OnSocketMainLogon(e,t){switch(e){case S.default.SUB_GR_LOGON_SUCCESS:cc.log("\u767b\u5f55\u6210\u529f!!---");let r=s.default.readNetData(S.default.CMD_GR_LogonSuccess,t);this.UserRight=r.dwUserRight,this.MasterRight=r.dwMasterRight;break;case S.default.SUB_GR_LOGON_FAILURE:let o=s.default.readNetData(S.default.CMD_GR_LogonError,t);cc.error("SUB_GR_LOGON_FAILURE",o),U.default.HidePopWait(M.default.RootNode),R.default.Show(M.default.RootNode,o.szErrorDescribe,()=>{cc.log("ok callback"),D.default.getInstance().Loadloading(()=>{c.default.getInstance().KindID=0})},()=>{cc.log("cancel callback")},!1),this.intermitConnect("\u767b\u5f55\u5931\u8d25");break;case S.default.SUB_GR_LOGON_FINISH:this.gameFrameController.onLogonFinish();break;case S.default.SUB_GR_UPDATE_NOTIFY:}}OnSocketMainConfig(e,t){switch(e){case S.default.SUB_GR_CONFIG_SERVER:this.ConfigServer=s.default.readNetData(S.default.CMD_GR_ConfigServer,t);break;case S.default.SUB_GR_CONFIG_FINISH:break;case S.default.SUB_GR_CONFIG_USER_RIGHT:let r=s.default.readNetData(S.default.CMD_GR_ConfigUserRight,t);this.UserRight=r.dwUserRight}}OnSocketMainUser(e,t){switch(e){case S.default.SUB_GR_USER_WAIT_DISTRIBUTE:this.isGoldMode();break;case S.default.SUB_GR_USER_ENTER:this.OnSocketSubUserEnter(t);break;case S.default.SUB_GR_USER_SCORE:this.OnSocketSubUserScore(t);break;case S.default.SUB_GR_USER_STATUS:this.OnSocketSubUserStatus(t);break;case S.default.SUB_GR_REQUEST_FAILURE:this.onSocketRequestFailure(t);break;case S.default.SUB_MB_Random_NOTICE:this.onRandomNotice(t)}}OnSocketSubUserEnter(e){let t=new u.default;t.loadData(e);let r=I.default.getInstance().getUserItem(t.getUserID());r?r.reloadData(t):(I.default.getInstance().onUserEnter(t),r=t)}OnSocketSubUserScore(e){let t=s.default.readNetData(S.default.CMD_GR_MobileUserScore,e);I.default.getInstance().onUserScore(t.dwUserID,t.UserScore),this.gameFrameController.onUserScore(t.dwUserID,t.UserScore)}onRandomNotice(e){cc.error("[\u7528\u6237\u516c\u544a]",e);let t=s.default.readNetData(S.default.CMD_CS_S_RandomAnnouncement,e),r=Math.floor(t.wLetterIndex/100),o=t.wLetterIndex-100*r,a=this.bigNum[r-1]+"***"+this.bigNum[o-1],n=t.fScore;var _=D.default.getInstance().ClientGamesList[t.wKindID];let d=""+t.wKindID;_&&(d=_.Name);let i="Congratulations to the player "+a+" won the grand prize of "+n+" golden  coins  when  playing  "+d+"! ";C.default.ShowMarquee(M.default.RootNode,i,c.default.getInstance().KindID,C.marqueeType.rewardNotice)}OnSocketSubUserStatus(e){let t=e.readdword(),r=s.default.readNetData(E.default.tagUserStatus,e),o=I.default.getInstance().getUserItem(t);if(null==o)return void console.log("\u6ca1\u6709\u8fd9\u4e2a\u7528\u6237\u4fe1\u606f");let a=o.tagUserStatus();I.default.getInstance().onUserStatus(t,r),this.gameFrameController.onUserStatus(o,r,a)}onSocketRequestFailure(e){let t=s.default.readNetData(S.default.CMD_GR_RequestFailure,e);cc.log("onSocketRequestFailure\u5411\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u8fd4\u56de\u5931\u8d25"),n.EventCenter.EmitEvent(G.EventCommonCode.InitSceneComplete),N.getInstance().intermitConnect("\u4e3b\u52a8\u79bb\u5f00"),I.default.getInstance().onUserClear(),R.default.Show(M.default.RootNode,t.szDescribeString,()=>{this.gameFrameController.onExitTable(),cc.log("ok callback")},()=>{cc.log("cancel callback")},!1)}OnSocketMainStatus(e,t){e==S.default.SUB_GR_TABLE_INFO||e==S.default.SUB_GR_TABLE_STATUS&&s.default.readNetData(S.default.CMD_GR_TableStatus,t)}OnSocketMainSystem(e,t){if(e==E.default.SUB_CM_SYSTEM_MESSAGE){let e=s.default.readNetData(E.default.CMD_CM_SystemMessage,t);(e.wType&l.GameMacro.SMT_CHAT||e.wType&l.GameMacro.SMT_EJECT||e.wType&l.GameMacro.SMT_TABLE_ROLL)&&this.gameFrameController.onGameFrameMessage(e.szString),cc.error("===OnSocketMainSystem==="),this.onSocketAction(e.wType)}else E.default.SUB_CM_ACTION_MESSAGE}onSocketAction(e){(e&l.GameMacro.SMT_CLOSE_ROOM||e&l.GameMacro.SMT_CLOSE_LINK||e&l.GameMacro.SMT_CLOSE_GAME)&&this.intermitConnect("\u6d88\u606f\u63a9\u7801:"+e)}OnSocketSubActionMessage(e){let t=e.readword();cc.error("===OnSocketSubActionMessage==="),this.onSocketAction(t)}onGameMarqueeMsg(e){let t=s.default.readNetData(S.default.CMD_S_NOTICE,e);cc.log("==========\u6536\u5230\u7cfb\u7edf\u516c\u544a",t),t.cbAgentNotice>0?C.default.ShowMarquee(M.default.RootNode,t.szNotice,c.default.getInstance().KindID):C.default.hideMarquee(M.default.RootNode)}OnSocketMainGameFrame(e,t){switch(e){case S.default.SUB_GF_GAME_STATUS:this.OnSocketSubGameStatus(t);break;case S.default.SUB_GF_GAME_SCENE:this.OnSocketSubGameScene(t);break;case S.default.SUB_GF_LOOKON_STATUS:this.OnSocketSubLookonStatus(t);break;case S.default.SUB_GF_SYSTEM_MESSAGE:this.onGameFrameMessage(t);break;case S.default.SUB_GF_ACTION_MESSAGE:this.OnSocketSubActionMessage(t);case S.default.SUB_S_NOTICE:this.onGameMarqueeMsg(t);break;case S.default.SUB_S_UPSCORE:this.OnUpScore(t);break;case S.default.SUB_S_REWARD_NOTICE:this.OnRewardNotice(t)}}OnRewardNotice(e){let t=s.default.readNetData(S.default.CMD_S_REWARD_NOTICE,e);cc.error("\u6536\u5230\u5956\u52b1\u516c\u544a\uff1a",t),this.gameLogic.OnRewardNotice(t.dwUserID,t.szNotice)}OnUpScore(e){let t=s.default.readNetData(S.default.CMD_S_UPSCORE,e);this.gameLogic.OnUpScore(t.iUpScore)}OnSocketSubGameStatus(e){let t=s.default.readNetData(S.default.CMD_GF_GameStatus,e);this.GameStatus=t.cbGameStatus,this.AllowLookon=t.cbAllowLookon}OnSocketSubGameScene(e){this.gameLogic.OnEventSceneMessage(this.GameStatus,e)}OnSocketSubLookonStatus(e){let t=s.default.readNetData(S.default.CMD_GF_LookonStatus,e);this.AllowLookon=t.cbAllowLookon}onGameFrameMessage(e){let t=s.default.readNetData(E.default.CMD_CM_SystemMessage,e);(t.wType&l.GameMacro.SMT_CHAT||t.wType&l.GameMacro.SMT_EJECT||t.wType&l.GameMacro.SMT_TABLE_ROLL)&&this.gameFrameController.onGameFrameMessage(t.szString),this.onSocketAction(t.wType)}isInGameScene(){let e=cc.director.getScene();return 0!=e.name.indexOf("Plaza")&&0!=e.name.indexOf("Login")}isGoldMode(){return this.gameServer.wServerType==l.GameMacro.GAME_GENRE_GOLD}isPrivateMode(){return this.gameServer.wServerType==l.GameMacro.GAME_GENRE_PERSONAL}sendLogonMobile(){if(!this.isServe())return this.onSocketError(),!1;let e=new a.default;e.initForSend(S.default.MDM_GR_LOGON,S.default.SUB_GR_LOGON_MOBILE,a.default.getStructLen(S.default.CMD_GR_LogonMobile)),e.pushword(this.gameServer.wKindID),e.pushdword(o.default.CLIENT_VERSION),e.pushbyte(o.default.DEVICE_TYPE),e.pushword(17),e.pushword(255),e.pushdword(i.default.getUserID),e.pushstring(i.default.UserInfo.szDynamicPass,l.GameMacro.LEN_MD5),e.pushstring("",l.GameMacro.LEN_PASSWORD),e.pushstring("",l.GameMacro.LEN_MACHINE_ID),this.sendData(e)}sendLogonUserID(){if(!this.isServe())return this.onSocketError(),!1;let e=new a.default;return e.initForSend(S.default.MDM_GR_LOGON,S.default.SUB_GR_LOGON_USERID,a.default.getStructLen(S.default.CMD_GR_LogonUserID)),e.pushdword(o.default.PLAZA_VERSION),e.pushdword(o.default.FRAME_VERSION),e.pushdword(o.default.CLIENT_VERSION),e.pushdword(i.default.UserInfo.dwUserID),e.pushstring(i.default.UserInfo.szDynamicPass,l.GameMacro.LEN_MD5),e.pushstring("",l.GameMacro.LEN_PASSWORD),e.pushstring("",l.GameMacro.LEN_MACHINE_ID),e.pushword(this.gameServer.wKindID),this.sendData(e),!0}sendGameOption(){if(!this.isServe())return this.onSocketError(),!1;let e=new a.default;return e.initForSend(S.default.MDM_GF_FRAME,S.default.SUB_GF_GAME_OPTION,a.default.getStructLen(S.default.CMD_GF_GameOption)),e.pushbyte(0),e.pushdword(o.default.FRAME_VERSION),e.pushdword(o.default.CLIENT_VERSION),this.sendData(e),!0}sendSitDown(e,t){if(!this.isServe())return this.onSocketError(),!1;let r=I.default.getInstance().getMeUserItem();if(r.getUserStatus()>=l.GameMacro.US_PLAYING&&r.getTableID()!=e&&t!=r.getChairID())return cc.log("\u5750\u4e0b\u5931\u8d25","\u5750\u4e0b\u5931\u8d25\uff0c\u60a8\u5df2\u5728\u5176\u4ed6\u684c\u5b50\u4e0a\uff01"),!1;c.default.getInstance().tableServerID>0&&(e=c.default.getInstance().tableServerTableID,t=c.default.getInstance().tableChairID);let o=new a.default;return o.initForSend(S.default.MDM_GR_USER,S.default.SUB_GR_USER_SITDOWN,a.default.getStructLen(S.default.CMD_GR_UserSitDown)),o.pushword(e),o.pushword(t),o.pushstring("",l.GameMacro.LEN_PASSWORD),this.sendData(o),!0}sendStandUp(e=0){if(!this.isServe())return this.onSocketError(),!1;if(!this.isConnecting())return!1;let t=I.default.getInstance().getMeUserItem(),r=new a.default;return r.initForSend(S.default.MDM_GR_USER,S.default.SUB_GR_USER_STANDUP,a.default.getStructLen(S.default.CMD_GR_UserStandUp)),r.pushword(t.getTableID()),r.pushword(t.getChairID()),r.pushbyte(e),this.sendData(r),!0}sendReady(){if(!this.isServe())return this.onSocketError(),!1;let e=new a.default;return e.initForSend(S.default.MDM_GF_FRAME,S.default.SUB_GF_USER_READY,0),this.sendData(e),!0}}r.default=N,N.instance=null,cc._RF.pop()},{"../BaseRes/Marquee/Marquee":void 0,"../BaseRes/PopDialog/PopDialog":void 0,"../BaseRes/PopWait/PopWait":void 0,"../ClientBase/BundleManager":void 0,"../ClientBase/Device":void 0,"../ClientBase/UI/CommonUI":void 0,"../ClientCommon/CData":void 0,"../ClientCommon/DataUtils":void 0,"../ClientCommon/EventCenter":void 0,"../ClientCommon/EventCommonCode":void 0,"../ClientCommon/WSEngine":void 0,"./GameFrameController":"GameFrameController","./GameServerManager":"GameServerManager","./GlobalUserItem":"GlobalUserItem","./Header/CMD_Common":"CMD_Common","./Header/CMD_GameServer":"CMD_GameServer","./Header/GameMacro":"GameMacro","./UserItem":"UserItem","./UserManager":"UserManager"}],GameLogic:[function(e,t,r){"use strict";cc._RF.push(t,"f4025qF3H5MDqIoffsvpM3J","GameLogic"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],GameMacro:[function(e,t,r){"use strict";cc._RF.push(t,"ddd64GT9idAp7yhZa1cuGkk","GameMacro"),Object.defineProperty(r,"__esModule",{value:!0}),r.GameMacro=void 0;class o{constructor(){this.staticCP_DETEST=2}}r.GameMacro=o,o.ClientVersion="1.3.3",o.RATIO=100,o.PlatformID=0,o.PlatformName="CEPHEUS.STAR",o.FACE_CX=48,o.FACE_CY=48,o.BIGFACE_CX=96,o.BIGFACE_CY=96,o.JACKPOT_COUNT=4,o.LEN_LESS_ACCOUNTS=6,o.LEN_LESS_NICKNAME=6,o.LEN_LESS_PASSWORD=6,o.LEN_LESS_COMPELLATION=4,o.MAX_CHAIR=200,o.MAX_TABLE=512,o.MAX_COLUMN=32,o.MAX_BATCH=48,o.MAX_ANDROID=2048,o.MAX_PROPERTY=128,o.MAX_WHISPER_USER=16,o.MAX_BUFF=10,o.MAX_ROUND=32,o.MAX_KIND=256,o.MAX_SERVER=1024,o.INVALID_CHAIR=65535,o.INVALID_TABLE=65535,o.INVALID_SERVER=65535,o.INVALID_KIND=65535,o.REVENUE_BENCHMARK=0,o.REVENUE_DENOMINATOR=1e3,o.PERSONAL_ROOM_CHAIR=8,o.MAX_ACCOUNTS=5,o.GAME_STATUS_FREE=0,o.GAME_STATUS_PLAY=100,o.GAME_STATUS_WAIT=200,o.STORAGE_COUNT=5,o.LEN_USER_CHAT=128,o.TIME_USER_CHAT=1,o.PRIME_TYPE=11,o.PRIME_KIND=53,o.PRIME_NODE=101,o.PRIME_PAGE=53,o.PRIME_SERVER=1009,o.PRIME_SERVER_USER=503,o.PRIME_ANDROID_USER=503,o.PRIME_PLATFORM_USER=100003,o.PRIME_ANDROID_PARAMETER=65,o.LEN_MD5=33,o.LEN_USERNOTE=32,o.LEN_ACCOUNTS=32,o.LEN_NICKNAME=32,o.LEN_PASSWORD=33,o.LEN_GROUP_NAME=32,o.LEN_UNDER_WRITE=32,o.LEN_REMARKS=32,o.LEN_DATETIME=20,o.ROOM_ID_LEN=7,o.LEN_QQ=16,o.LEN_IP=32,o.LEN_EMAIL=33,o.LEN_USER_NOTE=256,o.LEN_SEAT_PHONE=33,o.LEN_MOBILE_PHONE=12,o.LEN_PASS_PORT_ID=19,o.LEN_COMPELLATION=16,o.LEN_DWELLING_PLACE=128,o.LEN_USER_UIN=33,o.LEN_WEEK=7,o.LEN_TRANS_REMARK=32,o.LEN_VERIFY_CODE=8,o.LEN_POSTALCODE=8,o.LEN_BIRTHDAY=16,o.LEN_BLOODTYPE=6,o.LEN_CONSTELLATION=6,o.LEN_PHONE_MODE=21,o.LEN_REAL_NAME=32,o.LEN_BANK_NO=32,o.LEN_BANK_NAME=32,o.LEN_BANK_ADDRESS=128,o.LEN_AGENT_ID=20,o.LEN_DESC=128,o.LEN_IMAGE_NAME=32,o.LEN_ALIPAY=32,o.LEN_WECHAT=16,o.LEN_NETWORK_ID=13,o.LEN_MACHINE_ID=33,o.LEN_WHERE_PARM=32,o.LEN_TYPE=32,o.LEN_KIND=32,o.LEN_NODE=32,o.LEN_PAGE=32,o.LEN_SERVER=32,o.LEN_PROCESS=32,o.LEN_ORDER_ID=64,o.MAX_FRIEND_COUNT=1e3,o.MIN_FRIEND_CONTENT=20,o.MAX_FRIEND_TRANSFER=5,o.FRIEND_OPERATE_REMOVE=1,o.FRIEND_OPERATE_MDGROUPID=2,o.LOGON_COMMAND_USERINFO=1,o.LOGON_COMMAND_GROUPINFO=2,o.LOGON_COMMAND_FACE=4,o.LOGON_COMMAND_FRIENDS=8,o.LOGON_COMMAND_REMARKS=16,o.LOGON_TIME_SPACE=1e3,o.GROUP_MAX_COUNT=32,o.GROUP_LEN_NAME=32,o.GROUP_LEN_INFO=1021,o.GROUP_OPERATE_ADD=1,o.GROUP_OPERATE_MODIFY=2,o.GROUP_OPERATE_REMOVE=3,o.FRIEND_INVALID_SERVERID=65535,o.FRIEND_INVALID_TABLEID=65535,o.FRIEND_INVALID_CHAIR=65535,o.FRIEND_US_OFFLINE=0,o.FRIEND_US_ONLINE=1,o.FRIEND_US_LEAVE=2,o.FRIEND_US_BUSY=4,o.FRIEND_US_UNDISTRUB=8,o.FRIEND_US_CORBET=16,o.LEN_FONT_NAME=16,o.LEN_MESSAGE_CONTENT=512,o.MAX_EXPRESSION_COUNT=100,o.CP_NORMAL=0,o.CP_FRIEND=1,o.CP_SHIELD=3,o.GENDER_FEMALE=0,o.GENDER_MANKIND=1,o.GAME_GENRE_GOLD=1,o.GAME_GENRE_SCORE=2,o.GAME_GENRE_MATCH=4,o.GAME_GENRE_EDUCATE=8,o.GAME_GENRE_PERSONAL=16,o.SERVER_GENRE_NORMAL=1,o.SERVER_GENRE_PASSWD=2,o.SCORE_GENRE_NORMAL=256,o.SCORE_GENRE_POSITIVE=512,o.MAX_LOTTERY=16,o.LEN_GAME_DATA=1024,o.LEN_GAME_ITEM=64,o.MAX_DATA_ITEM=16,o.US_NULL=0,o.US_FREE=1,o.US_SIT=2,o.US_READY=3,o.US_LOOKON=4,o.US_PLAYING=5,o.US_OFFLINE=6,o.MUS_NULL=0,o.MUS_OUT=1,o.MUS_SIGNUPED=2,o.MUS_PLAYING=4,o.MS_FREE=0,o.MS_WAITPLAY=1,o.MS_MATCHING=2,o.MS_WAITEND=4,o.MS_MATCHEND=8,o.DEDUCT_AREA_SERVER=0,o.DEDUCT_AREA_WEBSITE=1,o.FEE_TYPE_GOLD=0,o.FEE_TYPE_MEDAL=1,o.MATCH_JOINCD_MEMBER_ORDER=1,o.MATCH_JOINCD_EXPERIENCE=2,o.FILTER_TYPE_SINGLE_TURN=0,o.FILTER_TYPE_TOTAL_RANKING=1,o.SIGNUP_MODE_SIGNUP_FEE=1,o.SIGNUP_MODE_MATCH_USER=2,o.RANKING_MODE_TOTAL_GRADES=0,o.RANKING_MODE_SPECIAL_GRADES=1,o.FILTER_GRADES_MODE_BEST=0,o.FILTER_GRADES_MODE_AVERAGE=1,o.FILTER_GRADES_MODE_AVERAGEEX=2,o.MATCH_MODE_NORMAL=0,o.MATCH_MODE_ROUND=1,o.MATCH_TYPE_LOCKTIME=0,o.MATCH_TYPE_IMMEDIATE=1,o.SRL_LOOKON=1,o.SRL_OFFLINE=2,o.SRL_SAME_IP=4,o.SRL_ROOM_CHAT=256,o.SRL_GAME_CHAT=512,o.SRL_WISPER_CHAT=1024,o.SRL_HIDE_USER_INFO=2048,o.DEVICE_TYPE_PC=0,o.DEVICE_TYPE_ANDROID=16,o.DEVICE_TYPE_ANDROID_COCOS2D=17,o.DEVICE_TYPE_ANDROID_U3D=18,o.DEVICE_TYPE_ITOUCH=32,o.DEVICE_TYPE_IPHONE=48,o.DEVICE_TYPE_IPHONE_COCOS2D=49,o.DEVICE_TYPE_IPHONE_U3D=50,o.DEVICE_TYPE_IPAD=64,o.DEVICE_TYPE_IPAD_COCOS2D=65,o.DEVICE_TYPE_IPAD_U3D=66,o.VIEW_MODE_ALL=1,o.VIEW_MODE_PART=2,o.VIEW_INFO_LEVEL_1=16,o.VIEW_INFO_LEVEL_2=32,o.VIEW_INFO_LEVEL_3=64,o.VIEW_INFO_LEVEL_4=128,o.RECVICE_GAME_CHAT=256,o.RECVICE_ROOM_CHAT=512,o.RECVICE_ROOM_WHISPER=1024,o.BEHAVIOR_LOGON_NORMAL=0,o.BEHAVIOR_LOGON_IMMEDIATELY=4096,o.SCORE_REASON_WRITE=0,o.SCORE_REASON_INSURE=1,o.SCORE_REASON_MATCH_FEE=3,o.SCORE_REASON_MATCH_QUIT=4,o.LOGON_FAIL_SERVER_INVALIDATION=200,o.ANDROID_SIMULATE=1,o.ANDROID_PASSIVITY=2,o.ANDROID_INITIATIVE=4,o.ANDROID_THEJOINT=8,o.MATCH_FEE_TYPE_GOLD=0,o.MATCH_FEE_TYPE_MEDAL=1,o.CONSUME_TYPE_GOLD=1,o.CONSUME_TYPE_USEER_MADEL=2,o.CONSUME_TYPE_CASH=3,o.CONSUME_TYPE_LOVELINESS=4,o.IDI_HOT_KEY_BOSS=256,o.IDI_HOT_KEY_WHISPER=512,o.FAILURE_TYPE_ADMIN_KICK_OUT=1,o.FAILURE_TYPE_SYSTEM_MAINTENANCE=2,o.FAILURE_TYPE_VIP_LIMIT_MIN=3,o.FAILURE_TYPE_VIP_LIMIT_MAX=4,o.FAILURE_TYPE_ROOM_FULL=5,o.FAILURE_TYPE_ROOM_PASSWORD_INCORRECT=6,o.FAILURE_TYPE_ROOM_COIN_NOTENOUGH=7,o.RULE_LEN=100,o.SPECIAL_INFO_LEN=1e3,o.MAX_CREATE_COUNT=32,o.MAXT_VOICE_LENGTH=15e3,o.INVALID_ITEM=65535,o.INVALID_USERID=0,o.INVALID_BYTE=255,o.INVALID_WORD=65535,o.INVALID_DWORD=4294967295,o.LEN_GAME_SERVER_ITEM=193,o.LEN_TASK_PARAMETER=813,o.LEN_TASK_STATUS=5,o.TASK_MAX_COUNT=128,o.LEN_COUNTRY=31,o.LEN_PROVINCE=31,o.LEN_CITY=31,o.LEN_ICONURL=257,o.LEN_REGINFOMARK=33,o.LEN_CLIENTVERSION=21,o.LEN_WXINFO_DESC=256,o.LEN_TASK_NAME=64,o.LEN_ROULETTE=128,o.LEN_BEGINNER=128,o.SOCKET_TCP_BUFFER=16384,o.SMT_CHAT=1,o.SMT_EJECT=2,o.SMT_GLOBAL=4,o.SMT_PROMPT=8,o.SMT_TABLE_ROLL=16,o.SMT_CLOSE_ROOM=256,o.SMT_CLOSE_GAME=512,o.SMT_CLOSE_LINK=1024,o.SMT_CLOSE_INSURE=2048,o.SMT_CLOSE_MATCH=4096,o.TASK_FORWARD_PLAY=0,o.TASK_TYPE_WIN_INNINGS=1,o.TASK_TYPE_SUM_INNINGS=2,o.TASK_TYPE_FIRST_WIN=4,o.TASK_TYPE_CONTINUE_WIN=8,o.TASK_MODULE_GROW=0,o.TASK_MODULE_DAY=1,o.TASK_MODULE_WEEK=2,o.TASK_MODULE_MONTH=4,o.TASK_STATUS_UNFINISH=0,o.TASK_STATUS_SUCCESS=1,o.TASK_STATUS_FAILED=2,o.TASK_STATUS_REWARD=3,o.TASK_STATUS_WAIT=4,cc._RF.pop()},{}],GameSceneBase:[function(e,t,r){"use strict";cc._RF.push(t,"09c1ePFAEVDpKsZn5O5Rd0Q","GameSceneBase"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],GameServerManager:[function(e,t,r){"use strict";cc._RF.push(t,"fda8dXzDOpFgKUPFBQHnePd","GameServerManager"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("../ClientCommon/EventCenter"),a=e("../ClientCommon/EventCommonCode"),s=e("./GlobalUserItem"),n=e("./Header/GameMacro");class _{constructor(){this.RoomList=[],this.GoldRoomList={},this.jackPotInfo=null,this.KindID=0,this.RoomCellScoreList=[],this.tableServerID=0,this.tableServerTableID=0,this.tableChairID=0,this.marqueeNotice={szNotice:"",cbAgentNotice:0}}static getInstance(){return null==this.instance&&(this.instance=new _),this.instance}static release(){this.instance.clearAll(),this.instance=null}clearAll(){this.RoomList=[],this.GoldRoomList={},this.RoomCellScoreList=[]}reseiveJackPotInfo(e){this.jackPotInfo=e,o.EventCenter.EmitEvent(a.EventCommonCode.receiveJackpot)}clearByKindID(e){for(let t in this.RoomList)this.RoomList[t]&&this.RoomList[t].wKindID==e&&(this.RoomList[t]=null);this.GoldRoomList[e]={}}insert(e){this.RoomList[e.wServerID]=e,e.wServerType==n.GameMacro.GAME_GENRE_GOLD&&(null==this.GoldRoomList[e.wKindID]&&(this.GoldRoomList[e.wKindID]={}),null==this.GoldRoomList[e.wKindID][e.lCellScore]&&(this.GoldRoomList[e.wKindID][e.lCellScore]=[]),this.GoldRoomList[e.wKindID][e.lCellScore].push(e),null==this.RoomCellScoreList[e.wKindID]&&(this.RoomCellScoreList[e.wKindID]=[]),this.RoomCellScoreList[e.wKindID].push(e.lCellScore))}getGameServer(e){return this.RoomList[e]}getGoldServersByKindID(e){return this.GoldRoomList[e]}getGoldServers(e,t){return null==this.GoldRoomList[e]||null==this.GoldRoomList[e][t]?[]:this.GoldRoomList[e][t]}getRandomGoldServer(e,t){let r=this.getGoldServers(e,t);if(0==r.length)return null;let o=Math.floor(Math.random()*r.length),a=s.default.UserInfo.dwUserID;return console.log("=randomPos,servers.length:",e,a,o,r.length),r[o]}getGoldServerOnLine(e,t){if(null==this.GoldRoomList[e]||null==this.GoldRoomList[e][t])return 0;let r=0;for(let o of this.GoldRoomList[e][t])o&&(r+=o.dwOnLineCount+o.dwAndroidCount);return r}reseiveMarqueeMsg(e){this.marqueeNotice=e,o.EventCenter.EmitEvent(a.EventCommonCode.marqueeMsg)}getGoldRoomCellScoreList(e){return cc.log(this.RoomCellScoreList[e]),this.RoomCellScoreList[e]&&this.RoomCellScoreList[e].length>0?this.RoomCellScoreList[e].sort((e,t)=>e-t):this.RoomCellScoreList[e]}}r.default=_,_.instance=null,cc._RF.pop()},{"../ClientCommon/EventCenter":void 0,"../ClientCommon/EventCommonCode":void 0,"./GlobalUserItem":"GlobalUserItem","./Header/GameMacro":"GameMacro"}],GlobalUserItem:[function(e,t,r){"use strict";cc._RF.push(t,"58e44sikc1EW4+FfdVt2LYF","GlobalUserItem"),Object.defineProperty(r,"__esModule",{value:!0});class o{static get getUserID(){return this.UserInfo.dwUserID}static get gameId(){return this.UserInfo.dwGameID}static get account(){return this.UserInfo.szAccounts}}r.default=o,o.UserInfo=null,o.IsReconnect=!1,cc._RF.pop()},{}],GoldGame:[function(e,t,r){"use strict";cc._RF.push(t,"6caccf4za1PRY6n2ymf177c","GoldGame");var o=this&&this.__decorate||function(e,t,r,o){var a,s=arguments.length,n=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(s<3?a(n):s>3?a(t,r,n):a(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n};Object.defineProperty(r,"__esModule",{value:!0});const a=e("../../ClientBase/UI/CommonUI"),s=e("../../BaseRes/PopTips/PopTips"),n=e("../GameFrame"),_=e("../GameServerManager"),d=e("../LogonFrame"),{ccclass:c,property:i}=cc._decorator;let S=class extends cc.Component{onLoad(){}start(){}enterGameByCellScore(e){if(cc.error("=========================enterGameByCellScore:0"),_.default.getInstance().tableServerID>0){cc.error("=========================enterGameByCellScore:0.5");let e=_.default.getInstance().tableServerID;return d.default.getInstance().closeSocket(!0),n.default.getInstance().connectServer(e),!0}if(41==_.default.getInstance().KindID){let t=_.default.getInstance().getRandomGoldServer(_.default.getInstance().KindID,e);if(cc.error("=========================enterGameByCellScore:1",t.wServerID),t)return d.default.getInstance().closeSocket(!0),n.default.getInstance().connectServer(t.wServerID),!0}else{let e=_.default.getInstance().getGoldRoomCellScoreList(_.default.getInstance().KindID),t=_.default.getInstance().getRandomGoldServer(_.default.getInstance().KindID,e[0]);if(cc.error("=========================enterGameByCellScore:1",t.wServerID),t)return d.default.getInstance().closeSocket(!0),n.default.getInstance().connectServer(t.wServerID),!0}return cc.error("=========================enterGameByCellScore:2"),s.default.showMessage(a.default.RootNode,"A suitable server was not found"),cc.error("KindID",_.default.getInstance().KindID,"lCellScore",e,"Servers",_.default.getInstance().getGoldServers(_.default.getInstance().KindID,e)),!1}enterReconnectGameByCellScore(e,t,r){if(cc.error("=========================enterGameByCellScore:0",t,r),_.default.getInstance().tableServerID>0)return cc.error("=========================enterGameByCellScore:0.5"),_.default.getInstance().tableServerID,d.default.getInstance().closeSocket(!0),n.default.getInstance().connectServer(r),!0;{let e=_.default.getInstance().getGoldRoomCellScoreList(t);if(cc.error("=========================enterGameByCellScore:1",e[0]),_.default.getInstance().getRandomGoldServer(t,e[0]))return d.default.getInstance().closeSocket(!0),n.default.getInstance().connectServer(r),!0}return cc.error("=========================enterGameByCellScore:2"),s.default.showMessage(a.default.RootNode,"A suitable server was not found"),cc.error("KindID",t,"lCellScore",e,"Servers",_.default.getInstance().getGoldServers(r,e)),!1}};S=o([c],S),r.default=S,cc._RF.pop()},{"../../BaseRes/PopTips/PopTips":void 0,"../../ClientBase/UI/CommonUI":void 0,"../GameFrame":"GameFrame","../GameServerManager":"GameServerManager","../LogonFrame":"LogonFrame"}],LogonFrame:[function(e,t,r){"use strict";cc._RF.push(t,"00510NXF8hP0bVf3bLlh0DJ","LogonFrame"),Object.defineProperty(r,"__esModule",{value:!0}),r.LogonEvent=void 0;const o=e("../ClientBase/Device"),a=e("../ClientBase/UI/CommonUI"),s=e("../ClientCommon/CData"),n=e("../ClientCommon/DataUtils"),_=e("../ClientCommon/EventCenter"),d=e("../ClientCommon/WSEngine"),c=e("./GameServerManager"),i=e("./GlobalUserItem"),S=e("./Header/CMD_LogonServer"),E=e("./Header/CMD_Common"),l=e("./Header/GameMacro"),u=e("../BaseRes/PopWait/PopWait"),I=e("./UserManager"),M=e("../ClientCommon/EventCommonCode"),R=e("../BaseRes/PopMessage/PopMessage"),D=e("../ClientBase/BundleManager"),C=e("../BaseRes/PopLoading"),U=e("../ClientBase/GameUtils");var G,N;(function(e){e[e.OP_Visitor=0]="OP_Visitor",e[e.OP_QueryServer=1]="OP_QueryServer",e[e.OP_AccountLogin=2]="OP_AccountLogin",e[e.OP_Register=3]="OP_Register"})(G||(G={})),function(e){e[e.LogonSuccess=0]="LogonSuccess",e[e.LogonFailure=1]="LogonFailure",e[e.LogonFinish=2]="LogonFinish",e[e.LogonSetpasswordSuccess=3]="LogonSetpasswordSuccess",e[e.logonBindBankcardSuccess=4]="logonBindBankcardSuccess",e[e.exchangepoints=5]="exchangepoints",e[e.refreshInfo=6]="refreshInfo",e[e.signMsg=7]="signMsg",e[e.signReward=8]="signReward",e[e.WednesdayReward=9]="WednesdayReward",e[e.weelMsg=10]="weelMsg",e[e.weelReward=11]="weelReward",e[e.QueryTableInfo=12]="QueryTableInfo",e[e.addTableResult=13]="addTableResult",e[e.deleteTableResult=14]="deleteTableResult",e[e.tableSit=15]="tableSit",e[e.tableUp=16]="tableUp",e[e.ModifyPassword=17]="ModifyPassword",e[e.LogonPogKick=18]="LogonPogKick",e[e.DynamicPassResult=19]="DynamicPassResult",e[e.jackpotStatus=20]="jackpotStatus",e[e.gameRecord=21]="gameRecord",e[e.maxJackPot=22]="maxJackPot",e[e.RandomAnnouncement=23]="RandomAnnouncement",e[e.accountStatement=24]="accountStatement",e[e.RechargeWheelReward=25]="RechargeWheelReward"}(N=r.LogonEvent||(r.LogonEvent={}));class m extends d.default{constructor(){super(),this.handlerPriority=99,this.handlerName="LogonFrame",this.mLoginSuccess=!1,this.isVisitorLogon=!1,this.mlogonfail_szDescribeStr="",this.op_code=[],this.op_data=[],this.curop=0,this._tempAllRoom=[],this.needholdnet=!1,this.opCount=0,this.IsReconnect=!1,this.isBackPlaza=!1,this.isFailPlaza=!1}static getInstance(){return null==m.instance&&(m.instance=new m),m.instance}static release(){m.instance=null}handleEvent(e,t){}netWorkDelay(){cc.error("\u767b\u5f55\u670d\u52a1\u5668\u7f51\u7edc\u5ef6\u8fdf\u5904\u7406"),_.EventCenter.EmitEvent(M.EventCommonCode.networkDelay)}closeSocket(e=!1){console.log("\u65ad\u5f00\u767b\u5f55\u670d\u8fde\u63a5:",e),e?this.close():this.needholdnet||this.opCount<=0&&this.close()}connectLogonServer(e){if(cc.error("connectLogonServer===",e),!this.isServe()){let t=I.default.getInstance().userAccount,r=I.default.getInstance().userPassword;r&&t&&this.logonByAccount(t,r,e)}}checknet(){this.isServe()?this.processOP():this.connectSocket()}pushRequest(e,t){this.op_data.push(t),this.op_code.push(e),this.opCount++,this.checknet()}processOP(){if(0==this.op_code.length)return console.log("\u5173\u95ed\u94fe\u63a51"),void this.closeSocket();this.curop=this.op_code.shift();let e=this.op_data.shift();switch(this.curop){case G.OP_Visitor:this.sendLogonByVisitor(e);break;case G.OP_AccountLogin:this.sendLoginByAccount(e);break;case G.OP_QueryServer:this.sendQueryGameServer(e);break;case G.OP_Register:this.sendregisterAccount(e);break;default:this.processOP()}}onSocketConnected(){super.onSocketConnected(),this.processOP()}onSocketError(){console.log("LogonFrame onSocketError"),super.onSocketError(),this.mLoginSuccess=!1,console.log("mLoginSuccess false 1"),C.default.HideLoading(a.default.RootNode),u.default.HidePopWait(a.default.RootNode)}onSocketClose(){console.log("LogonFrame onSocketClose3",c.default.getInstance().KindID),super.onSocketClose(),this.mLoginSuccess=!1,console.log("mLoginSuccess false 2"),0==cc.director.getScene().name.indexOf("Plaza")&&"Plaza"==a.default.RootNode.name&&R.default.ShowMessage(R.messageType.newWork,a.default.RootNode,()=>{c.default.getInstance().KindID=-1,_.EventCenter.EmitEvent(N[N.LogonPogKick])})}onSocketData(e,t,r){switch(e){case S.default.MDM_MB_LOGON:case S.default.MDM_GP_LOGON:this.onLogonEvent(t,r);break;case S.default.MDM_MB_SERVER_LIST:this.onRoomListEvent(t,r);break;case S.default.MDM_GP_USER_SERVICE:this.onUserServiceEvent(t,r)}}onLogonEvent(e,t){if(new Date,e==S.default.SUB_GP_LOGON_FAILURE||e==S.default.SUB_MB_LOGON_FAILURE){let e=n.default.readNetData(S.default.CMD_MB_LogonFailure,t);cc.error("\u767b\u5f55\u5931\u8d25====",e.szDescribeString),_.EventCenter.EmitEvent(N[N.LogonFailure],e.szDescribeString),this.mLoginSuccess=!1,console.log("mLoginSuccess false 3"),this.mlogonfail_szDescribeStr=e.szDescribeString,this.opCount--,this.close()}else e==S.default.SUB_MB_LOGON_SUCCESS&&(cc.error("====table==",U.GameUtils.m_eTableMode),"HotFrog"==D.default.getInstance().PlatformName?i.default.UserInfo=n.default.readNetData(S.default.CMD_MB_LogonSuccess1,t):U.GameUtils.m_eTableMode==U.eTableMode.eSM_NoTable?i.default.UserInfo=n.default.readNetData(S.default.CMD_MB_LogonSuccess,t):i.default.UserInfo=n.default.readNetData(S.default.CMD_MB_LogonSuccess_Table,t),cc.error("-----\x3e>\u7528\u6237\u767b\u5f55\u6210\u529f",i.default.UserInfo),D.default.getInstance().IsNeedSpecial()&&m.getInstance().isBackPlaza||c.default.getInstance().clearAll(),this._tempAllRoom=[],_.EventCenter.EmitEvent(N[N.LogonSuccess]),this.mLoginSuccess=!0,console.log("mLoginSuccess true 4"))}onRoomListEvent(e,t){if(D.default.getInstance().IsNeedSpecial()&&this.isBackPlaza)e==S.default.SUB_MB_LIST_FINISH&&_.EventCenter.EmitEvent(N[N.LogonFinish]);else if(e==S.default.SUB_MB_LIST_FINISH){for(let e of this._tempAllRoom)c.default.getInstance().insert(e);this._tempAllRoom=[],this.opCount--,_.EventCenter.EmitEvent(N[N.LogonFinish]),this.sendQueryMarquee()}else if(e==S.default.SUB_MB_LIST_SERVER)this.onSubRoomListInfo(t);else if(e==S.default.SUB_MB_LIST_MATCH);else if(e==S.default.SUB_MB_AGENT_KIND);else if(e==S.default.SUB_MB_LIST_SERVER_START);else if(e==S.default.SUB_MB_LIST_SERVER_END){for(let e of this._tempAllRoom)c.default.getInstance().insert(e);this._tempAllRoom=[],this.opCount--,C.default.HideLoading(a.default.RootNode)}}onSubRoomListInfo(e){let t=e.getDataLen()/s.default.getStructLen(E.default.tagGameServer);for(let r=0;r<t;r++){let t=n.default.readNetData(E.default.tagGameServer,e);this._tempAllRoom.push(t)}}onUserServiceEvent(e,t){switch(e){case S.default.SUB_GP_OPERATE_SUCCESS:this.onOperateSuccess(t);break;case S.default.SUB_GP_OPERATE_FAILURE:this.onOperateFailure(t);break;case S.default.SUB_GP_USER_INDIVIDUAL:break;case S.default.SUB_MB_JACKPOTCHANGE:this.onJackPotInfo(t);break;case S.default.SUB_MB_AGENT_NOTICE:this.OnMarqueeMsg(t);break;case S.default.SUB_MB_POG_KICK:cc.error("\u88ab\u670d\u52a1\u5668\u8e22\u6389"),this.OnPogKick();break;case S.default.SUB_MB_QUERY_SIGN_REWARD:this.onQuerySign(t);break;case S.default.SUB_MB_SIGN_REWARD:this.onSignReward(t);break;case S.default.SUB_MB_WEDNESDAY_REWARD:this.onWednesdayReward(t);break;case S.default.SUB_MB_QUERY_WHEEL_REWARD:this.onQueryWeel(t);break;case S.default.SUB_MB_WHEEL_REWARD:this.onWeelReward(t);break;case S.default.SUB_MB_USERHALLSCORE:this.refreshUserHallScore(t);break;case S.default.SUB_MB_QUERY_TABLE_INFO:this.onQueryTableInfo(t);break;case S.default.SUB_MB_ADD_TABLE:this.onAddTableResult(t);break;case S.default.SUB_MB_DEL_TABLE:this.onDeleteResult(t);break;case S.default.SUB_MB_TABLE_SIT:this.onTableSitResult(t);break;case S.default.SUB_MB_DEL_TABLE_SIT:this.onTableUpResult(t);break;case S.default.SUB_MB_MODIFY_PASSWORD:this.onModifyPassword(t);break;case S.default.SUB_MB_QUERY_DYNAMIC_PASS:this.onDynamicPassResult(t);break;case S.default.SUB_MB_ExchangeScore:this.onExchangeScore(t);break;case S.default.SUB_MB_JACKPOT_STATUS:this.onJackpotStatus(t);break;case S.default.SUB_MB_QUERY_GAME_RECORD:this.onQueryGameRecordResult(t);break;case S.default.SUB_MB_MAX_JACKPOT:this.onMAX_JACKPOT(t);break;case S.default.SUB_MB_Random_NOTICE:this.onRandomNOTICE(t);break;case S.default.SUB_MB_QUERY_ACCOUNT_STATEMENT:this.onQueryAccountStatement(t);break;case S.default.SUB_MB_RECHARGE_WHEEL_REWARD:this.onRechargeWheelReward(t);break;case S.default.SUB_MB_QUERY_RECHARGE_WHEEL_REWARD:this.onQueryRechargeWheelReward(t)}}OnPogKick(){this.closeSocket(!0),console.log("\u88ab\u670d\u52a1\u5668\u8e22\u6389"),R.default.ShowMessage(R.messageType.newWork,a.default.RootNode,()=>{c.default.getInstance().KindID=-1,_.EventCenter.EmitEvent(N[N.LogonPogKick])})}refreshUserHallScore(e){let t=n.default.readNetData(S.default.CMD_MB_UserHallScore,e);t.dwUserID==i.default.UserInfo.dwUserID&&(i.default.UserInfo.lUserScore+=t.lUserScore,_.EventCenter.EmitEvent(N[N.refreshInfo],t.lUserScore))}onQuerySign(e){let t=n.default.readNetData(S.default.CMD_MB_QuerySignRewardResult,e);cc.log("\u67e5\u8be2\u7b7e\u5230\u4fe1\u606f\u8fd4\u56de",t),_.EventCenter.EmitEvent(N[N.signMsg],t)}onSignReward(e){let t=n.default.readNetData(S.default.CMD_MB_SignRewardResult,e);cc.log("\u7b7e\u5230\u8fd4\u56de",t),_.EventCenter.EmitEvent(N[N.signReward],t)}onWednesdayReward(e){let t=n.default.readNetData(S.default.CMD_MB_WednesdayRewardResult,e);cc.log("\u5468\u4e09\u5956\u52b1\u8fd4\u56de",t),_.EventCenter.EmitEvent(N[N.WednesdayReward],t)}onQueryWeel(e){let t=n.default.readNetData(S.default.CMD_MB_QueryWheelRewardResult,e);cc.log("\u8f6e\u76d8\u4fe1\u606f\u8fd4\u56de",t),_.EventCenter.EmitEvent(N[N.weelMsg],t)}onWeelReward(e){let t=n.default.readNetData(S.default.CMD_MB_WheelRewardResult,e);cc.log("\u8f6e\u76d8\u4fe1\u606f\u8fd4\u56de2",t),_.EventCenter.EmitEvent(N[N.weelReward],t)}onQueryTableInfo(e){console.log("\u67e5\u8be2\u684c\u5b50\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_QueryTableInfoResult,e);cc.log(t),0==t.cbResult&&_.EventCenter.EmitEvent(N[N.QueryTableInfo],t)}onAddTableResult(e){console.log("\u6dfb\u52a0\u684c\u5b50\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_AddTableResult,e);cc.log(t),_.EventCenter.EmitEvent(N[N.addTableResult],t)}onDeleteResult(e){console.log("\u5220\u9664\u684c\u5b50\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_DelTableResult,e);cc.log(t),_.EventCenter.EmitEvent(N[N.deleteTableResult],t)}onTableSitResult(e){console.log("\u6709\u7528\u6237\u5750\u4e0b");let t=n.default.readNetData(S.default.CMD_CS_C_LBTableSit,e);cc.log(t),_.EventCenter.EmitEvent(N[N.tableSit],t)}onTableUpResult(e){console.log("\u6709\u7528\u6237\u79bb\u5f00");let t=n.default.readNetData(S.default.CMD_CS_C_LBTableSit,e);cc.log(t),_.EventCenter.EmitEvent(N[N.tableUp],t)}onModifyPassword(e){console.log("\u4fee\u6539\u5bc6\u7801\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_ModifyPasswordResult,e);cc.log(t),_.EventCenter.EmitEvent(N[N.ModifyPassword],t)}onExchangeScore(e){console.log("\u8f6c\u6362\u5206\u6570\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_ExchangeScoreResult,e);cc.log(t),_.EventCenter.EmitEvent(N[N.exchangepoints],t)}onJackpotStatus(e){console.log("\u5f69\u91d1\u72b6\u6001"),_.EventCenter.EmitEvent(N[N.jackpotStatus],0)}onQueryGameRecordResult(e){console.log("\u67e5\u65b0\u8bb0\u5f55\u8fd4\u56de");let t=n.default.readNetData(S.default.CMD_MB_QueryGameRecordResult,e);cc.log(t),_.EventCenter.EmitEvent(N[N.gameRecord],t)}onJackPotInfo(e){let t=n.default.readNetData(S.default.CMD_JackPotConfig,e);c.default.getInstance().reseiveJackPotInfo(t)}OnMarqueeMsg(e){let t=n.default.readNetData(S.default.CMD_MB_NOTICE,e);c.default.getInstance().reseiveMarqueeMsg(t)}onMAX_JACKPOT(e){let t=n.default.readNetData(S.default.strMaxJackPot,e);_.EventCenter.EmitEvent(N[N.maxJackPot],t)}onRandomNOTICE(e){let t=n.default.readNetData(S.default.CMD_CS_S_RandomAnnouncement,e);_.EventCenter.EmitEvent(N[N.RandomAnnouncement],t)}onQueryAccountStatement(e){let t=n.default.readNetData(S.default.CMD_MB_QueryAccountStatementResult,e);console.log("\u8d26\u6237\u6d41\u6c341"),_.EventCenter.EmitEvent(N[N.accountStatement],t)}onRechargeWheelReward(e){let t=n.default.readNetData(S.default.CMD_MB_RechargeWheelRewardResult,e);console.log("\u5145\u503c\u8f6c\u76d8\u5956\u52b1"),_.EventCenter.EmitEvent(N[N.RechargeWheelReward],t)}onQueryRechargeWheelReward(e){let t=n.default.readNetData(S.default.CMD_MB_QueryWheelRewardResult,e);console.log("\u67e5\u8be2\u5145\u503c\u8f6c\u76d8\u6b21\u6570\u8fd4\u56de"),_.EventCenter.EmitEvent(N[N.weelMsg],t)}onOperateSuccess(e){n.default.readNetData(S.default.CMD_GP_OperateSuccess,e),this.opCount--,console.log("\u5173\u95ed\u94fe\u63a53"),this.closeSocket()}onOperateFailure(e){n.default.readNetData(S.default.CMD_GP_OperateFailure,e),this.opCount--,console.log("\u5173\u95ed\u94fe\u63a54"),this.closeSocket()}logonByVisitor(e=!1){cc.log("\u6e38\u5ba2\u767b\u5f55"),this.clearSocketData(),I.default.getInstance().userAccount=null,I.default.getInstance().userPassword=null;let t=cc.sys.localStorage.getItem("VisitorLogonID");e&&(t=""),t&&0!=t.length||(t=String((new Date).getTime())+Math.floor(1e4*Math.random()),cc.sys.localStorage.setItem("VisitorLogonID",t)),this.op_data.push({szMachineID:t,szMobilePhone:""}),this.op_code.push(G.OP_Visitor),this.opCount++,this.checknet()}sendLogonByVisitor(e){let t=new s.default;t.initForSend(S.default.MDM_MB_LOGON,S.default.SUB_MB_LOGON_VISITOR,s.default.getStructLen(S.default.CMD_MB_LogonVisitor)),t.pushword(l.GameMacro.INVALID_WORD),t.pushdword(o.default.PLAZA_VERSION),t.pushstring("",l.GameMacro.LEN_ACCOUNTS),t.pushbyte(o.default.DEVICE_TYPE),t.pushstring(e.szMachineID,l.GameMacro.LEN_MACHINE_ID),t.pushstring(e.szMobilePhone,l.GameMacro.LEN_MOBILE_PHONE),this.sendData(t),this.isVisitorLogon=!0}logonByAccount(e,t,r){this.isBackPlaza=!1,1==r&&(this.isBackPlaza=!0),this.clearSocketData();let o=cc.sys.localStorage.getItem("VisitorMachineID");o&&0!=o.length||(o=String((new Date).getTime())+Math.floor(1e4*Math.random()),cc.sys.localStorage.setItem("VisitorMachineID",o)),this.op_data.push({szMachineID:o,szMobilePhone:"",szPassword:t,szAccounts:e,bGameBack:r}),this.op_code.push(G.OP_AccountLogin),this.opCount++,this.checknet()}sendLoginByAccount(e){let t=new s.default;t.initForSend(S.default.MDM_MB_LOGON,S.default.SUB_MB_LOGON_ACCOUNTS,s.default.getStructLen(S.default.CMD_MB_LogonAccounts)),t.pushword(l.GameMacro.INVALID_WORD),t.pushdword(o.default.PLAZA_VERSION),t.pushbyte(o.default.DEVICE_TYPE),t.pushstring(e.szPassword,l.GameMacro.LEN_MD5),t.pushstring(e.szAccounts,l.GameMacro.LEN_ACCOUNTS),t.pushstring(e.szMachineID,l.GameMacro.LEN_MACHINE_ID),t.pushstring(e.szMobilePhone,l.GameMacro.LEN_MOBILE_PHONE),t.pushbyte(e.bGameBack),this.sendData(t),this.isVisitorLogon=!1}registerAccount(e,t,r,o,a="",s=!1){this.clearSocketData(),cc.error("\u5f00\u59cb\u6ce8\u518c\u8d26\u53f7");let n=cc.sys.localStorage.getItem("RegisterID");n&&0!=n.length||(n=String((new Date).getTime())+Math.floor(1e4*Math.random()),cc.sys.localStorage.setItem("RegisterID",n)),this.op_data.push({szLogonPass:t,szAccounts:e,szNickName:a,szCode:r}),this.op_code.push(G.OP_Register),this.opCount++,this.checknet()}sendregisterAccount(e){let t=new s.default;t.initForSend(S.default.MDM_MB_LOGON,S.default.SUB_MB_REGISTER_ACCOUNTS,s.default.getStructLen(S.default.CMD_MB_RegisterAccounts)),t.pushstring(e.szAccounts,l.GameMacro.LEN_ACCOUNTS),t.pushstring(e.szLogonPass,l.GameMacro.LEN_MD5),t.pushstring(e.szNickName,l.GameMacro.LEN_NICKNAME),t.pushstring(e.szCode,11),this.sendData(t),cc.error("---\x3e>\u53d1\u9001\u6ce8\u518c\u8d26\u53f7\u8bf7\u6c42",e),this.isVisitorLogon=!1}queryGameServer(e){this.op_data.push({wKindID:e}),this.op_code.push(G.OP_QueryServer),this.opCount++,c.default.getInstance().clearByKindID(e),this.checknet()}sendSetpassword(e){}sendBindbankcard(e,t,r){}sendExchangepoints(e){let t=new s.default;t.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_EXCHANGE_SCORE,s.default.getStructLen(S.default.CMD_GP_ExchangeScore)),t.pushdword(i.default.UserInfo.dwUserID),t.pushdouble(e),this.sendData(t),cc.error("\u53d1\u9001\u5151\u6362\u5206\u6570\uff1a",e)}sendQueryGameServer(e){let t=new s.default;t.initForSend(S.default.MDM_MB_SERVER_LIST,S.default.SUB_QUEREY_SERVER,s.default.getStructLen(S.default.CMD_MB_QueryServer)),t.pushword(e.wKindID),this.sendData(t)}sendQueryMarquee(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_AGENT_NOTICE,s.default.getStructLen(S.default.CMD_GP_QueryAgentNotice)),e.pushdword(i.default.UserInfo.dwAgentID),this.sendData(e),cc.log("====================sendQueryMarquee")}sendQuerySignInfo(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_SIGN_REWARD,s.default.getStructLen(S.default.CMD_GP_QueryActivityReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.error("====================sendQuerySignInfo")}sendSignInfo(e){let t=new s.default;t.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_SIGN_REWARD,s.default.getStructLen(S.default.CMD_GP_SignReward)),t.pushdword(i.default.UserInfo.dwUserID),t.pushbyte(e),this.sendData(t),cc.log("====================sendSignInfo",e)}sendWednesdayInfo(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_WEDNESDAY_REWARD,s.default.getStructLen(S.default.CMD_GP_WednesdayReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.log("====================sendWednesdayInfo")}sendTurntableInfo(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_WHEEL_REWARD,s.default.getStructLen(S.default.CMD_GP_QueryActivityReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.log("====================sendTurntableInfo")}sendDynamicPass(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_DYNAMIC_PASS,s.default.getStructLen(S.default.CMD_CMD_GP_QueryDynamicPass)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e)}sendWeelReward(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_WHEEL_REWARD,s.default.getStructLen(S.default.CMD_GP_WheelReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.log("====================sendWeelReward")}sendQueryTableInfo(e,t,r,o){let a=new s.default;a.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_TABLE_INFO,s.default.getStructLen(S.default.CMD_GP_QueryTableInfo)),a.pushdword(i.default.UserInfo.dwUserID),a.pushword(e),a.pushword(t),a.pushword(r),a.pushword(o),this.sendData(a),console.log("====================sendQueryTableInfo",e,r,o)}sendAddTable(e,t,r){let o=new s.default;o.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_ADD_TABLE,s.default.getStructLen(S.default.CMD_GP_AddTable)),o.pushdword(i.default.UserInfo.dwUserID),o.pushword(e),o.pushword(t),o.pushbyte(r),this.sendData(o),cc.log("====================sendAddTable",e,r)}sendDeleteTable(e,t,r){let o=new s.default;o.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_DEL_TABLE,s.default.getStructLen(S.default.CMD_GP_DelTable)),o.pushdword(i.default.UserInfo.dwUserID),o.pushword(e),o.pushword(t),o.pushbyte(r),this.sendData(o),cc.log("====================sendDeleteTable",e,r)}sendModifyPassword(e,t){let r=new s.default;r.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_MODIFY_INSURE_PASS,s.default.getStructLen(S.default.CMD_GP_ModifyLogonPass)),r.pushdword(i.default.UserInfo.dwUserID),r.pushstring(e,l.GameMacro.LEN_PASSWORD),r.pushstring(t,l.GameMacro.LEN_PASSWORD),this.sendData(r),cc.log("====================send\u4fee\u6539\u5bc6\u7801",e,t)}sendQueryGameRecord(e,t,r){let o=new s.default;o.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_GAME_RECORD,s.default.getStructLen(S.default.CMD_GP_QueryGameRecord)),o.pushdword(i.default.UserInfo.dwUserID),o.pushbyte(e),o.pushdword(t),o.pushdword(r),this.sendData(o),cc.error("====================send\u67e5\u65b0\u6e38\u620f\u8bb0\u5f55",e,t,r)}sendQueryAccountStatement(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_ACCOUNT_STATEMENT,s.default.getStructLen(S.default.DBR_GR_QueryAccountStatement)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.error("====================send\u67e5\u8be2\u8d26\u6237\u6d41\u6c34")}sendRechargeWeelReward(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_RECHARGE_WHEEL_REWARD,s.default.getStructLen(S.default.CMD_GP_RechargeWheelReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.error("====================send\u5145\u503c\u8f6c\u76d8\u5956\u52b1")}sendQueryRechargeWheelReward(){let e=new s.default;e.initForSend(S.default.MDM_GP_USER_SERVICE,S.default.SUB_GP_QUERY_RECHARGE_WHEEL_REWARD,s.default.getStructLen(S.default.CMD_GP_QueryActivityReward)),e.pushdword(i.default.UserInfo.dwUserID),this.sendData(e),cc.error("====================send/\u67e5\u8be2\u5145\u503c\u8f6c\u76d8\u5956\u52b1")}intermitConnect(e=null){null!=e?e.length<2?cc.error("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u7981\u6b62\u65ad\u5f00 \u539f\u56e0\u8fc7\u7b80:"+e):(cc.error("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u5141\u8bb8\u65ad\u5f00:"+e),this.close()):cc.error("\u65ad\u5f00\u6e38\u620f\u670d\u52a1\u5668 \u7981\u6b62\u65ad\u5f00 \u539f\u56e0\u4e0d\u660e")}clearSocketData(){this.op_code=[],this.op_data=[]}isClosed(){return super.isClosed()}onDynamicPassResult(e){let t=n.default.readNetData(S.default.CMD_MB_QueryDynamicPassResult,e);_.EventCenter.EmitEvent(N[N.DynamicPassResult],t)}}r.default=m,m.instance=null,cc._RF.pop()},{"../BaseRes/PopLoading":void 0,"../BaseRes/PopMessage/PopMessage":void 0,"../BaseRes/PopWait/PopWait":void 0,"../ClientBase/BundleManager":void 0,"../ClientBase/Device":void 0,"../ClientBase/GameUtils":void 0,"../ClientBase/UI/CommonUI":void 0,"../ClientCommon/CData":void 0,"../ClientCommon/DataUtils":void 0,"../ClientCommon/EventCenter":void 0,"../ClientCommon/EventCommonCode":void 0,"../ClientCommon/WSEngine":void 0,"./GameServerManager":"GameServerManager","./GlobalUserItem":"GlobalUserItem","./Header/CMD_Common":"CMD_Common","./Header/CMD_LogonServer":"CMD_LogonServer","./Header/GameMacro":"GameMacro","./UserManager":"UserManager"}],ServerConfig:[function(e,t,r){"use strict";cc._RF.push(t,"ff108lvmjhMEJYFO6ELtdE3","ServerConfig"),Object.defineProperty(r,"__esModule",{value:!0}),r.ServerConfig=void 0;const o=e("../ClientCommon/WSEngine");class a{static randLogonServer(){if(this.useNginx){let e=Math.floor(Math.random()*this.LOGONSERVER_LIST_NGINX.length);this.LOGONSERVER=this.LOGONSERVER_LIST_NGINX[e],this.LOGONPORT=this.LOGONSERVER_PORT_NGINX[e]}else{let e=Math.floor(Math.random()*this.LOGONSERVER_LIST.length);this.LOGONSERVER=this.LOGONSERVER_LIST[e],this.LOGONPORT=this.LOGONSERVER_PORT[e]}}static randChatServer(){if(this.useNginx){let e=Math.floor(Math.random()*this.CHATSERVER_LIST_NGINX.length);this.CHATSERVER=this.CHATSERVER_LIST_NGINX[e],this.CHATPORT=this.CHATSERVER_PORT_NGINX[e]}else{let e=Math.floor(Math.random()*this.CHATSERVER_LIST.length);this.CHATSERVER=this.CHATSERVER_LIST[e],this.CHATPORT=this.CHATSERVER_PORT[e]}}static randGameServer(){let e=Math.floor(Math.random()*this.GAMESERVER_LIST.length);this.GAMESERVER=this.GAMESERVER_LIST[e]}}r.ServerConfig=a,a.useNginx=o.default.TYPESERVER<2,a.LOGONSERVER=0==o.default.TYPESERVER?"cepheusstar.top":"donkeykong.top",a.LOGONPORT=8600,a.LOGONSERVER_LIST=[a.LOGONSERVER],a.LOGONSERVER_PORT=[8600],a.LOGONSERVER_LIST_NGINX=[a.LOGONSERVER],a.LOGONSERVER_PORT_NGINX=[8600],a.CHATSERVER="106.54.238.50",a.CHATPORT=8630,a.CHATSERVER_LIST=[a.LOGONSERVER],a.CHATSERVER_PORT=[8630],a.CHATSERVER_LIST_NGINX=[a.LOGONSERVER],a.CHATSERVER_PORT_NGINX=[8630],a.GAMESERVER=a.LOGONSERVER,a.GAMESERVER_LIST=[a.LOGONSERVER],cc._RF.pop()},{"../ClientCommon/WSEngine":void 0}],UserItem:[function(e,t,r){"use strict";cc._RF.push(t,"7e9f1drcxZGgb/JEAHTLG4+","UserItem"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("../ClientCommon/DataUtils"),a=e("./Header/CMD_GameServer"),s=e("./Header/CMD_Common");r.default=class{constructor(){this.UserInfo=null}loadData(e){let t=o.default.readNetData(s.default.tagMobileUserInfoHead,e);for(;e.getCurLen()+4<e.getLen();){let r=e.readword(),o=e.readword(),s=e.readstring(r);o==a.default.DTP_GR_NICK_NAME&&(t.szNickName=s.slice())}this.UserInfo=t}reloadData(e){this.UserInfo.wTableID=e.UserInfo.wTableID,this.UserInfo.wChairID=e.UserInfo.wChairID,this.UserInfo.cbUserStatus=e.UserInfo.cbUserStatus,cc.error("\u91cd\u65b0\u52a0\u8f7d\u6570\u636e===",e.UserInfo.lScore),this.UserInfo.lScore=e.UserInfo.lScore,this.UserInfo.dwGameID=e.UserInfo.dwGameID}resetData(){this.UserInfo=null}getUserID(){return this.UserInfo.dwUserID}getGameID(){return this.UserInfo.dwGameID}getTableID(){return this.UserInfo.wTableID}getChairID(){return this.UserInfo.wChairID}getUserStatus(){return this.UserInfo.cbUserStatus}getUserlScore(){return cc.error("getUserlScore",this.UserInfo.lScore),this.UserInfo.lScore}getUserNickName(){return this.UserInfo.szNickName}onUserStatus(e,t,r){this.UserInfo.wTableID=e,this.UserInfo.wChairID=t,this.UserInfo.cbUserStatus=r}onUserScore(e){this.UserInfo.lScore=e.lScore,this.UserInfo.dwWinCount=e.dwWinCount,this.UserInfo.dwLostCount=e.dwLostCount,this.UserInfo.dwDrawCount=e.dwDrawCount,this.UserInfo.dwFleeCount=e.dwFleeCount}tagUserStatus(){return{wTableID:this.UserInfo.wTableID,wChairID:this.UserInfo.wChairID,cbUserStatus:this.UserInfo.cbUserStatus}}},cc._RF.pop()},{"../ClientCommon/DataUtils":void 0,"./Header/CMD_Common":"CMD_Common","./Header/CMD_GameServer":"CMD_GameServer"}],UserManager:[function(e,t,r){"use strict";cc._RF.push(t,"9e511aHm9lL4bU4haPSU14s","UserManager"),Object.defineProperty(r,"__esModule",{value:!0});const o=e("./GlobalUserItem"),a=e("./Header/GameMacro");class s{constructor(){this.useritems={},this.tableUserItems=[],this.userAccount=null,this.userPassword=null}static getInstance(){return s.instance}getUserItem(e){return this.useritems[e]}getMeUserItem(){return this.useritems[o.default.getUserID]}getTableUserItem(e){let t=this.useritems[o.default.getUserID];if(null==t||t.getTableID()==a.GameMacro.INVALID_TABLE)return null;if(this.tableUserItems[e])return this.tableUserItems[e];for(let r in this.useritems)if(this.useritems[r]&&this.useritems[r].UserInfo&&this.useritems[r].getTableID()==t.getTableID()&&this.useritems[r].getChairID()==e)return this.useritems[r];return null}getTableUserItems(){cc.log("\u83b7\u53d6\u540c\u684c\u6240\u6709\u73a9\u5bb6==",o.default.getUserID,this.useritems);let e=this.useritems[o.default.getUserID];if(null==e||e.getTableID()==a.GameMacro.INVALID_TABLE)return[];let t=[];for(let r in this.useritems)this.useritems[r].getTableID()==e.getTableID()&&(t[this.useritems[r].getChairID()]=this.useritems[r]);return t}onUserEnter(e){let t=this.getUserItem(e.getUserID());if(t?t.reloadData(e):t=e,t.getUserID()==o.default.getUserID){if(t.getTableID()!=a.GameMacro.INVALID_TABLE&&t.getChairID()!=a.GameMacro.INVALID_CHAIR&&(this.tableUserItems=[],this.tableUserItems[t.getChairID()]=t),null!=this.useritems[o.default.getUserID])return this.useritems[o.default.getUserID];this.useritems[t.getUserID()]=t}else this.useritems[t.getUserID()]=t,t.getTableID()!=a.GameMacro.INVALID_TABLE&&t.getTableID()==this.getMeUserItem().getTableID()&&t.getChairID()!=a.GameMacro.INVALID_CHAIR&&(this.tableUserItems[t.getChairID()]=t);return t}onUserLeave(e){this.useritems[e]=null}onUserClear(){cc.error("clear user !!");let e=this.getMeUserItem();this.useritems={},e&&(this.useritems[e.getUserID()]=e)}onUserStatus(e,t){null!=this.useritems[e]&&this.useritems[e].onUserStatus(t.wTableID,t.wChairID,t.cbUserStatus)}onUserScore(e,t){null!=this.useritems[e]&&this.useritems[e].onUserScore(t)}}r.default=s,s.instance=new s,cc._RF.pop()},{"./GlobalUserItem":"GlobalUserItem","./Header/GameMacro":"GameMacro"}]},{},["GameFrame","GameFrameController","GameLogic","GameSceneBase","BaseGame","GoldGame","GameServerManager","GlobalUserItem","CMD_Common","CMD_GameServer","CMD_LogonServer","CPP_Struct","GameMacro","LogonFrame","ServerConfig","UserItem","UserManager"]);