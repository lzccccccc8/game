window.__require=function e(t,i,o){function a(n,_){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var r="function"==typeof __require&&__require;if(!_&&r)return r(s,!0);if(m)return m(s,!0);throw new Error("Cannot find module '"+n+"'")}n=s}var l=i[n]={exports:{}};t[n][0].call(l.exports,function(e){return a(t[n][1][e]||e)},l,l.exports,e,t,i,o)}return i[n].exports}for(var m="function"==typeof __require&&__require,n=0;n<o.length;n++)a(o[n]);return a}({DataManager_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"6ed454rLMdL4rB3h3/KXeLG","DataManager_FIREBALL");var o=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioData=i.eAudioName=i.m_WinCount=i.m_ScoreTransCount=i.m_LockCount=i.m_Max_Bet=i.m_iItem_LockNum4=i.m_iItem_LockNum3=i.m_iItem_LockNum2=i.m_iItem_LockNum1=i.m_iItem_LockNum0=i.m_iPayTypeCountGenSpe=i.m_iPayTypeCountGen=i.m_iRuleCount=i.m_iJackpotCount=i.m_iLinesCount=i.m_iItemResCount=i.m_iItemRow1=i.m_iItemRow=i.m_iItemCol=i.m_iItem_FireEnd=i.m_iItem_FireBegain=i.m_iItem_Jackpot3=i.m_iItem_Jackpot2=i.m_iItem_Jackpot1=i.m_iItem_Jackpot0=i.m_iItem_FREE=i.m_iItem_WILD=i.m_strKeepDecPoint=i.m_iKeepDecPoint=i.m_Delay3=i.m_Delay2=i.m_Delay1=i.m_Delay05=i.m_iVerUI=void 0;var a=cc._decorator,m=a.ccclass;a.property,i.m_iVerUI=0,i.m_Delay05=.5,i.m_Delay1=1,i.m_Delay2=2,i.m_Delay3=3,i.m_iKeepDecPoint=0,i.m_strKeepDecPoint="f"+i.m_iKeepDecPoint,i.m_iItem_WILD=9,i.m_iItem_FREE=10,i.m_iItem_Jackpot0=11,i.m_iItem_Jackpot1=12,i.m_iItem_Jackpot2=13,i.m_iItem_Jackpot3=14,i.m_iItem_FireBegain=15,i.m_iItem_FireEnd=28,i.m_iItemCol=5,i.m_iItemRow=4,i.m_iItemRow1=8,i.m_iItemResCount=14,i.m_iLinesCount=49,i.m_iJackpotCount=4,i.m_iRuleCount=4,i.m_iPayTypeCountGen=8,i.m_iPayTypeCountGenSpe=4,i.m_iItem_LockNum0=4,i.m_iItem_LockNum1=8,i.m_iItem_LockNum2=12,i.m_iItem_LockNum3=16,i.m_iItem_LockNum4=20,i.m_Max_Bet=5,i.m_LockCount=4,i.m_ScoreTransCount=6,i.m_WinCount=3;var n=function(){function e(){}return o([m],e)}();i.default=n,function(e){e[e.BGM_Gen=0]="BGM_Gen",e[e.BGM_Free=1]="BGM_Free",e[e.BGM_Special=2]="BGM_Special",e[e.Sound_GameWinTrans=3]="Sound_GameWinTrans",e[e.Sound_TotalWinTrans=4]="Sound_TotalWinTrans",e[e.Sound_FreeEnab=5]="Sound_FreeEnab",e[e.Sound_FreeEnab1=6]="Sound_FreeEnab1",e[e.Sound_Spin=7]="Sound_Spin",e[e.Sound_SpinStop=8]="Sound_SpinStop",e[e.Sound_Bed=9]="Sound_Bed",e[e.Sound_Auto2Man=10]="Sound_Auto2Man",e[e.Sound_RollingSllow=11]="Sound_RollingSllow",e[e.Sound_Line=12]="Sound_Line",e[e.Sound_Lock=13]="Sound_Lock",e[e.Sound_Unlock=14]="Sound_Unlock",e[e.Sound_Cash=15]="Sound_Cash",e[e.Sound_End_Special=16]="Sound_End_Special",e[e.Sound_Enter_Special=17]="Sound_Enter_Special",e[e.Sound_End_Free=18]="Sound_End_Free",e[e.Sound_FreeIconStop=19]="Sound_FreeIconStop",e[e.Sound_FireIconStop=20]="Sound_FireIconStop",e[e.Sound_Fire=21]="Sound_Fire",e[e.Sound_Special_Line=22]="Sound_Special_Line"}(i.eAudioName||(i.eAudioName={}));var _=function(){function e(){this.ary_AudioNames=["BGM_Gen","BGM_Free","BGM_Special","Sound_GameWinTrans","Sound_TotalWinTrans","Sound_FreeEnab","Sound_FreeEnab1","Sound_Spin","Sound_SpinStop","Sound_Bed","Sound_Auto2Man","Sound_RollingSllow","Sound_Line","Sound_Lock","Sound_Unlock","Sound_Cash","Sound_End_Special","Sound_Enter_Special","Sound_End_Free","Sound_FreeIconStop","Sound_FireIconStop","Sound_Fire","Sound_Special_Line"],this.ary_AudioVolume=[.5,.5,.5,.5,.5,.5,.5,.3,.5,1,1,.3,.5,.3,.8,.5,.5,.5,.5,.5,.3,.8,.5,.5,.5,.5,.5,1,.5]}return o([m],e)}();i.AudioData=_,cc._RF.pop()},{}],DealAutoTrans_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"0e0e1M5R0dEWL9nq71zl0xL","DealAutoTrans_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.ePlayMode=void 0;var n,_=e("./GameLogic_FIREBALL"),s=cc._decorator,r=s.ccclass;s.property,function(e){e[e.ePM_Man=0]="ePM_Man",e[e.ePM_Auto=1]="ePM_Auto"}(n=i.ePlayMode||(i.ePlayMode={}));var l=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.call(this)||this;return o.m_ePlayMode=n.ePM_Man,o.spinBtnIsTouch=!1,o.spinBtnTouchTimer=0,o.spinBtnTouchTimes=1,o.m_SpinLeftSpriteFrame=[],o.m_Logic=t[0],o}return a(t,e),t.prototype.SetBtnAutoSpinState=function(e,t){void 0===t&&(t=!0),e?(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=!0,this.m_BtnStop.node.active=!e,this.m_BtnStop.interactable=!0,this.m_BtnAutoSpin.node.active=e,this.m_BtnAutoSpin.interactable=t):(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=t,this.m_BtnStop.node.active=e,this.m_BtnStop.interactable=!0,this.m_BtnAutoSpin.node.active=e,this.m_BtnAutoSpin.interactable=!0)},t.prototype.SetBtnStopSpinState=function(e,t){void 0===t&&(t=!0),e&&(this.m_BtnSpin.node.active=!e,this.m_BtnSpin.interactable=!0,this.m_BtnStop.node.active=e,this.m_BtnStop.interactable=t,this.m_BtnAutoSpin.node.active=!e,this.m_BtnAutoSpin.interactable=!0)},t.prototype.OnAutoBtn=function(){var e=this.m_ePlayMode==n.ePM_Man?n.ePM_Auto:n.ePM_Man;this.IsAutoPlay(e)},t.prototype.IsAutoPlay=function(e){this.m_ePlayMode!=e&&(this.m_ePlayMode==n.ePM_Man?this.m_Logic.m_GameTypeCur!=_.eGameTypeCur.eGTN_SpecialGame&&this.m_Logic.m_GameTypeNext!=_.eGameTypeNext.eGTN_SpecialGame||(this.m_autoBtnAutoTag.active=!1,this.m_autoBtnSpinCountTag.active=!0):(this.m_autoBtnAutoTag.active=!0,this.m_autoBtnSpinCountTag.active=!1)),this.m_ePlayMode=e},t.prototype.onSpinBtnTouchStart=function(){this.m_Logic.m_GameState!=_.eGameState.eGS_Playing&&(this.spinBtnTouchTimer=0,this.spinBtnIsTouch=!0)},t.prototype.onSpinBtnTouchEnd=function(){this.spinBtnIsTouch=!1,this.m_spinBtnPressParticle.active=!1},t.prototype.onSpinBtnTouchCancel=function(){this.spinBtnIsTouch=!1,this.m_spinBtnPressParticle.active=!1},t.prototype.onSpinBtnTouch=function(){this.m_spinBtnPressParticle.active=!1,this.spinBtnIsTouch=!1,this.spinBtnTouchTimer=0,this.SetMan2AutoSpin(),this.m_Logic.SetBtnState(_.eBtnState.eBS_FSIdle),this.m_Logic.m_DealWinPro.ShowGameWin()},t.prototype.UpdateTouch=function(){this.spinBtnIsTouch&&this.m_Logic.m_GameTypeCur==_.eGameTypeCur.eGTC_General&&(this.spinBtnTouchTimer+=cc.director.getDeltaTime(),this.spinBtnTouchTimer>.15&&(this.m_spinBtnPressParticle.active=!0),this.spinBtnTouchTimer>this.spinBtnTouchTimes&&this.onSpinBtnTouch())},t.prototype.SetMan2AutoSpin=function(){this.m_ePlayMode==n.ePM_Man&&this.IsAutoPlay(n.ePM_Auto)},t.prototype.SetAuto2ManSpin=function(){this.m_ePlayMode==n.ePM_Auto&&this.IsAutoPlay(n.ePM_Man)},m([r],t)}(cc.Component);i.default=l,cc._RF.pop()},{"./GameLogic_FIREBALL":"GameLogic_FIREBALL"}],DealBetRelevant_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"ea142tbkC1NZKMvUWqYnXY/","DealBetRelevant_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./GameLogic_FIREBALL"),_=cc._decorator,s=_.ccclass,r=(_.property,function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.call(this)||this;return o.m_iBet=0,o.m_iLines=0,o.m_fTotalBet=0,o.m_Logic=t[0],o}return a(t,e),t.prototype.Final=function(){},t.prototype.ShowAllData=function(){this.m_Logic.m_DealWinPro.m_IBelowBar.GetShowTotalBetCtrl().ShowNum1(this.m_fTotalBet,!0,-1,!1)},t.prototype.MaxBet=function(){},t.prototype.AddBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=1)},t.prototype.SubBet=function(){this.BIsCanChangeBet()&&(this.m_Logic.m_SlotMSGStru.m_iBetType=-1)},t.prototype.BIsCanChangeBet=function(){switch(this.m_Logic.m_GameState){case n.eGameState.eGS_CanChangeBet:return!0}return!1},m([s],t)}(cc.Component));i.default=r,cc._RF.pop()},{"./GameLogic_FIREBALL":"GameLogic_FIREBALL"}],DealItemRelevant_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"27461+xZupAr4j6yrEUY+1+","DealItemRelevant_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.eRollState=void 0;var n,_=e("./DataManager_FIREBALL"),s=e("./GameLogic_FIREBALL"),r=e("./DealAutoTrans_FIREBALL"),l=cc._decorator,c=l.ccclass;l.property,function(e){e[e.eRS_None=0]="eRS_None",e[e.eRS_Rolling=1]="eRS_Rolling"}(n=i.eRollState||(i.eRollState={}));var S=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.call(this)||this;return o.m_ItemCtrl=null,o.m_eRollState=n.eRS_None,o.m_fItemTransInter=.2,o.m_fItemTransTimer=0,o.m_fItemStopTotalTime=.3,o.m_fItemStopTotalTimer=0,o.m_iColStop=0,o.m_bIsTransing=!1,o.m_bIsGetResult=!1,o.m_bIsAutoStopOpened=!1,o.m_list_iColCanShowRollEff=new Array,o.m_bIsRunRollEff=!1,o.m_fRollEffTotalTime=3,o.m_fRollEffTimer=0,o.m_bIsOverall=!1,o.m_fStopSoundTime=.1,o.m_aryScore=[50,75,100,125,150,200,250,375,500,625,750,1e3,2500,5e3],o.m_Logic=t[0],o}return a(t,e),t.prototype.Init=function(){this.m_ItemCtrl.Init(_.m_iItem_WILD,_.m_iItem_FREE,_.m_iItem_Jackpot0,_.m_iItem_FireBegain,_.m_iItem_FireEnd)},t.prototype.Final=function(){this.m_ItemCtrl.Final(),this.m_ItemCtrl=null},t.prototype.UpdateState=function(){this.m_ItemCtrl.StateItemCtrl()},t.prototype.ResetParam=function(){this.m_fItemTransTimer=0,this.m_fItemStopTotalTimer=0,this.m_bIsTransing=!1,this.m_bIsGetResult=!1,this.m_eRollState=n.eRS_None,this.m_bIsAutoStopOpened=!1,this.m_bIsRunRollEff=!1,this.m_fRollEffTimer=0,this.m_RollerEff&&(this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID),this.m_RollerEff=!1),this.m_bIsOverall=!1},t.prototype.ShowInitResultSpr=function(){this.m_ItemCtrl.ShowInitResultSpr()},t.prototype.OnTrans=function(){this.m_ItemCtrl.OnTrans()},t.prototype.SetAllItemResult=function(e){this.m_ItemCtrl.SetAllItemResult(e),this.m_Logic.m_GameMode?this.m_fStopSoundTime=.4:this.m_fStopSoundTime=.1},t.prototype.SetAItemResult=function(e,t,i){this.m_ItemCtrl.SetOneItemResult(e,t,i)},t.prototype.SetAllItemStop=function(e){var t=this;void 0===e&&(e=!0);var i=!1;if(this.m_bIsRunRollEff){this.m_list_iColCanShowRollEff[0];for(var o=1;o<_.m_iItemCol-1;o++)this.Get_m_ary_bIsCanStop(o)||(this.SetAColItemStop(o),i=!0)}else this.m_ItemCtrl.SetAllItemStop(),this.m_Logic.game.m_SoundSystem&&(this.m_SoundSpin=this.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_SpinStop,this.m_Logic.m_iSeatID,!1,!0)),i=!0;i&&e&&this.scheduleOnce(function(){t.m_Logic.game.m_SoundSystem&&(t.m_SoundSpin=t.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_SpinStop,t.m_Logic.m_iSeatID,!1,!0))},.25)},t.prototype.SetAColItemStop=function(e,t){var i,o=this;void 0===t&&(t=!0),this.m_ItemCtrl.SetAColItemStop(e),t&&this.scheduleOnce(function(){var t=o.GetStopSound(e);o.m_Logic.m_GameMode?o.m_Logic.game.m_SoundSystem&&(o.m_SoundSpin=o.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_SpinStop,o.m_Logic.m_iSeatID,!1,!0)):1==t?o.m_Logic.game.m_SoundSystem&&(o.m_SoundSpin=o.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_FireIconStop,o.m_Logic.m_iSeatID,!1,!0)):2==t?o.m_Logic.game.m_SoundSystem&&(o.m_SoundSpin=o.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_FreeIconStop,o.m_Logic.m_iSeatID,!1,!0)):o.m_Logic.game.m_SoundSystem&&(o.m_SoundSpin=o.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_SpinStop,o.m_Logic.m_iSeatID,!1,!0))},this.m_fStopSoundTime),this.m_fRollEffTimer=0,-1!=(i=this.m_list_iColCanShowRollEff.indexOf(e))&&(this.m_bIsRunRollEff=!1),this.m_RollerEff&&(this.m_RollerEff=!1,null!=this.m_RollingSllow&&this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEStop(this.m_RollingSllow,this.m_Logic.m_iSeatID)),this.m_list_iColCanShowRollEff.length>=1?e>=1&&e<4&&!this.m_bIsRunRollEff&&(this.m_bIsRunRollEff=!0,this.m_RollerEff||(this.m_Logic.game.m_SoundSystem&&(this.m_RollingSllow=this.m_Logic.game.m_SoundSystem.SEPlay(_.eAudioName.Sound_RollingSllow,this.m_Logic.m_iSeatID,!1,!0)),this.SetModifySpeed(this.m_list_iColCanShowRollEff[0]+1,1.5),this.m_RollerEff=!0,this.m_list_iColCanShowRollEff.splice(i,1))):(this.m_bIsRunRollEff=!1,this.m_RollerEff=!1)},t.prototype.GetImage=function(e,t){return this.m_ItemCtrl.GetImage(e,t)},t.prototype.Get_IsAllItemTransEnd=function(){return this.m_ItemCtrl.Get_IsAllItemTransEnd()},t.prototype.Get_m_ary_bIsCanStop=function(e){return this.m_ItemCtrl.Get_m_ary_bIsCanStop(e)},t.prototype.DealTransStop=function(){var e=this;switch(this.m_eRollState){case n.eRS_None:this.m_bIsGetResult&&(this.OnTrans(),this.m_Logic.m_GameMode?(this.m_Logic.m_DealWinPro.m_DealSpecial.ResetItemImage(),this.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1)):this.SetAllItemResult(this.m_Logic.m_arys_ItemResult),this.scheduleOnce(function(){e.SetTransing()},1),this.m_eRollState=n.eRS_Rolling);break;case n.eRS_Rolling:this.m_bIsTransing&&this.ItemTransLogic()}},t.prototype.SetTransing=function(){this.m_bIsTransing=!0},t.prototype.ItemTransLogic=function(){if(this.m_fRollEffTimer+=cc.director.getDeltaTime(),this.IsAutoStopOpened()){if(this.m_bIsRunRollEff&&this.m_fRollEffTimer<this.m_fRollEffTotalTime)return;if(this.m_fItemTransTimer+=cc.director.getDeltaTime(),this.m_fItemTransTimer>=this.m_fItemTransInter)for(var e=0;e<_.m_iItemCol;e++)if(!this.Get_m_ary_bIsCanStop(e)){this.m_fItemTransTimer=0,this.SetAColItemStop(e);break}}},t.prototype.AllStopItem=function(){this.m_bIsTransing&&this.m_bIsGetResult&&(this.SetAllItemStop(),this.m_Logic.m_eStartKey=s.eStartKey.eSK_None)},t.prototype.DesignateStopItem=function(){if(this.m_bIsTransing&&this.m_bIsGetResult){var e=this.m_iColStop;e<0||e>=this.m_Logic.m_arys_ItemResult.length||this.Get_m_ary_bIsCanStop(e)||(this.SetAColItemStop(e),this.m_fItemStopTotalTimer=0)}},t.prototype.IsAutoStopOpened=function(){return!!this.m_bIsAutoStopOpened||(this.m_Logic.m_DealAutoTrans.m_ePlayMode==r.ePlayMode.ePM_Auto?(this.m_bIsAutoStopOpened=!0,!0):(this.m_fItemStopTotalTimer+=cc.director.getDeltaTime(),this.m_fItemStopTotalTimer>=this.m_fItemStopTotalTime&&(this.m_bIsAutoStopOpened=!0,!0)))},t.prototype.AColStopEvn=function(){},t.prototype.SetModifySpeed=function(e,t){void 0===t&&(t=.5),this.m_ItemCtrl.SetModifySpeed(e,t)},t.prototype.SetIBet=function(e){this.m_ItemCtrl.SetmIBet(e)},t.prototype.SetSpCurrentGameType=function(e){this.m_ItemCtrl.SetGameTypeCurIndex(e)},t.prototype.GetStopSound=function(e){var t=0;if(e>=0&&e<=_.m_iItemCol)for(var i=_.m_iItemRow-1;i>=0;i--){var o=this.m_Logic.m_arys_ItemResult[e][i];if(this.m_Logic.IsIconSpecial(o)){t=1;break}if(o==_.m_iItem_FREE){t=2;break}}return t},t.prototype.GetFireNumStr=function(e){var t=0;if(this.m_Logic.IsIconSpecial(e)){var i=e-_.m_iItem_FireBegain;i<this.m_aryScore.length&&(t=this.m_aryScore[i]*this.m_ItemCtrl.GetmIBet())}return t},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},m([c],t)}(cc.Component);i.default=S,cc._RF.pop()},{"./DataManager_FIREBALL":"DataManager_FIREBALL","./DealAutoTrans_FIREBALL":"DealAutoTrans_FIREBALL","./GameLogic_FIREBALL":"GameLogic_FIREBALL"}],DealSpecial_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"9b0771YW79OKYujgxKMqstK","DealSpecial_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("./DataManager_FIREBALL"),_=e("./DealWinProcess_FIREBALL"),s=e("./Game_FIREBALL"),r=cc._decorator,l=r.ccclass,c=(r.property,function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.call(this)||this;o.m_ary_SprNumLock=new Array(12),o.m_ary_SprTips=new Array(4),o.m_NumlockCtrl=[],o.m_list_SprItems=[],o.m_list_gAnimItemShowing1=[],o.m_dic_iqPreObj=new Map,o.m_totalTime=0,o.m_Line=4,o.m_totoalWin=0,o.m_arys_Scatter=new Array,o.m_ary_Numlock=new Array(n.m_LockCount),o.m_FireBallEndPosx=[-160,0,160],o.m_PanelWinScoreAnim2=[],o.m_PanelLockEffect=[],o.m_winJackpotTile=[],o.fireBallCount=0,o.m_list_ItemNormalImage=[],o.m_list_gAnimItemNumCtrl=[],o.m_dic_iqNumCtrl=new Map,o.m_ary_SprFireNum=new Array(12),o.m_list_icPairNumSpe=new Map;var a=t[0];o.m_Logic=a;for(var m=_.ePreObj.ePO_None+1;m<_.ePreObj.ePO_MaxValue;m++)o.m_dic_iqPreObj.set(m,[]),o.m_dic_iqNumCtrl.set(m,[]);return o.ClearScatter(),o}return a(t,e),t.prototype.onDestroy=function(){},t.prototype.InitLockNum=function(e){for(var t=0;t<n.m_iItemRow;t++)this.m_ary_Numlock[t]=e[t]},t.prototype.StartAnim=function(){var e=this;this.m_Logic.game.m_SoundSystem&&(this.m_Sound=this.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Enter_Special,this.m_Logic.m_iSeatID,!1,!1));var t=cc.instantiate(this.m_Logic.m_DealWinPro.m_StartSpecialPrefab);t.setParent(this.m_Logic.m_DealWinPro.m_StartSpecialGameAnim),this.scheduleOnce(function(){e.m_Logic.m_Image_Logo.active=!1,e.m_Logic.m_Root.active=!1},2.5),this.scheduleOnce(function(){e.m_Logic.game.m_SoundSystem&&(e.m_Sound=e.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Special_Line,e.m_Logic.m_iSeatID,!0,!1))},6),this.scheduleOnce(function(){e.m_Logic.game.m_SoundSystem&&e.m_Logic.game.m_SoundSystem.SEStop(e.m_Sound,e.m_Logic.m_iSeatID),t.destroy(),e.m_Root.active=!0,e.Panel_SpecialSpinPar.active=!0,e.ResetItemImage(),e.StartAnimation()},9.8)},t.prototype.StartAnimation=function(){cc.error("=====StartAnimation");for(var e=0;e<n.m_LockCount;e++)this.m_ary_Numlock[e]>0&&this.m_NumlockCtrl[e]&&this.m_NumlockCtrl[e].ShowNum1(this.m_ary_Numlock[e],!0,-1,!1);var t=0,i=function(){this.m_ary_Numlock[t]>0&&(this.m_ary_gLock[t].active=!0,this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Lock,this.m_Logic.m_iSeatID,!1,!1)),t<n.m_iItemRow?t++:(this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.BGMPlay(n.eAudioName.BGM_Special,!0),this.unschedule(i),this.m_initFlg=1,this.Panel_IntoSpecial.active=!0,this.ShowLottery2(),this.m_Logic.SetStartWaitPlay())};this.schedule(i,n.m_Delay05)},t.prototype.OutSpecial=function(){this.m_Logic.m_GameMode=!1,this.m_Logic.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!1,this.m_Logic.SetTransMode(),this.OutAnimation()},t.prototype.OutAnimation=function(){this.fireBallCount=0;var e=0;this.m_NumWinCtrl.ShowNum1(0,!0,-1,!1),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_End_Special,this.m_Logic.m_iSeatID,!1,!1);var t=function(){var i=this;this.Tips_End.active=e%2==0,e<n.m_iItemRow1?e++:(this.unschedule(t),this.m_Panel_Jackpot.active=!1,this.Panel_WinSpecial.active=!0,this.Panel_OutSpecial.active=!0,this.scheduleOnce(function(){i.m_totoalWin=0;var e=0,t=n.m_iItemRow1-i.m_Line,o=function(){var e=this;this.scheduleOnce(function(){e.m_Logic.m_DealWinPro.m_TransScenePanel.opacity=0,e.m_Logic.m_DealWinPro.m_TransScenePanel.active=!0,cc.tween(e.m_Logic.m_DealWinPro.m_TransScenePanel).to(.5,{opacity:255}).call(function(){e.m_Panel_Jackpot.active=!0,e.Panel_WinSpecial.active=!1,e.Panel_SpecialSpinPar.active=!1,e.m_Root.active=!1,e.m_Logic.m_Root.active=!0,e.m_Logic.m_Image_Logo.active=!0,e.Tips_End.active=!1;for(var t=0;t<e.m_list_gAnimItemShowing1.length;t++){var i=e.m_list_gAnimItemShowing1[t];i.active=!1,e.m_dic_iqPreObj.get(_.ePreObj.ePO_ItemAnim).push(i)}e.m_list_gAnimItemShowing1=[];for(var o=0;o<e.m_list_gAnimItemNumCtrl.length;o++){var a=e.m_list_gAnimItemNumCtrl[o];e.m_dic_iqNumCtrl.get(_.ePreObj.ePO_ItemAnim).push(a)}e.m_list_gAnimItemNumCtrl=[];for(var m=0;m<n.m_iItemRow;m++)e.m_ary_gLock[m].active=!1;for(var s=0;s<e.m_winJackpotTile.length;s++)e.m_winJackpotTile[s].active=!1;e.m_Logic.m_DealWinPro.m_iJackpotId=-1,e.m_Logic.m_DealWinPro.m_dJackpotScore=0,e.GetRanResult(),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr(),e.m_Logic.m_freeReels.length>0&&(e.m_Logic.SetItemResult(e.m_Logic.m_freeReels),e.m_Logic.m_DealItem.SetAllItemResult(e.m_Logic.m_arys_ItemResult),e.m_Logic.m_DealItem.ShowInitResultSpr()),cc.tween(e.m_Logic.m_DealWinPro.m_TransScenePanel).to(.5,{opacity:0}).call(function(){e.m_Logic.m_DealWinPro.m_TransScenePanel.active=!1,e.m_Logic.m_DealWinPro.BackToGeneral()}).start()}).start()},n.m_Delay2)},a=function(){for(;-1==this.m_arys_Scatter[e][t];)if(e<n.m_iItemCol-1)e++;else if(t<n.m_iItemRow1-1)t++,e=0;else if(e==n.m_iItemCol-1&&t==n.m_iItemRow1-1){this.unschedule(a),o.call(this);break}this.m_arys_Scatter[e][t]>0&&(this.m_Logic.IsIconSpecial(this.m_arys_Scatter[e][t])?this.FireBallEndAnim(e,t,!1):this.m_Logic.IsIconJackpot(this.m_arys_Scatter[e][t])&&this.FireBallEndAnim(e,t,!0),e<n.m_iItemCol-1?e++:t<n.m_iItemRow1-1?(t++,e=0):e==n.m_iItemCol-1&&t==n.m_iItemRow1-1&&(this.unschedule(a),o.call(this)))};i.schedule(a,n.m_Delay1)},n.m_Delay05))};this.schedule(t,.2)},t.prototype.InitLock=function(e){var t=0,i=e[0];i<n.m_iItem_LockNum1?(this.m_Line=4,i<n.m_iItem_LockNum0?this.InitLockNum([n.m_iItem_LockNum0,n.m_iItem_LockNum1,n.m_iItem_LockNum2,n.m_iItem_LockNum3]):(t=i-4,this.InitLockNum([n.m_iItem_LockNum0-t,n.m_iItem_LockNum1-t,n.m_iItem_LockNum2-t,n.m_iItem_LockNum3-t]))):(i+=e[1])<n.m_iItem_LockNum2?(this.m_Line=5,t=i-4,this.InitLockNum([0,n.m_iItem_LockNum1-t,n.m_iItem_LockNum2-t,n.m_iItem_LockNum3-t])):(i+=e[2])<n.m_iItem_LockNum3?(this.m_Line=6,t=i-4,this.InitLockNum([0,0,n.m_iItem_LockNum2-t,n.m_iItem_LockNum3-t])):(i+=e[3])<n.m_iItem_LockNum4?(this.m_Line=7,t=i-4,this.InitLockNum([0,0,0,16-t])):(i+=e[4],this.m_Line=8,this.InitLockNum([0,0,0,0]))},t.prototype.SetScatterData=function(e){for(var t=0,i=new Array(5),o=n.m_iItemRow1-1;o>=0;o--)for(var a=0;a<n.m_iItemCol;a++){if(o>=4){var m=o-4;this.m_Logic.IsIconSpecialJackpot(e[a][m])?(this.m_arys_Scatter[a][o]=e[a][m],t++):this.m_arys_Scatter[a][o]=-1}else this.m_arys_Scatter[a][o]=-1;4==o?i[0]=t:3==o?i[1]=t-i[0]:2==o?i[2]=t-i[0]-i[1]:1==o?i[3]=t-i[0]-i[1]-i[2]:0==o&&(i[4]=t-i[0]-i[1]-i[2]-i[3])}this.InitLock(i)},t.prototype.SetScatterData_1=function(e){for(var t=0,i=new Array(5),o=n.m_iItemRow1-1;o>=0;o--){for(var a=0;a<n.m_iItemCol;a++){var m=o;this.m_Logic.IsIconSpecialJackpot(e[a][m])?(this.m_arys_Scatter[a][o]=e[a][m],t++):this.m_arys_Scatter[a][o]=-1}4==o?i[0]=t:3==o?i[1]=t-i[0]:2==o?i[2]=t-i[0]-i[1]:1==o?i[3]=t-i[0]-i[1]-i[2]:0==o&&(i[4]=t-i[0]-i[1]-i[2]-i[3])}this.InitLock(i)},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case _.ePreObj.ePO_ItemAnim:i=cc.instantiate(this.m_gScatterItemAnim);var o=cc.find("lightpoint",i).getComponent(cc.Sprite),a=cc.find("fire",i).getComponent(cc.Sprite),m=this.m_Logic.game.GetGameAsset1("Res/Texure/Special/Special",s.AssetType.AT_SpriteAtlas);o.spriteFrame=m.getSpriteFrame("lightpoint"),a.spriteFrame=m.getSpriteFrame("fire"),i.parent=this.m_transItemAnimP}(t=i).active=!1}return t},t.prototype.ShowLottery_Special=function(){var e=this,t=!1,i=0,o=new Array(5);this.ShowSpecialTimesUsed();for(var a=n.m_iItemRow1-1;a>=0;a--){for(var m=0;m<n.m_iItemCol;m++){var _=m,s=a;if(-1==this.m_arys_Scatter[m][a]&&this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult_1[m][a])&&(this.m_arys_Scatter[m][a]=this.m_Logic.m_arys_ItemResult_1[m][a],n.m_iItemRow1-this.m_Line<=a&&(t=!0),this.AddItemShowing(_,s)),this.m_arys_Scatter[m][a]>-1){i++;var r=this.m_Logic.m_DealItem1.GetImage(_,s);r&&(r.node.active=!1,this.m_list_ItemNormalImage.push(r))}}4==a?o[0]=i:3==a?o[1]=i-o[0]:2==a?o[2]=i-o[0]-o[1]:1==a?o[3]=i-o[0]-o[1]-o[2]:0==a&&(o[4]=i-o[0]-o[1]-o[2]-o[3])}if(t){this.InitLock(o);var l=function(t){c.m_ary_Numlock[t]>0?c.m_NumlockCtrl[t].ShowNum1(c.m_ary_Numlock[t],!0,-1,!1):(c.m_ary_gLock[t].active&&(c.m_PanelLockEffect[t].node.active=!0,c.m_PanelLockEffect[t].resetSystem(),c.m_Logic.game.m_SoundSystem&&c.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Unlock,c.m_Logic.m_iSeatID,!1,!1),c.scheduleOnce(function(){e.m_PanelLockEffect[t].node.active=!1},.2)),c.m_ary_gLock[t].active=!1)},c=this;for(m=0;m<4;m++)l(m);this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Fire,this.m_Logic.m_iSeatID,!1,!1)}},t.prototype.ShowSpecialTimesUsed=function(){this.m_totalTime>=0&&this.m_totalTime<this.m_ary_SprTips.length&&(this.m_transTip.spriteFrame=this.m_ary_SprTips[this.m_totalTime],this.m_Logic.m_DealAutoTrans.m_autoBtnSpinLeftCountSprite.spriteFrame=this.m_Logic.m_DealAutoTrans.m_SpinLeftSpriteFrame[this.m_totalTime])},t.prototype.ShowLottery2=function(){for(var e=0;e<n.m_iItemCol;e++)for(var t=0;t<n.m_iItemRow1;t++)if(this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult_1[e][t])){var i=e,o=t;this.AddItemShowing(i,o)}this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Fire,this.m_Logic.m_iSeatID,!1,!1)},t.prototype.AddItemShowing=function(e,t){var i=this.GetPreObj(_.ePreObj.ePO_ItemAnim);i.setPosition(cc.v2(this.m_arys_VecItems[e][t].x,this.m_arys_VecItems[e][t].y));var o=this.m_Logic.m_arys_ItemResult_1[e][t],a=cc.find("Image_Item",i).getComponent(cc.Sprite),m=cc.find("Panel_NumPar",i);a.node.active=!1;var n=this.GetPreObjNumCtrl(_.ePreObj.ePO_ItemAnim,i);if(this.m_Logic.IsIconSpecial(o)){m.active=!0;var s=this.m_Logic.m_DealItem.GetFireNumStr(o);n.ShowNum2(s,!0,!1)}else m.active=!1,a.node.active||(a.node.active=!0),a.spriteFrame=this.m_list_SprItems[this.m_Logic.m_arys_ItemResult_1[e][t]];i.active=!0,i.getComponent(cc.Animation).play(),this.m_list_gAnimItemShowing1.push(i),this.m_list_gAnimItemNumCtrl.push(n)},t.prototype.FireBallEndAnim=function(e,t,i){for(var o=this,a=0;a<this.m_winJackpotTile.length;a++)this.m_winJackpotTile[a].active=!1;var m=this.m_arys_VecItems[e][t].x,_=this.m_arys_VecItems[e][t].y;this.m_fireBallMask.active=!0,this.m_fireBallMask.opacity=255,this.m_FireBallLight.setPosition(m,_-0),this.m_fireBall.setPosition(m,_),this.m_fireBall.active=!0,this.m_FireBallLight.active=!0;var s=Math.floor(Math.random()*this.m_FireBallEndPosx.length),r=this.m_FireBallEndPosx[s],l=this.m_PanelWinScoreAnim2[s];cc.tween(this.m_fireBall).to(.2,{position:cc.v3(r,550,0)}).call(function(){o.m_FireBallLight.active=!1,o.m_fireBall.active=!1,o.m_PanelWinScoreAnim.active=!0,l.active=!0,o.scheduleOnce(function(){if(l.active=!1,i)o.m_Logic.m_DealWinPro.m_iJackpotId>-1&&(a=100*o.m_Logic.m_DealWinPro.m_dJackpotScore,cc.log("\u5f69\u91d1\u7ed3\u7b97\u5206\u6570\uff1a",a),o.m_totoalWin+=a,o.m_NumWinCtrl.ShowNum1(o.m_totoalWin,!0,-1,!1),o.m_winJackpotTile[o.m_Logic.m_DealWinPro.m_iJackpotId].active=!0,o.m_Logic.OnShowMarquee());else{var a=o.m_Logic.m_DealItem.GetFireNumStr(o.m_arys_Scatter[e][t]);cc.log("\u706b\u7403\u7ed3\u7b97\u5206\u6570\uff1a",a),o.m_totoalWin+=a,o.fireBallCount+=a,o.m_NumWinCtrl.ShowNum1(o.m_totoalWin,!0,-1,!1)}o.m_Logic.game.m_SoundSystem&&o.m_Logic.game.m_SoundSystem.SEPlay(n.eAudioName.Sound_Cash,o.m_Logic.m_iSeatID,!1,!1),o.m_PanelWinScoreAnim.active=!1},.2)}).start(),cc.log("\u603b\u7ed3\u7b97\u5206\u6570\uff1a",this.m_totoalWin)},t.prototype.CheckResult=function(){for(var e=0,t=0;t<n.m_iItemCol;t++)for(var i=0;i<n.m_iItemRow;i++)this.m_Logic.IsIconSpecialJackpot(this.m_Logic.m_arys_ItemResult[t][i])&&e++;e>=4&&this.GetRanResult()},t.prototype.GetRanResult=function(){for(var e=0;e<n.m_iItemCol;e++)for(var t=0;t<n.m_iItemRow;t++){var i=this.m_Logic.game.iGameBase.SMGlobal_Random(0,9);this.m_Logic.m_arys_ItemResult[e][t]=i}},t.prototype.ClearScatter=function(){for(var e=0;e<n.m_iItemCol;e++){this.m_arys_Scatter[e]=[];for(var t=n.m_iItemRow1-1;t>=0;t--)this.m_arys_Scatter[e][t]=-1}},t.prototype.ResetItemImage=function(){for(var e=0;e<this.m_list_ItemNormalImage.length;e++)this.m_list_ItemNormalImage[e].node.active=!0;this.m_list_ItemNormalImage=[]},t.prototype.GetPreObjNumCtrl=function(e,t){var i=null;if(this.m_dic_iqNumCtrl.has(e))if(this.m_dic_iqNumCtrl.get(e).length>0)i=this.m_dic_iqNumCtrl.get(e).pop();else{var o=cc.find("Panel_NumPar",t);i=this.m_Logic.game.iGameBase.NewShowNum(o,this.m_gNumPrefab,this.m_ary_SprFireNum,this.m_list_icPairNumSpe,!0,!0)}return i},m([l],t)}(cc.Component));i.default=c,cc._RF.pop()},{"./DataManager_FIREBALL":"DataManager_FIREBALL","./DealWinProcess_FIREBALL":"DealWinProcess_FIREBALL","./Game_FIREBALL":"Game_FIREBALL"}],DealWinProcess_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"441cd6YbEROdb8ypqFdfa2m","DealWinProcess_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.eTransScoreMode=i.eShowLinesMode=i.ePreObj=i.eTransScoreKey=void 0;var n,_,s,r,l=e("./DataManager_FIREBALL"),c=e("./DealSpecial_FIREBALL"),S=e("./GameLogic_FIREBALL"),h=cc._decorator,u=h.ccclass;h.property,function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanGetScoreFast=1]="eSK_CanGetScoreFast",e[e.eSK_CanGetScoreAll=2]="eSK_CanGetScoreAll"}(n=i.eTransScoreKey||(i.eTransScoreKey={})),function(e){e[e.ePO_None=-1]="ePO_None",e[e.ePO_ItemAnim=0]="ePO_ItemAnim",e[e.ePO_LinesFra=1]="ePO_LinesFra",e[e.ePO_Bouns=2]="ePO_Bouns",e[e.ePO_ItemWILD=3]="ePO_ItemWILD",e[e.ePO_ItemAnim_1=4]="ePO_ItemAnim_1",e[e.ePO_Bouns_1=5]="ePO_Bouns_1",e[e.ePO_MaxValue=6]="ePO_MaxValue"}(_=i.ePreObj||(i.ePreObj={})),function(e){e[e.eSLM_HideAll=0]="eSLM_HideAll",e[e.eSLM_ShowAll=1]="eSLM_ShowAll",e[e.eSLM_ShowAllGen=2]="eSLM_ShowAllGen",e[e.eSLM_HideAllGen=3]="eSLM_HideAllGen",e[e.eSLM_ShowSingle=4]="eSLM_ShowSingle",e[e.eSLM_HideSingle=5]="eSLM_HideSingle",e[e.eSLM_ShowFS=6]="eSLM_ShowFS",e[e.eSLM_ShowFSOut=7]="eSLM_ShowFSOut",e[e.eSLM_ShowWILD=8]="eSLM_ShowWILD"}(s=i.eShowLinesMode||(i.eShowLinesMode={})),function(e){e[e.eTSM_None=-1]="eTSM_None",e[e.eTSM_GameToWin=0]="eTSM_GameToWin",e[e.eTSM_GenWinToCredit=1]="eTSM_GenWinToCredit",e[e.eTSM_FSMedTotalWinToCredit=2]="eTSM_FSMedTotalWinToCredit",e[e.eTSM_MedToWin=3]="eTSM_MedToWin",e[e.eTSM_JPToCredit=4]="eTSM_JPToCredit"}(r=i.eTransScoreMode||(i.eTransScoreMode={}));var p=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=e.call(this)||this;o.m_eTransScoreMode=r.eTSM_None,o.m_list_PrizeInfos=[],o.m_list_ScatterInfos=[],o.m_list_AnimItemCtrlShowing=[],o.m_list_ItemCtrlShowing=[],o.m_ary_imagBG=new Array(2),o.m_iAllAwardsID=-1,o.m_iJackpotId=-1,o.m_dJackpotScore=0,o.m_iBonusID=0,o.m_iFSCountTotal=0,o.m_iFSCountUesed=0,o.m_iFSCountAdd=0,o.m_iFSCountLave=0,o.m_iFSTrigLinesCount=0,o.m_iNextGameSpecialOdds=0,o.m_dTableScore=0,o.m_dUserPoint=0,o.m_dWinScoreCur=0,o.m_dGameWinScoreCur=0,o.m_dTotalWinScoreCur=0,o.m_dFSTotalWinScore=0,o.m_bIsShowLinesFra=!1,o.m_bIsCanStopLine=!1,o.m_fNextLineToTalTime=1,o.m_fMandPullJPTimer=0,o.m_bIsPullJPAbled=!1,o.m_Button_Set=null,o.m_Panel_Set=null,o.m_Mask_Set=null,o.m_Widget_m_ButtonSet=null,o.m_Widget_PanelSet=null,o.m_Toggle_SoundOn=null,o.m_Toggle_SoundOff=null,o.m_gameInfoImage=[],o.m_gameInfoIndex=0,o.m_list_ItemNormalImage=[],o.m_dic_iqPreObj=new Map,o.m_list_gAnimItemShowing=[],o.m_list_gAnimItemBonusShowing=[],o.mTransScoreKey=n.eSK_None,o.m_ITopBar=null,o.m_IBelowBar=null,o.soundParticle=null,o.m_dPreSubNum=0,o.m_dSubNumDva=0,o.m_bIsWinFSWaitPlayOver=!1,o.m_bIsWinSpecialWaitPlayOver=!1;var a=t[0];o.m_Logic=a,o.m_DealSpecial=new c.default(a);for(var m=_.ePO_None+1;m<_.ePO_MaxValue;m++)o.m_dic_iqPreObj.set(m,[]);return o}return a(t,e),t.prototype.onDestroy=function(){cc.log("onDestroy===>4444"),this.unscheduleAllCallbacks(),this.m_Logic.onDestroy(),this.m_TransScoreCtrl.onDestroy(),this.m_DealSpecial.onDestroy(),this.Final()},t.prototype.Final=function(){this.m_ary_SprItems=null,this.m_ary_SprItemPanel=null,this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_LinesScoreNumCtrl),this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_FSAddTimesCtrl),this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_FSTimesUsedCtrl),this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_FSTotalTimes),this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_FSMultipleCtrl),this.m_Logic.game.iGameBase.DestroyNewShowNum(this.m_FSShowTotalWinNumCtrl),this.m_LinesScoreNumCtrl=null,this.m_FSAddTimesCtrl=null,this.m_FSTimesUsedCtrl=null,this.m_FSTotalTimes=null,this.m_FSMultipleCtrl=null,this.m_FSShowTotalWinNumCtrl=null,this.m_ITopBar&&(this.m_ITopBar.Final(),this.m_ITopBar=null),this.m_IBelowBar&&(this.m_IBelowBar.Final(),this.m_IBelowBar=null)},t.prototype.MyUpdate=function(){this.m_Logic.m_DealAutoTrans.UpdateTouch()},t.prototype.ResetParam=function(){this.m_bIsCanStopLine=!1},t.prototype.UpdateTableScore=function(e){void 0===e&&(e=0)},t.prototype.ShowFSTimesUsed=function(){this.m_FSTimesUsedCtrl.ShowNum1(this.m_iFSCountUesed,!0,-1,!1)},t.prototype.ShowFSTimesTotal=function(){this.m_FSTotalTimes.ShowNum1(this.m_iFSCountTotal,!0,-1,!1)},t.prototype.ShowFSTotaolWin=function(){this.m_FSShowTotalWinNumCtrl.ShowNum1(this.m_dFSTotalWinScore,!0,-1,!1)},t.prototype.ShowTableScore=function(e){void 0===e&&(e=0),this.m_Logic.game.iGameBase.isNoWin()?this.ShowUserPoint(e):this.m_ITopBar.ShowTableScore(this.m_dTableScore)},t.prototype.ShowTotalWin=function(){},t.prototype.ShowGameWin=function(e){void 0===e&&(e=0),this.ShowImageNum(this.m_IBelowBar.GetShowGameWinNumCtrl(),e)},t.prototype.ShowMidWin=function(){},t.prototype.ShowUserPoint=function(e){void 0===e&&(e=0),this.m_dUserPoint+=e,this.m_ITopBar.ShowUserPoint(this.m_dUserPoint)},t.prototype.ShowID=function(e){this.m_IBelowBar.ShowID("ID:"+e)},t.prototype.ShowImageNum=function(e,t){var i=this.m_Logic.m_eShowMode==S.eShowMode.eSM_Score?0:l.m_iKeepDecPoint;e.ShowNum1(t,!0,i,!1)},t.prototype.SetStopLine=function(e){this.m_bIsShowLinesFra&&(this.m_bIsCanStopLine=e)},t.prototype.ShowLottery=function(){this.DealWinEff(this.m_dWinScoreCur)},t.prototype.DealWinEff=function(e){if(e>0&&this.m_list_PrizeInfos.length>0){this.m_gLinesMask.active=!0,this.m_list_AnimItemCtrlShowing=[],this.m_list_ItemCtrlShowing=[],this.m_bIsShowLinesFra=!0,this.m_fMandPullJPTimer=0;var t=0;this.SetLineFAndItemAnimAct(s.eSLM_ShowAllGen,-1,e);var i=this.m_fNextLineToTalTime;this.ShowWinEff(e);var o=function(){this.m_bIsCanStopLine?(this.unschedule(o),this.m_bIsShowLinesFra=!1,e>0&&(this.m_dWinScoreCur=0,this.ShowGameWin()),this.m_Logic.m_GameState==S.eGameState.eGS_TransGameMode?this.SetLineFAndItemAnimAct(s.eSLM_HideAll):this.DealWinEff_Reset()):(this.SetLineFAndItemAnimAct(s.eSLM_HideAll),this.SetLineFAndItemAnimAct(s.eSLM_ShowSingle,this.m_list_PrizeInfos[t].line),++t==this.m_list_PrizeInfos.length&&(t=0))};this.schedule(o,i)}else this.ShowWinEff(e)},t.prototype.ShowWinEff=function(e){if(e>0)switch(this.m_Logic.m_PrizeType){case S.ePrizeType.ePT_None:break;case S.ePrizeType.ePT_General:case S.ePrizeType.ePT_Small:case S.ePrizeType.ePT_Medium:case S.ePrizeType.ePT_Big:case S.ePrizeType.ePT_AllAward:if(e>0){var t=this.PlayWinSound(e);this.m_AddShowNum=this.m_IBelowBar.GetShowGameWinNumCtrl(),this.m_SubShowNum=null,this.m_eTransScoreMode=r.eTSM_GameToWin,this.mTransScoreKey=n.eSK_CanGetScoreFast;var i=function(){this.m_eTransScoreMode=r.eTSM_None,this.mTransScoreKey=n.eSK_None,this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEStop(t,this.m_Logic.m_iSeatID),this.ShowTableScore(),this.ShowWinScoreAnim(1),this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?this.ShowWinEnd(e):(this.m_dGameWinScoreCur+=e,this.ShowWinEnd(e))};this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General?this.m_TransScoreCtrl.TransScore(e,0,i):(this.m_AddShowNum=this.m_FSShowTotalWinNumCtrl,this.ShowGameWin(e),this.m_TransScoreCtrl.TransScore(e,this.m_dGameWinScoreCur,i))}}else this.ShowWinEnd(e)},t.prototype.ShowWinEnd=function(e){this.m_iFSCountAdd>0&&this.ShowWinEnd_FSCountAdd(e),this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame?(this.ShowTableScore(),this.m_Logic.game.iGameBase.sendWaitBound(),this.m_IBelowBar.setText_Lines("Click play to start")):this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_FreeGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_FreeGame?this.ShowWinEnd_FS2General(e):this.m_Logic.m_GameTypeNext==S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTN_SpecialGame?(this.ShowTableScore(),this.m_Logic.game.iGameBase.sendWaitSpecial()):this.m_iFSCountAdd<=0&&(this.m_Logic.m_GameTypeCur!=S.eGameTypeCur.eGTC_FreeGame&&this.ShowTableScore(),this.m_bIsShowLinesFra?this.SetStopLine(!0):this.DealWinEff_Reset())},t.prototype.ShowWinEnd_FSCountAdd=function(){var e=this;this.m_bIsWinFSWaitPlayOver=!1,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.SetLineFAndItemAnimAct(s.eSLM_ShowFS);var t=function(){this.m_bIsWinFSWaitPlayOver&&(cc.log("\u5df2\u70b9\u51fb\uff01"),this.unschedule(t),this.m_gAddFS.active=!1,this.m_gLinesMask.active=!1,this.ResetParam(),this.ShowFSTimesTotal(),this.m_iFSCountAdd=0,this.m_Logic.WaitFreeGameSelect())};this.m_FSAddTimesCtrl.ShowNum1(this.m_iFSCountAdd,!0,-1,!1),this.scheduleOnce(function(){e.SetLineFAndItemAnimAct(s.eSLM_HideAll),e.m_gAddFS.active=!0,e.schedule(t,l.m_Delay1),e.m_Logic.SetStartWaitPlay()},l.m_Delay2)},t.prototype.ShowWinEnd_FS2General=function(e){var t,i,o=this;this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.m_bIsWinFSWaitPlayOver=!1,this.m_OutFS.active=!0,this.m_FSTips.active=!1,this.m_eTransScoreMode=r.eTSM_MedToWin,this.mTransScoreKey=n.eSK_CanGetScoreFast,this.m_SubShowNum=null,this.m_AddShowNum=this.m_IBelowBar.GetShowGameWinNumCtrl(),i=this.m_dFSTotalWinScore,this.m_Logic.SetPrizeType1(i),this.m_TransScenePanel.opacity=0,this.m_TransScenePanel.active=!0,this.m_Logic.game.m_SoundSystem&&(t=this.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_End_Free,this.m_Logic.m_iSeatID,!1,!1)),cc.tween(this.m_TransScenePanel).to(.5,{opacity:255}).call(function(){cc.log("========\u663e\u793a\u521d\u59cb\u8fdb\u5165\u65f6\u6570\u636e",o.m_Logic.m_freeReels),o.m_Logic.m_freeReels.length>0&&(o.m_Logic.SetItemResult(o.m_Logic.m_freeReels),o.m_Logic.m_DealItem.SetAllItemResult(o.m_Logic.m_arys_ItemResult),o.m_Logic.m_DealItem.ShowInitResultSpr(),o.SetLineFAndItemAnimAct(s.eSLM_ShowFSOut)),o.m_gFSUseP.active=!1,o.m_PlayerBG.spriteFrame=o.m_ary_imagBG[0],o.m_Logic.m_Image_Logo.active=!0,o.m_ImageTrans.spriteFrame=o.m_ary_SprItemPanel[0],o.m_Logic.m_BGFireBall.active=!0,o.m_IBelowBar.setText_Lines("Congratulation! You won "+o.m_Logic.game.iGameBase.getNum(i,!1)),cc.log("====>>\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u7ed3\u675ftempWinScore\uff1a"+i),o.m_PlayerJPPanel.active=!0,o.m_PanelTips.active=!0,o.m_OutFS.active=!1,cc.tween(o.m_TransScenePanel).to(.5,{opacity:0}).call(function(){o.m_GameWinScoreBigWinAnim.node.active=!0,o.m_GameWinScoreBigWinAnim.play(),o.scheduleOnce(function(){o.m_TransScenePanel.active=!1,o.m_GameWinScoreParticleNode.active=!0,t=o.PlayWinSound(e),o.m_TransScoreCtrl.TransScore(i,0,function(){o.m_GameWinScoreParticleNode.active=!1,o.scheduleOnce(function(){cc.log("====>>\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u7ed3\u675f\uff0c\u663e\u793a\u6309\u94ae"),o.m_eTransScoreMode=r.eTSM_None,o.mTransScoreKey=n.eSK_None,o.m_Logic.game.m_SoundSystem&&o.m_Logic.game.m_SoundSystem.SEStop(t,o.m_Logic.m_iSeatID),o.ResetParam(),o.ShowWinScoreAnim(),o.ShowTableScore(),o.m_dFSTotalWinScore=0,o.m_dGameWinScoreCur=0,o.m_OutFS.active=!1,o.m_gFSPar.active=!1,o.m_gFSUseP.active=!0,o.m_gLinesMask.active=!1,o.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,o.m_Logic.game.iGameBase.setGameTypeCur(o.m_Logic.m_GameTypeCur),o.m_Logic.m_DealItem.SetSpCurrentGameType(o.m_Logic.m_GameTypeCur),o.m_Logic.game.m_SoundSystem&&o.m_Logic.game.m_SoundSystem.BGMPlay(l.eAudioName.BGM_Gen,!0),o.SetLineFAndItemAnimAct(s.eSLM_HideAll),o.m_Logic.WaitGenGameSelect()},l.m_Delay1)})},2)}).start()}).start()},t.prototype.SubTransScore=function(e){switch(this.m_eTransScoreMode){case r.eTSM_GameToWin:case r.eTSM_MedToWin:case r.eTSM_GenWinToCredit:case r.eTSM_FSMedTotalWinToCredit:null!=this.m_SubShowNum&&this.ShowImageNum(this.m_SubShowNum,e)}},t.prototype.AddTransScore=function(e){switch(this.m_eTransScoreMode){case r.eTSM_GameToWin:case r.eTSM_MedToWin:case r.eTSM_GenWinToCredit:case r.eTSM_FSMedTotalWinToCredit:null!=this.m_AddShowNum&&this.ShowImageNum(this.m_AddShowNum,e)}},t.prototype.GetWinFast=function(){if(this.m_eTransScoreMode!=r.eTSM_None)switch(this.mTransScoreKey){case n.eSK_None:break;case n.eSK_CanGetScoreFast:this.m_TransScoreCtrl.setScoreState(1),this.mTransScoreKey=n.eSK_CanGetScoreAll,cc.log("\u52a0\u5feb\u8df3\u5206");break;case n.eSK_CanGetScoreAll:this.m_TransScoreCtrl.setScoreState(2),this.mTransScoreKey=n.eSK_None,cc.log("\u505c\u6b62\u8df3\u5206")}},t.prototype.PlayFreeGame=function(e,t,i,o,a,m,n,_,r,c){var h=this;this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinFSWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.ShowGameWin(),this.m_Logic.m_DealBetRel.m_iBet=t,this.m_Logic.m_DealBetRel.m_iLines=i,this.m_iFSCountTotal=a,this.m_iFSCountUesed=m,this.m_iNextGameSpecialOdds=n,this.m_iFSTrigLinesCount=_,this.m_Logic.m_DealBetRel.m_fTotalBet=r,this.m_iFSCountLave=this.m_iFSCountTotal-this.m_iFSCountUesed,this.m_Logic.m_DealBetRel.ShowAllData(),this.m_dWinScoreCur=0,this.m_dFSTotalWinScore=c,this.m_dWinScoreCur=this.m_dFSTotalWinScore,this.ShowTableScore(),this.SetLineFAndItemAnimAct(s.eSLM_ShowFS),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_FreeEnab,this.m_Logic.m_iSeatID,!1,!0),this.scheduleOnce(function(){h.m_Logic.game.m_SoundSystem&&h.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_FreeEnab1,h.m_Logic.m_iSeatID,!1,!0),h.ResetParam(),h.ShowFSTimesUsed(),h.ShowFSTimesTotal(),h.ShowFSTotaolWin(),h.m_dGameWinScoreCur+=h.m_dFSTotalWinScore;var e=function(){this.m_bIsWinFSWaitPlayOver&&(this.unschedule(e),this.m_gIntoFS.active=!1,this.m_gLinesMask.active=!1,this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_FreeGame,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.m_DealItem.SetSpCurrentGameType(this.m_Logic.m_GameTypeCur),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.BGMPlay(l.eAudioName.BGM_Free),this.m_Logic.WaitFreeGameSelect())};h.SetLineFAndItemAnimAct(s.eSLM_HideAll),cc.tween(h.m_PanelTips).to(.5,{opacity:0}).start(),cc.tween(h.m_PlayerJPPanel).to(.5,{opacity:0}).start(),cc.tween(h.m_ImageTrans.node).to(.5,{opacity:0}).call(function(){h.m_PlayerBG.spriteFrame=h.m_ary_imagBG[1],h.m_Logic.m_Image_Logo.active=!1,h.m_ImageTrans.spriteFrame=h.m_ary_SprItemPanel[1],h.m_PlayerJPPanel.active=!1,h.m_PlayerJPPanel.opacity=255,h.m_gIntoFS.active=!0,h.m_gIntoFS.opacity=0,h.m_gFSPar.active=!0,cc.log("false\u706b\u7403\u52a8\u753b"),h.m_Logic.m_BGFireBall.active=!1,h.m_PanelTips.active=!1,h.m_PanelTips.opacity=255,h.m_FSIntoAnimNode.active=!0,h.m_FSIntoAnimBgNode.active=!0,h.m_FSIntoAnimInfoNode.active=!0,h.m_FSIntoAnimInfoNode.opacity=255,h.m_ImageTrans.node.opacity=255,h.m_FSIntoAnimNode.getComponent(cc.Animation).play(),h.scheduleOnce(function(){h.m_FSIntoAnimBgNode.active=!1,h.scheduleOnce(function(){cc.tween(h.m_FSIntoAnimInfoNode).to(.5,{opacity:0}).call(function(){}).start(),cc.tween(h.m_gIntoFS).to(.5,{opacity:255}).call(function(){h.m_FSIntoAnimNode.active=!1,h.scheduleOnce(function(){h.schedule(e,.1),h.m_Logic.SetStartWaitPlay()},1.5)}).start()},1.5)},2.5)}).start()},l.m_Delay3)},Object.defineProperty(t.prototype,"M_bIsWinFSWaitPlayOver",{get:function(){return this.m_bIsWinFSWaitPlayOver},set:function(e){this.m_bIsWinFSWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.DealWinEff_Reset=function(){this.m_gLinesMask.active=!1,this.SetLineFAndItemAnimAct(s.eSLM_HideAll),this.ResetParam(),this.m_Logic.StartIdle()},t.prototype.ShowLottery_Special=function(){var e=this;this.m_DealSpecial.ShowLottery_Special(),this.m_Logic.m_GameTypeNext!=S.eGameTypeNext.eGTN_SpecialGame&&this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTN_SpecialGame?this.m_DealSpecial.OutSpecial():this.scheduleOnce(function(){e.m_Logic.StartInitIdle()},1)},t.prototype.PlaySpecialGame=function(e,t,i,o,a,m,n,_,s){cc.error("==PlaySpecialGame:m_dTotalWinScoreCur=",s),this.m_Logic.m_GameMode=!0,this.m_Logic.m_eStartKey=S.eStartKey.eSK_WinSpecialWaitPlay,this.m_Logic.SetTransMode(),this.SetStopLine(!0),this.m_DealSpecial.m_totalTime=a,this.m_DealSpecial.ShowSpecialTimesUsed(),this.m_Logic.m_bIsHasSpecialFromInit||this.m_Logic.InitSpecialItemResult(this.m_Logic.m_arys_ItemResult),this.m_Logic.m_DealItem1.SetAllItemResult(this.m_Logic.m_arys_ItemResult_1),this.m_Logic.m_DealItem1.ShowInitResultSpr(),this.m_DealSpecial.StartAnim();var r=function(){this.m_bIsWinSpecialWaitPlayOver&&(this.unschedule(r),this.ResetParam(),this.m_DealSpecial.Panel_IntoSpecial.active=!1,this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTN_SpecialGame,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.WaitSpecialGameSelect())};this.schedule(r,.1)},Object.defineProperty(t.prototype,"M_bIsWinSpecialWaitPlayOver",{get:function(){return this.m_bIsWinSpecialWaitPlayOver},set:function(e){this.m_bIsWinSpecialWaitPlayOver=e},enumerable:!1,configurable:!0}),t.prototype.BackToGeneral=function(){var e=this;this.m_GameWinScoreBigWinAnim.node.active=!0,this.m_GameWinScoreBigWinAnim.play(),this.scheduleOnce(function(){e.m_GameWinScoreBigWinAnim.node.active=!1,e.m_GameWinScoreParticleNode.active=!0;var t=e.PlayWinSound(e.m_dFSTotalWinScore);e.m_AddShowNum=e.m_IBelowBar.GetShowGameWinNumCtrl(),e.m_eTransScoreMode=r.eTSM_GameToWin,e.mTransScoreKey=n.eSK_CanGetScoreFast,e.m_TransScoreCtrl.TransScore(e.m_DealSpecial.m_totoalWin,0,function(){var e=this;this.m_eTransScoreMode=r.eTSM_None,this.mTransScoreKey=n.eSK_None,this.m_GameWinScoreParticleNode.active=!1,this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEStop(t,this.m_Logic.m_iSeatID),this.ShowTableScore(),cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start(),this.m_Logic.m_GameTypeCur=S.eGameTypeCur.eGTC_General,this.m_Logic.game.iGameBase.setGameTypeCur(this.m_Logic.m_GameTypeCur),this.m_Logic.WaitGenGameSelect(),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEStop(t,this.m_Logic.m_iSeatID),this.scheduleOnce(function(){e.m_Logic.game.m_SoundSystem&&e.m_Logic.game.m_SoundSystem.BGMPlay(l.eAudioName.BGM_Gen)},2)})},.8)},t.prototype.onSetClick=function(){var e=this;this.m_Panel_Set.active=!0,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Button_Set).to(.25,{position:cc.v3(this.m_Pos_ButtonSet.x+this.m_Width_ButtonSet,this.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=-e.m_Width_ButtonSet,e.m_Button_Set.active=!1,cc.tween(e.m_Panel_Set).to(.25,{position:cc.v3(e.m_Pos_PanelSet.x-e.m_Width_PanelSet,e.m_Pos_PanelSet.y,0)}).call(function(){e.m_Widget_PanelSet.right=0,e.m_Mask_Set.active=!0}).start()}).start()},t.prototype.onMaskClick=function(){var e=this;this.m_Panel_Set.active=!1,this.m_Pos_ButtonSet=this.m_Button_Set.getPosition(),this.m_Width_ButtonSet=this.m_Button_Set.getContentSize().width,this.m_Pos_PanelSet=this.m_Panel_Set.getPosition(),this.m_Width_PanelSet=this.m_Panel_Set.getContentSize().width,cc.tween(this.m_Panel_Set).to(.25,{position:cc.v3(this.m_Pos_PanelSet.x+this.m_Width_PanelSet,this.m_Pos_PanelSet.y,0)}).call(function(){e.m_Mask_Set.active=!1,e.m_Button_Set.active=!0,e.m_Widget_PanelSet.right=-e.m_Width_PanelSet,cc.tween(e.m_Button_Set).to(.25,{position:cc.v3(e.m_Pos_ButtonSet.x-e.m_Width_ButtonSet,e.m_Pos_ButtonSet.y,0)}).call(function(){e.m_Widget_m_ButtonSet.right=0}).start()}).start()},t.prototype.onSoundClick=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(!e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.InitSound=function(){var e=this.m_Logic.game.iGameBase.SMGlobal_GetOpenSE();this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEToggle(e),this.m_Toggle_SoundOn.active=e,this.m_Toggle_SoundOff.active=!e},t.prototype.showGamInfoPanel=function(){this.m_PanelRule.active=!0},t.prototype.hideGameInfo=function(){this.m_PanelRule.active=!1},t.prototype.GameInfoNextBtnClick=function(){this.m_gameInfoIndex+1<4&&(this.m_gameInfoIndex+=1),this.showGameInfoItem()},t.prototype.GameInfoPrevBtnClick=function(){this.m_gameInfoIndex-1>=0&&(this.m_gameInfoIndex-=1),this.showGameInfoItem()},t.prototype.showGameInfoItem=function(){for(var e=0;e<4;e++)this.m_gameInfoIndex==e?this.m_gameInfoImage[e].active=!0:this.m_gameInfoImage[e].active=!1},t.prototype.SetLineFAndItemAnimAct=function(e,t,i){switch(void 0===t&&(t=-1),void 0===i&&(i=0),e){case s.eSLM_HideAll:for(var o=0;o<this.m_list_gAnimItemShowing.length;o++)(S=this.m_list_gAnimItemShowing[o]).active=!1,S.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(S);for(o=0;o<this.m_list_gAnimItemBonusShowing.length;o++)(S=this.m_list_gAnimItemBonusShowing[o]).active=!1,this.m_dic_iqPreObj.get(_.ePO_Bouns).push(S);for(this.m_list_gAnimItemShowing=[],this.m_list_gAnimItemBonusShowing=[],o=0;o<this.m_list_ItemNormalImage.length;o++)this.m_list_ItemNormalImage[o].node.active=!0;this.m_list_ItemNormalImage=[];break;case s.eSLM_ShowAll:for(this.m_IBelowBar.setText_Lines("You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1)),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),o=0;o<this.m_list_PrizeInfos.length;o++)for(var a=this.m_list_PrizeInfos[o].line,m=this.m_list_PrizeInfos[o].ary_ilineFrom,n=0;n<m.length;n++)m[n]>-1&&this.ShowLineFAndItemAnim(n,m[n],a);for(o=0;o<this.m_list_ScatterInfos.length;o++)for(m=this.m_list_ScatterInfos[o].ary_ilineFrom,n=0;n<m.length;n++)m[n]>-1&&this.ShowLineFAndItemAnim(n,m[n],0);break;case s.eSLM_ShowAllGen:for(this.m_IBelowBar.setText_Lines("You won a total of "+this.m_Logic.game.iGameBase.getNum(i,!1)),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),o=0;o<this.m_list_PrizeInfos.length;o++)for(a=this.m_list_PrizeInfos[o].line,m=this.m_list_PrizeInfos[o].ary_ilineFrom,n=0;n<m.length;n++)m[n]>-1&&this.ShowLineFAndItemAnim(n,m[n],a);break;case s.eSLM_HideAllGen:for(o=0;o<this.m_list_gAnimItemShowing.length;o++)(S=this.m_list_gAnimItemShowing[o]).active=!1,S.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(S);for(this.m_list_gAnimItemShowing=[],o=0;o<this.m_list_ItemNormalImage.length;o++)this.m_list_ItemNormalImage[o].node.active=!0;this.m_list_ItemNormalImage=[];break;case s.eSLM_ShowSingle:if(-1==t)return;for(o=0;o<this.m_list_PrizeInfos.length;o++)if(this.m_list_PrizeInfos[o].line==t){var r=this.m_list_PrizeInfos[o],c=(a=r.line,m=r.ary_ilineFrom,r.point*this.m_Logic.m_DealBetRel.m_iBet);for(this.m_IBelowBar.setText_Lines("You won "+this.m_Logic.game.iGameBase.getNum(c,!1)+" on line "+(a+1).toString()),this.m_Logic.game.m_SoundSystem&&this.m_Logic.game.m_SoundSystem.SEPlay(l.eAudioName.Sound_Line,this.m_Logic.m_iSeatID,!1,!0),n=0;n<m.length;n++)m[n]>-1&&this.ShowLineFAndItemAnim(n,m[n],a);break}break;case s.eSLM_HideSingle:for(o=0;o<this.m_list_gAnimItemShowing.length;o++){var S;(S=this.m_list_gAnimItemShowing[o]).active=!1,S.getComponent(cc.Animation).stop(),this.m_dic_iqPreObj.get(_.ePO_ItemAnim).push(S)}for(this.m_list_gAnimItemShowing=[],o=0;o<this.m_list_ItemNormalImage.length;o++)this.m_list_ItemNormalImage[o].node.active=!0;this.m_list_ItemNormalImage=[];break;case s.eSLM_ShowFS:for(o=0;o<this.m_list_ScatterInfos.length;o++)for(m=this.m_list_ScatterInfos[o].ary_ilineFrom,n=0;n<m.length;n++)m[n]>-1&&this.ShowLineFAndItemAnim(n,m[n],0,!0);break;case s.eSLM_ShowFSOut:for(o=0;o<l.m_iItemCol;o++)for(n=0;n<l.m_iItemRow;n++)this.m_Logic.m_arys_ItemResult[o][n]==l.m_iItem_FREE&&this.ShowLineFAndItemAnim(o,n,0,!0)}},t.prototype.ShowLineFAndItemAnim=function(e,t,i,o){if(void 0===i&&(i=-1),void 0===o&&(o=!1),o){var a=this.GetPreObj(_.ePO_Bouns);return a.position=this.m_arys_VecItems[e][t],a.active=!0,a.getComponent(cc.Animation).play(),void this.m_list_gAnimItemBonusShowing.push(a)}var m=this.GetPreObj(_.ePO_ItemAnim),n=cc.find("Image_ItemAnim",m).getComponent(cc.Sprite);n.node.active=!1;var s=cc.find("Image_ItemAnim2",m);s.active=!1,m.position=this.m_arys_VecItems[e][t],n.spriteFrame=this.m_ary_SprItems[this.m_Logic.m_arys_ItemResult[e][t]],m.active=!0,this.m_Logic.m_arys_ItemResult[e][t]==l.m_iItem_WILD?(n.node.active=!1,s.active=!0,m.getComponent(cc.Animation).play("Anim_Item_bell")):(n.node.active=!0,s.active=!1,m.getComponent(cc.Animation).play("Anim_Item_0_11"));var r=this.m_Logic.m_DealItem.GetImage(e,t);r.node.active=!1,this.m_list_ItemNormalImage.push(r),this.m_list_gAnimItemShowing.push(m)},t.prototype.GetPreObj=function(e){var t=null;if(this.m_dic_iqPreObj.has(e))if(this.m_dic_iqPreObj.get(e).length>0)t=this.m_dic_iqPreObj.get(e).pop();else{var i=null;switch(e){case _.ePO_ItemAnim:(i=cc.instantiate(this.m_gItemAnim)).setParent(this.m_transItemAnimP);break;case _.ePO_LinesFra:break;case _.ePO_Bouns:(i=cc.instantiate(this.m_gBounsAnimPrefab)).setParent(this.m_transBounsAnimP)}(t=i).active=!1}return t},t.prototype.PlayWinSound=function(){var e;e=l.eAudioName.Sound_GameWinTrans;var t=null;return this.m_Logic.game.m_SoundSystem&&(t=this.m_Logic.game.m_SoundSystem.SEPlay(e,this.m_Logic.m_iSeatID,!0,!1)),t},t.prototype.ShowWinScoreAnim=function(e){void 0===e&&(e=0),0==e?this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():this.m_Logic.m_GameTypeCur==S.eGameTypeCur.eGTC_General&&(this.m_Logic.game.iGameBase.isNoWin()?cc.tween(this.m_transCreditNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start():cc.tween(this.m_transTotalWinNumP).to(.2,{scale:1.5}).to(.2,{scale:1}).start())},m([u],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./DataManager_FIREBALL":"DataManager_FIREBALL","./DealSpecial_FIREBALL":"DealSpecial_FIREBALL","./GameLogic_FIREBALL":"GameLogic_FIREBALL"}],GameLogic_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"7e33at3yxtKba0hrqJvQE9F","GameLogic_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.eBtnState=i.eGameState=i.eShowMode=i.eStartKey=i.ePrizeType=i.eGameTypeNext=i.eGameTypeCur=void 0;var m,n,_,s,r,l,c,S=e("./DataManager_FIREBALL"),h=e("./DataManager_FIREBALL"),u=e("./DealAutoTrans_FIREBALL");(function(e){e[e.eGTC_General=0]="eGTC_General",e[e.eGTC_FreeGame=1]="eGTC_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"})(m=i.eGameTypeCur||(i.eGameTypeCur={})),function(e){e[e.eGTN_General=0]="eGTN_General",e[e.eGTN_FreeGame=1]="eGTN_FreeGame",e[e.eGTN_SpecialGame=2]="eGTN_SpecialGame"}(n=i.eGameTypeNext||(i.eGameTypeNext={})),function(e){e[e.ePT_None=0]="ePT_None",e[e.ePT_General=1]="ePT_General",e[e.ePT_Small=2]="ePT_Small",e[e.ePT_Medium=3]="ePT_Medium",e[e.ePT_Big=4]="ePT_Big",e[e.ePT_AllAward=5]="ePT_AllAward"}(_=i.ePrizeType||(i.ePrizeType={})),function(e){e[e.eSK_None=0]="eSK_None",e[e.eSK_CanSpin=1]="eSK_CanSpin",e[e.eSK_StopAllItem=2]="eSK_StopAllItem",e[e.eSK_WinFSWaitPlay=3]="eSK_WinFSWaitPlay",e[e.eSK_WinSpecialWaitPlay=4]="eSK_WinSpecialWaitPlay"}(s=i.eStartKey||(i.eStartKey={})),function(e){e[e.eSM_None=-1]="eSM_None",e[e.eSM_Score=0]="eSM_Score",e[e.eSM_Money=1]="eSM_Money",e[e.Max=2]="Max"}(r=i.eShowMode||(i.eShowMode={})),function(e){e[e.eGS_None=0]="eGS_None",e[e.eGS_CanChangeBet=1]="eGS_CanChangeBet",e[e.eGS_Playing=2]="eGS_Playing",e[e.eGS_TransGameMode=3]="eGS_TransGameMode"}(l=i.eGameState||(i.eGameState={})),function(e){e[e.eBS_None=0]="eBS_None",e[e.eBS_GenIdle=1]="eBS_GenIdle",e[e.eBS_FSIdle=2]="eBS_FSIdle",e[e.eBS_Playing=3]="eBS_Playing",e[e.eBS_Auto=4]="eBS_Auto",e[e.eBS_Manual=5]="eBS_Manual",e[e.eBS_Trans=6]="eBS_Trans"}(c=i.eBtnState||(i.eBtnState={}));var p=function(e){function t(t,i){var o=e.call(this)||this;o.game=null,o.AwardLines=[],o.freeTimes=0,o.totalFreeTimes=0,o.allWinDouble=!1,o.freeTotalWinScore=0,o.iNextGameSpecialOdds=0,o.freeSpinAddTimes=0,o.m_JackpotsCur=[],o.currentWinScore=0,o.m_GameTypeCur=m.eGTC_General,o.m_GameTypeNext=n.eGTN_General,o.m_GameState=l.eGS_None,o.m_PrizeType=_.ePT_None,o.m_eStartKey=s.eSK_None,o.m_eShowMode=r.eSM_Money,o.m_iSeatID=0,o.m_iWinType=0,o.m_arys_ItemResult=new Array,o.m_bIsHasFSFromInit=!1,o.m_bIsBSNeedEnab=!1,o.m_bStartCtrl=!1,o.m_bIsIdle=!1,o.m_flgStart=!1,o.m_ary_dJackpot=new Array(h.m_iJackpotCount),o.m_GameMode=!1,o.m_arys_ItemResult_1=new Array,o.m_bIsHasSpecialFromInit=!1,o.m_iBetIndex=0,o.m_iBet=1,o.m_freeReels=[],o.m_bBegin=!1,o.isLeave=!1,o.isAccordStand=!1,o.mMarqueelist=[],o.m_bIsWinCJ=!1,o.m_Stage=t,o.m_iSeatID=i;for(var a=0;a<h.m_iItemCol;a++){o.m_arys_ItemResult[a]=[];for(var c=0;c<h.m_iItemRow;c++)o.m_arys_ItemResult[a][c]=0}for(a=0;a<h.m_iItemCol;a++)for(o.m_arys_ItemResult_1[a]=[],c=0;c<h.m_iItemRow1;c++)o.m_arys_ItemResult_1[a][c]=0;return o}return a(t,e),t.prototype.onBetFail=function(){},t.prototype.onJackpots=function(e){this.m_JackpotsCur=e,this.game.onJackpots(e)},t.prototype.updateChangeBet=function(e,t,i){this.SetBetIndex(i,e),this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_fTotalBet=t,this.m_DealBetRel.ShowAllData()},t.prototype.onGameScore=function(e){this.m_DealWinPro.m_dTotalWinScoreCur=Math.round(e),this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dTotalWinScoreCur:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.ShowTableScore()},t.prototype.onUserScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint=t},t.prototype.OnUpScore=function(e){var t=Math.round(e);this.m_DealWinPro.m_dUserPoint+=t,cc.log("====onUserScore\u4e0a\u5206\uff1a",e),this.m_DealWinPro.ShowUserPoint()},t.prototype.OnShowMarquee=function(){this.game.iGameBase.OnShowMarquee()},t.prototype.showInitResult=function(e){this.SetItemResult(e)},t.prototype.onTransScoreInfo=function(e,t){e?(this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur-t,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur,this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowUserPoint(),cc.log("====>>\u8f6c\u6362\u5206\u6570\u6210\u529f,\u5f53\u524d\u5269\u4f59\u8d62\u5206\uff1a"+this.m_DealWinPro.m_dTotalWinScoreCur+",\u5f53\u524d\u684c\u9762\u5206\uff1a"+this.m_DealWinPro.m_dTableScore)):cc.log("====>>\u8f6c\u6362\u5206\u6570\u5931\u8d25")},t.prototype.sendTransScore=function(e){this.game.iGameBase.sendTransScore(e)},t.prototype.onWinJackpot=function(e,t){this.m_bIsWinCJ=!0,this.m_DealWinPro.m_iJackpotId=e;var i=Math.round(100*t)/100;this.m_DealWinPro.m_dJackpotScore=i,this.m_DealWinPro.m_dTotalWinScoreCur=this.m_DealWinPro.m_dTotalWinScoreCur+100*i,cc.log("this.m_DealWinPro.m_dJackpotScore",this.m_DealWinPro.m_dJackpotScore)},t.prototype.onPayJackpot=function(){},t.prototype.onWaitBonus=function(e,t,i,o,a,m,n,_,s,r,l,c,S){cc.log("====onWaitBonus====="),this.m_DealWinPro.PlayFreeGame(e,t,i,o,a,m,s,r,l,c),this.m_freeReels=S},t.prototype.onWaitSpecial=function(e,t,i,o,a,m,n,_,s,r){cc.log("====onWaitSpecial====="),this.m_DealWinPro.PlaySpecialGame(e,t,i,o,a,m,n,_,s),this.m_freeReels=r},t.prototype.sendAskForBeginPayJackpot=function(){this.game.iGameBase.sendAskForBeginPayJackpot()},t.prototype.sendFinishPayJackpot=function(){this.m_bIsWinCJ=!1,this.game.iGameBase.sendFinishPayJackpot()},t.prototype.onGameMaxWinScore=function(){},t.prototype.onSelectCardLast=function(){},t.prototype.onSelectCard2=function(){},t.prototype.onSelectCard=function(){},t.prototype.UpdateGameSlot=function(){this.m_bStartCtrl&&(this.m_GameMode?this.m_DealItem1.UpdateState():this.m_DealItem.UpdateState(),this.m_bIsIdle&&this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Auto&&(this.m_GameTypeCur==m.eGTC_General?this.m_DealWinPro.m_dUserPoint>=this.m_DealBetRel.m_fTotalBet?(this.m_DealWinPro.m_IBelowBar.setText_Lines("Good Luck"),this.OnSpin()):(cc.log("===UpdateGameSlot----\u81ea\u52a8\u53d8\u6210\u624b\u52a8\uff01"),this.m_DealAutoTrans.IsAutoPlay(u.ePlayMode.ePM_Man),this.StartIdle(),this.game.iGameBase.ShowDonateMessage()):this.m_GameTypeCur==m.eGTC_FreeGame&&this.m_DealWinPro.M_bIsWinFSWaitPlayOver?(this.m_DealWinPro.m_IBelowBar.setText_Lines("Good Luck"),this.OnSpin()):this.m_GameTypeCur==m.eGTN_SpecialGame&&this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver&&(this.m_DealWinPro.m_IBelowBar.setText_Lines("Good Luck"),this.OnSpin())),this.m_GameMode?this.m_DealItem1.DealTransStop():this.m_DealItem.DealTransStop(),this.m_DealWinPro.MyUpdate())},t.prototype.OnKeyStartAction=function(){if(this.game.iGameBase.GetConnected())switch(this.m_eStartKey){case s.eSK_None:cc.log("eSK_None");break;case s.eSK_CanSpin:this.m_GameMode,this.OnManualSpin(),this.m_DealWinPro.ShowGameWin();break;case s.eSK_StopAllItem:this.m_GameMode?this.m_DealItem1.AllStopItem():this.m_DealItem.AllStopItem();break;case s.eSK_WinFSWaitPlay:this.m_DealWinPro.M_bIsWinFSWaitPlayOver=!0,this.m_eStartKey=s.eSK_None;break;case s.eSK_WinSpecialWaitPlay:this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver=!0,this.m_eStartKey=s.eSK_None;break;default:cc.log("default")}},t.prototype.OnManualSpin=function(){switch(this.m_GameState){case l.eGS_None:if(this.m_DealAutoTrans.m_ePlayMode!=u.ePlayMode.ePM_Man)return;break;case l.eGS_CanChangeBet:break;default:return}this.OnSpin()},t.prototype.OnSpin=function(){this.ChangeGameState(l.eGS_Playing)},t.prototype.ShowLottery=function(){switch(this.m_GameState){case l.eGS_Playing:this.m_DealItem.ResetParam(),this.m_DealWinPro.ShowLottery()}},t.prototype.StartIdle=function(){this.m_GameState=l.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0,this.m_GameTypeCur==m.eGTC_General?this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Man?(cc.log("eGTC_General---------StartIdle===eBS_GenIdle"),this.SetBtnState(c.eBS_GenIdle),this.m_GameState=l.eGS_CanChangeBet):this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Auto&&(cc.log("eGTC_General---------StartIdle===eBS_Auto"),this.SetBtnState(c.eBS_Auto)):this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Man&&(cc.log("eGTC_FreeGame---------StartIdle===eBS_Auto"),this.SetBtnState(c.eBS_Auto))},t.prototype.StartInitIdle=function(){this.m_GameTypeCur==m.eGTC_General?this.SetBtnState(c.eBS_GenIdle):this.SetBtnState(c.eBS_FSIdle),this.m_GameState=l.eGS_None,this.ChangeGameState(this.m_GameState),this.m_bIsIdle=!0},t.prototype.SetBtnState=function(e){switch(e){case c.eBS_None:break;case c.eBS_GenIdle:this.m_DealAutoTrans.SetBtnAutoSpinState(!1),this.m_DealBetRel.m_BtnBetAdd.interactable=!0,this.m_DealBetRel.m_BtnBetSub.interactable=!0,this.m_DealWinPro.m_BtnTransScore.interactable=!0;break;case c.eBS_FSIdle:this.m_DealAutoTrans.SetBtnAutoSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1;break;case c.eBS_Playing:this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Auto?(this.m_DealAutoTrans.m_BtnAutoSpin.node.active=!0,this.m_DealAutoTrans.m_BtnAutoSpin.interactable=!0):this.m_DealAutoTrans.SetBtnStopSpinState(!0),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1;break;case c.eBS_Auto:this.m_DealAutoTrans.SetBtnAutoSpinState(!1,!0);break;case c.eBS_Manual:break;case c.eBS_Trans:this.m_DealAutoTrans.SetBtnAutoSpinState(!0,!1),this.m_DealBetRel.m_BtnBetAdd.interactable=!1,this.m_DealBetRel.m_BtnBetSub.interactable=!1,this.m_DealWinPro.m_BtnTransScore.interactable=!1}},t.prototype.DataInit=function(e,t,i,o,a,m,_,s,r,l,c,S){if(2==a){this.showInitResult(S),this.SetItemSpecialResult(S),this.m_DealWinPro.m_DealSpecial.SetScatterData_1(this.m_arys_ItemResult_1);for(var u=0;u<h.m_iItemCol;u++)for(var p=0;p<h.m_iItemRow1;p++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][p]>0)this.m_arys_ItemResult_1[u][p]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[u][p];else{var d=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[u][p]=d}}else this.showInitResult(S);this.ResetParam(),this.SetBetIndex(e,t),this.m_DealBetRel.m_iBet=t,this.m_DealBetRel.m_iLines=i,this.m_DealWinPro.m_iBonusID=a,this.m_DealBetRel.m_fTotalBet=l,this.m_DealWinPro.m_dFSTotalWinScore=c,this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.m_GameTypeNext=0==a?n.eGTN_General:1==a?n.eGTN_FreeGame:n.eGTN_SpecialGame,this.m_GameTypeNext==n.eGTN_FreeGame?this.m_bIsHasFSFromInit=!0:this.m_GameTypeNext==n.eGTN_SpecialGame?this.m_bIsHasSpecialFromInit=!0:(this.m_bIsHasFSFromInit=!1,this.m_bIsHasSpecialFromInit=!1,this.m_DealWinPro.m_dFSTotalWinScore=0),this.m_DealWinPro.m_dWinScoreCur=0,this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowTableScore(),this.m_DealWinPro.ShowGameWin(),this.m_DealWinPro.ShowUserPoint(),this.m_GameTypeNext!=n.eGTN_SpecialGame?(this.m_DealWinPro.m_DealSpecial.CheckResult(),this.m_DealItem.SetAllItemResult(this.m_arys_ItemResult),this.m_DealItem.ShowInitResultSpr()):(this.m_DealItem.SetAllItemResult(this.m_arys_ItemResult),this.m_DealItem.ShowInitResultSpr()),this.game.iGameBase.EmitEvent("InitSceneComplete",null)},t.prototype.ResetParam=function(){},t.prototype.SetItemResult=function(e){for(var t=0;t<h.m_iItemCol;t++)for(var i=h.m_iItemRow;i<h.m_iItemRow1;i++){var o=e[t][i];this.m_arys_ItemResult[t][i-h.m_iItemRow]=this.TransitionItem(o)}this.SetRollEffData()},t.prototype.DataInitOk=function(){if(this.m_bIsHasFSFromInit)this.game.iGameBase.sendWaitBound();else if(this.m_bIsHasSpecialFromInit)this.game.iGameBase.sendWaitSpecial();else{switch(this.AddAction(),this.m_GameState){case l.eGS_Playing:}this.StartInitIdle(),this.m_GameTypeCur==m.eGTC_General&&this.game.m_SoundSystem&&this.game.m_SoundSystem.BGMPlay(S.eAudioName.BGM_Gen,!0),this.m_bStartCtrl=!0}},t.prototype.SetResult=function(e,t,i,o,a,m,_,s,r,l,c,S,h,u){if(this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealWinPro.m_iBonusID=o,this.m_iWinType=a,this.SetAllAwardsID(m),this.m_DealBetRel.m_fTotalBet=s,this.SetItemResult(S),this.SetPrizeInfos(h),this.SetScatterInfos(u),2==o){for(var p=0,d=this.m_DealWinPro.m_list_ScatterInfos,g=0;g<d.length;g++)p+=d[g].point*this.m_DealBetRel.m_iBet;r>=p?(this.m_DealWinPro.m_dWinScoreCur=r-p,r>p&&cc.log("\u7279\u6b8a\u6e38\u620f\u7b2c\u4e00\u5c40\uff1a\u4e2d\u5f69\u7ebf",r,p)):(this.m_DealWinPro.m_dWinScoreCur=r,cc.error("\u7279\u6b8a\u6e38\u620f\u7b2c\u4e00\u5c40\uff1a\u5206\u6570\u5f02\u5e38",r,p))}else this.m_DealWinPro.m_dWinScoreCur=r;this.m_DealWinPro.m_dUserPoint=this.m_DealWinPro.m_dUserPoint-this.m_DealBetRel.m_fTotalBet,this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.m_GameTypeNext=0==o?n.eGTN_General:1==o?n.eGTN_FreeGame:n.eGTN_SpecialGame,this.m_DealBetRel.ShowAllData(),this.m_DealWinPro.ShowUserPoint(),this.SetWinTypeData(),this.m_DealItem.m_bIsGetResult=!0},t.prototype.SetAllAwardsID=function(e){2==this.m_iWinType?this.m_DealWinPro.m_iAllAwardsID=e>=18?e-2:e>=9?e-9:0==e?h.m_iItem_WILD:2==e?S.m_iItem_FREE:-1:this.m_DealWinPro.m_iAllAwardsID=-1},t.prototype.SetPrizeInfos=function(e){this.m_DealWinPro.m_list_PrizeInfos=[];for(var t=e.length,i=0;i<t;i++){var o=e[i].id,a={id:o=this.TransitionItem(o),line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_PrizeInfos.push(a)}},t.prototype.SetScatterInfos=function(e){this.m_DealWinPro.m_list_ScatterInfos=[];for(var t=e.length,i=0;i<t;i++){var o=e[i].id,a={id:o=this.TransitionItem(o),line:e[i].line,dir:e[i].dir,num:e[i].num,point:Math.round(e[i].point),ary_ilineFrom:e[i].lineFrom};this.m_DealWinPro.m_list_ScatterInfos.push(a)}},t.prototype.WaitFreeGameSelect=function(){if(this.m_bIsHasFSFromInit)return this.m_bIsHasFSFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.SetBonusResult=function(e,t,i,o,a,m,_,s,r,l,c,S,h,u,p){this.m_DealWinPro.m_iBonusID=e,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=a,this.m_DealWinPro.m_iFSCountUesed=m,this.m_DealWinPro.m_iFSCountAdd=_,this.m_DealWinPro.m_iNextGameSpecialOdds=s,this.m_DealWinPro.m_dWinScoreCur=l,this.m_DealWinPro.m_dFSTotalWinScore=c,this.m_DealWinPro.m_dTotalWinScoreCur+=this.m_DealWinPro.m_dWinScoreCur,0==e&&(this.game.iGameBase.isNoWin()||(this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur)),this.SetItemResult(h),this.SetPrizeInfos(u),this.SetScatterInfos(p),this.m_GameTypeNext=0==this.m_DealWinPro.m_iBonusID?n.eGTN_General:n.eGTN_FreeGame,this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealWinPro.ShowUserPoint(),this.m_DealItem.m_bIsGetResult=!0},t.prototype.ChangeBetResult=function(e,t,i){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData()},t.prototype.ChangeBetPctResult=function(e,t,i,o){this.m_DealBetRel.m_iLines=t,this.m_DealBetRel.m_fTotalBet=i,this.m_DealBetRel.ShowAllData(),this.SetUserScore(o)},t.prototype.ChangeBetReleResult=function(e,t,i,o,a){this.m_DealBetRel.m_iBet=e,this.m_DealBetRel.m_iLines=i,this.m_DealBetRel.m_fTotalBet=o,this.m_DealBetRel.ShowAllData(),this.SetUserScore(a)},t.prototype.SetUserScore=function(e){var t=e-this.m_DealWinPro.m_dUserPoint;this.m_DealWinPro.m_dUserPoint=e,this.m_DealWinPro.UpdateTableScore(t)},t.prototype.SoundVolResult=function(){},t.prototype.SetWinTypeData=function(){this.m_GameTypeCur==m.eGTC_FreeGame?this.m_PrizeType=_.ePT_Medium:this.SetPrizeType1(this.m_DealWinPro.m_dWinScoreCur)},t.prototype.SetPrizeType=function(){this.m_PrizeType=_.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=_.ePT_AllAward:this.BInTheAward(10,30,!0)?this.m_PrizeType=_.ePT_Medium:this.BInTheAward(5,10)?this.m_PrizeType=_.ePT_Small:this.BInTheAward(30)?this.m_PrizeType=_.ePT_Big:this.m_DealWinPro.m_dWinScoreCur>0&&(this.m_PrizeType=_.ePT_General)},t.prototype.BInTheAward=function(e,t,i){if(void 0===t&&(t=Number.MAX_VALUE),void 0===i&&(i=!1),i&&this.m_GameTypeCur==m.eGTC_FreeGame)return!0;var o=this.m_DealBetRel.m_fTotalBet;return this.m_DealWinPro.m_dWinScoreCur>=e*o&&this.m_DealWinPro.m_dWinScoreCur<t*o},t.prototype.SetPrizeType1=function(e){this.m_PrizeType=_.ePT_None,-1!=this.m_DealWinPro.m_iAllAwardsID?this.m_PrizeType=_.ePT_AllAward:this.BInTheAward1(e,10,30)?this.m_PrizeType=_.ePT_Medium:this.BInTheAward1(e,5,10)?this.m_PrizeType=_.ePT_Small:this.BInTheAward1(e,30)?this.m_PrizeType=_.ePT_Big:e>0&&(this.m_PrizeType=_.ePT_General)},t.prototype.BInTheAward1=function(e,t,i){void 0===i&&(i=Number.MAX_VALUE);var o=this.m_DealBetRel.m_fTotalBet;return e>=t*o&&e<i*o},t.prototype.AddAction=function(){this.m_ActOnKeyStop4=this.m_DealBetRel.SubBet,this.m_ActOnKeyStop5=this.m_DealBetRel.AddBet,this.m_ActOnKeyStart=this.OnKeyStartAction,this.m_ActOnKeyAuto=this.m_DealAutoTrans.OnAutoBtn,this.m_ActOnKeyMaxBet=this.m_DealBetRel.MaxBet},t.prototype.RemoveAction=function(){this.m_ActOnKeyStop4=null,this.m_ActOnKeyStop5=null,this.m_ActOnKeyStart=null,this.m_ActOnKeyAuto=null,this.m_ActOnKeyMaxBet=null},t.prototype.ChangeGameState=function(e){switch(e){case l.eGS_None:this.IdleRest();break;case l.eGS_Playing:switch(this.m_GameTypeNext){case n.eGTN_General:if(this.m_DealWinPro.m_dUserPoint<this.m_DealBetRel.m_fTotalBet)return cc.log("====ChangeGameState====eGS_Playing \u5206\u4e0d\u591f"),void this.game.iGameBase.ShowDonateMessage();break;case n.eGTN_FreeGame:this.m_DealWinPro.m_iFSCountUesed+=1,this.m_DealWinPro.ShowFSTimesUsed();break;case n.eGTN_SpecialGame:this.m_DealWinPro.m_DealSpecial.m_totalTime-=1,this.m_DealWinPro.m_DealSpecial.ShowSpecialTimesUsed()}this.m_bIsIdle=!1,this.m_GameState=l.eGS_Playing,this.SetPlayingData()}},t.prototype.IdleRest=function(){this.m_eStartKey=s.eSK_CanSpin},t.prototype.SetPlayingData=function(){switch(this.SetBtnState(c.eBS_Playing),this.m_GameTypeNext){case n.eGTN_General:case n.eGTN_FreeGame:case n.eGTN_SpecialGame:this.game.iGameBase.sendRun()}this.m_eStartKey=s.eSK_StopAllItem,this.m_DealWinPro.m_IBelowBar.setText_Lines("Good Luck")},t.prototype.OnClickBtn=function(e){if(this.m_bStartCtrl)switch(e.name){case"Button_ToLobby":cc.log("===Button_ToLobby==="),this.isLeave=!0,this.game.iGameBase.onBtnLeaveGame(),this.m_DealWinPro.onDestroy();break;case"Button_RuleClose":this.m_DealWinPro.hideGameInfo();break;case"Button_Rule":this.m_DealWinPro.showGamInfoPanel(),this.m_DealWinPro.onMaskClick();break;case"Button_RuleInfo":this.m_DealWinPro.showGamInfoPanel();break;case"Button_Sound":cc.log("\u58f0\u97f3\u5f00\u5173"),this.game.iGameBase.SMGlobal_SoundClick(this.m_DealWinPro.m_Toggle_SoundOn,this.m_DealWinPro.m_Toggle_SoundOff);break;case"Mask_Set":this.m_DealWinPro.onMaskClick();break;case"Button_Set":this.m_DealWinPro.onSetClick();break;case"Button_Spin":if(!this.game.iGameBase.GetConnected())return void this.game.iGameBase.onBtnLeaveGame();this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==m.eGTC_General?(this.game.m_SoundSystem&&this.game.m_SoundSystem.SEPlay(S.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.OnKeyStartAction()):(this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver)&&this.m_DealAutoTrans.SetMan2AutoSpin();break;case"Button_Stop":this.m_DealWinPro.GetWinFast(),this.m_eStartKey==s.eSK_StopAllItem&&this.OnKeyStartAction();break;case"Button_BetAdd":cc.log("******\u62bc\u5206\u52a0*******"),this.game.m_SoundSystem&&this.game.m_SoundSystem.SEPlay(S.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.game.iGameBase.sendChangeBet(1);break;case"Button_BetSub":cc.log("******\u62bc\u5206\u51cf*******"),this.game.m_SoundSystem&&this.game.m_SoundSystem.SEPlay(S.eAudioName.Sound_Bed,this.m_iSeatID,!1,!1),this.game.iGameBase.sendChangeBet(-1);break;case"Button_Auto":if(!this.game.iGameBase.GetConnected())return void this.game.iGameBase.onBtnLeaveGame();if(this.m_DealWinPro.GetWinFast(),this.m_GameTypeCur==m.eGTC_General)if(this.m_DealWinPro.ShowGameWin(),this.PlayBtnAudio(),this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Man){if(this.m_eStartKey!=s.eSK_CanSpin)return;this.game.m_SoundSystem&&this.game.m_SoundSystem.SEPlay(S.eAudioName.Sound_Auto2Man,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(u.ePlayMode.ePM_Auto)}else this.m_DealAutoTrans.m_ePlayMode==u.ePlayMode.ePM_Auto&&(this.game.m_SoundSystem&&this.game.m_SoundSystem.SEPlay(S.eAudioName.Sound_Spin,this.m_iSeatID,!1,!1),this.m_DealAutoTrans.IsAutoPlay(u.ePlayMode.ePM_Man),this.m_GameState==l.eGS_Playing?this.SetBtnState(c.eBS_Playing):this.SetBtnState(c.eBS_GenIdle));else(this.m_DealWinPro.M_bIsWinFSWaitPlayOver||this.m_DealWinPro.M_bIsWinSpecialWaitPlayOver)&&this.m_DealAutoTrans.SetMan2AutoSpin();break;case"Button_StopAuto":break;case"Button_TransScore":this.game.iGameBase.ShowDona();break;case"Button_RuleRight":this.m_DealWinPro.GameInfoNextBtnClick();break;case"Button_RuleLeft":this.m_DealWinPro.GameInfoPrevBtnClick();break;case"Button_Exit":this.game.iGameBase.onBtnLeaveGame()}},t.prototype.PlayBtnAudio=function(){},t.prototype.Final=function(){cc.error("====="),this.RemoveAction(),this.m_bStartCtrl=!1,this.m_DealItem&&this.m_DealItem.Final(),this.m_DealItem1&&this.m_DealItem1.Final()},t.prototype.SetStartWaitPlay=function(){this.m_eStartKey!=s.eSK_WinFSWaitPlay&&this.m_eStartKey!=s.eSK_WinSpecialWaitPlay||this.OnKeyStartAction()},t.prototype.InitSpecialItemResult=function(e){this.m_DealWinPro.m_DealSpecial.SetScatterData(e);for(var t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow1;i++)if(this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i]>0)this.m_arys_ItemResult_1[t][i]=this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[t][i];else{var o=this.game.iGameBase.SMGlobal_Random(0,8);this.m_arys_ItemResult_1[t][i]=o}},t.prototype.SetSpecialResult=function(e,t,i,o,a,m,_,s,r,l,c,S,h){this.m_DealWinPro.m_iBonusID=e,this.m_DealWinPro.m_DealSpecial.m_totalTime=a,this.m_iWinType=t,this.SetAllAwardsID(i),this.m_DealWinPro.m_iFSCountTotal=a,this.m_DealWinPro.m_iFSCountUesed=m,this.m_DealWinPro.m_iFSCountAdd=_,this.m_DealWinPro.m_dFSTotalWinScore=r,this.m_DealWinPro.m_dWinScoreCur=s,0==e&&(cc.error("\u7279\u6b8a\u7ed3\u7b97winning\u5206\u6570:"+this.m_DealWinPro.m_dTotalWinScoreCur),this.m_DealWinPro.m_dTotalWinScoreCur+=r,this.game.iGameBase.isNoWin()?this.m_DealWinPro.m_dUserPoint+=r:this.m_DealWinPro.m_dTableScore=this.m_DealWinPro.m_dTotalWinScoreCur),this.SetItemSpecialResult(c),this.FixSpecialItemResult(),this.SetPrizeInfos(S),this.SetScatterInfos(h),0==e?this.m_GameTypeNext=n.eGTN_General:1==e?this.m_GameTypeNext=n.eGTN_FreeGame:2==e&&(this.m_GameTypeNext=n.eGTN_SpecialGame),this.m_DealWinPro.m_iFSCountLave=this.m_DealWinPro.m_iFSCountTotal-this.m_DealWinPro.m_iFSCountUesed,this.SetWinTypeData(),this.m_DealItem1.m_bIsGetResult=!0},t.prototype.SetItemSpecialResult=function(e){for(var t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow1;i++){var o=e[t][i];this.m_arys_ItemResult_1[t][i]=this.TransitionItem(o)}},t.prototype.ShowLottery_Special=function(){switch(this.game.m_SoundSystem&&this.game.m_SoundSystem.SEStop(this.m_DealItem1.m_SoundSpin,this.m_iSeatID),this.m_GameState){case l.eGS_Playing:this.m_DealItem1.ResetParam(),this.m_DealWinPro.ShowLottery_Special()}},t.prototype.WaitSpecialGameSelect=function(){if(this.m_bIsHasSpecialFromInit)return this.m_bIsHasSpecialFromInit=!1,void this.DataInitOk();this.StartInitIdle()},t.prototype.SetBetIndex=function(e,t){this.m_iBetIndex=e,this.m_iBet=t,this.m_DealItem.SetIBet(this.m_iBet),this.m_DealItem1.SetIBet(this.m_iBet)},t.prototype.WaitGenGameSelect=function(){this.StartInitIdle()},t.prototype.SetTransMode=function(){this.m_GameState=l.eGS_TransGameMode,this.SetBtnState(c.eBS_Trans),this.m_DealAutoTrans.SetAuto2ManSpin()},t.prototype.SetRollEffData=function(){this.m_DealItem.m_list_iColCanShowRollEff=[];for(var e=new Array,t=0;t<h.m_iItemCol;t++)for(var i=0;i<h.m_iItemRow;i++)if(this.m_arys_ItemResult[t][i]==S.m_iItem_FREE){e.push(t);break}if(e.length>0){var o=1;for(i=0;i<e.length&&e[i]==o;i++)this.m_DealItem.m_list_iColCanShowRollEff.push(o),o++}},t.prototype.FixSpecialItemResult=function(){for(var e=0;e<h.m_iItemCol;e++)for(var t=0;t<h.m_iItemRow1;t++)this.m_DealWinPro.m_DealSpecial.m_arys_Scatter[e][t]>0&&(this.m_arys_ItemResult_1[e][t]=this.GetNormalResult())},t.prototype.TransitionItem=function(e){var t=0;return e>=18?t=e-3:e>=9?t=e-9:0==e?t=h.m_iItem_WILD:2==e?t=S.m_iItem_FREE:3==e?t=h.m_iItem_Jackpot0:4==e?t=h.m_iItem_Jackpot1:5==e?t=h.m_iItem_Jackpot2:6==e&&(t=h.m_iItem_Jackpot3),t},t.prototype.GetNormalResult=function(){return this.game.iGameBase.SMGlobal_Random(0,8)},t.prototype.IsIconSpecial=function(e){var t=!1;return e>=h.m_iItem_FireBegain&&(t=!0),t},t.prototype.IsIconJackpot=function(e){var t=!1;return e>=h.m_iItem_Jackpot0&&e<=h.m_iItem_Jackpot3&&(t=!0),t},t.prototype.IsIconSpecialJackpot=function(e){var t=!1;return e>=h.m_iItem_FireBegain?t=!0:e>=h.m_iItem_Jackpot0&&e<=h.m_iItem_Jackpot3&&(t=!0),t},t.prototype.onEnterBackground=function(){this.m_DealAutoTrans&&this.m_DealAutoTrans.SetAuto2ManSpin(),null!=this.game.iGameBase&&this.game.iGameBase.GetConnected()||this.m_DealWinPro.onDestroy()},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),this.m_DealItem.onDestroy()},t.prototype.getWinScore=function(){return this.m_DealWinPro.m_dTotalWinScoreCur},t}(cc.Component);i.default=p,cc._RF.pop()},{"./DataManager_FIREBALL":"DataManager_FIREBALL","./DealAutoTrans_FIREBALL":"DealAutoTrans_FIREBALL"}],Game_FIREBALL:[function(e,t,i){"use strict";cc._RF.push(t,"dedeammJLZBZYlwsne8aLoz","Game_FIREBALL");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=this&&this.__decorate||function(e,t,i,o){var a,m=arguments.length,n=m<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var _=e.length-1;_>=0;_--)(a=e[_])&&(n=(m<3?a(n):m>3?a(t,i,n):a(t,i))||n);return m>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0}),i.AssetType=void 0;var n,_=e("./DataManager_FIREBALL"),s=e("./DealAutoTrans_FIREBALL"),r=e("./DealBetRelevant_FIREBALL"),l=e("./DealItemRelevant_FIREBALL"),c=e("./DealWinProcess_FIREBALL"),S=e("./GameLogic_FIREBALL"),h=cc._decorator,u=h.ccclass;h.property,function(e){e[e.AT_SpriteFrame=0]="AT_SpriteFrame",e[e.AT_SpriteAtlas=1]="AT_SpriteAtlas",e[e.AT_Prefab=2]="AT_Prefab",e[e.AT_AudioClip=3]="AT_AudioClip"}(n=i.AssetType||(i.AssetType={}));var p=function(e){function t(){var t=e.call(this)||this;return t.handlerPriority=2,t.handlerName="SLOT_FIREBALL",t.scriptName="Game_FIREBALL",t.handlerComName="SLOST_COMMON",t.mUrl="http://10.10.0.186:80/web-mobile/assets/",t.m_bIsStartUpdate=!1,t.m_SoundSystem=null,t.sceneRate=1,t.GameLogic=new S.default(t,0),t.GameLogic.game=t,t}return a(t,e),t.prototype.setIGameBase=function(e){this.iGameBase=e,this.SetGameObject(),this.iGameBase.setMyGameLogic(this.GameLogic,this.iGameBase.GetKindID()),this.iGameBase.CommonUI_RootNode(this.node),this.SetSound(),this.m_bIsStartUpdate=!0,this.GameLogic.isAccordStand=!1,this.GameLogic.m_DealWinPro.ShowID(this.iGameBase.getUserID()),this.iGameBase.setOrientation("V")},t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.update=function(){this.StageUpdate()},t.prototype.onDestroy=function(){cc.error("onDestroy FIREBALL==>>5567"),this.iGameBase.RemoveHandler(),this.unscheduleAllCallbacks(),this.GameLogic.isLeave&&null!=this.iGameBase&&this.iGameBase.GetConnected()||this.GameLogic.m_DealWinPro.onDestroy(),this.m_SoundSystem&&(this.m_SoundSystem.ClearAllSound(),this.m_SoundSystem=null),this.GameLogic&&(cc.error("onDestroy FIREBALL==>>5568"),this.GameLogic.Final(),cc.error("onDestroy FIREBALL==>>5569"),this.GameLogic=null),this.iGameBase&&this.iGameBase.releaseGameRes()},t.prototype.onJackpots=function(e){this.GameLogic.m_DealWinPro.m_ITopBar&&this.GameLogic.m_DealWinPro.m_ITopBar.onJackpots(e)},t.prototype.SetGameObject=function(){cc.log("===SetGameObject ==>>>>00000");for(var e,t,i,o,a,m,S,h,u,p,d,g,I,f,y,P,L,G,T,A,B,D,W,C,R,v,F,w,b,N,M,E,O,k,x,K,j,U,J,z,q,H,V,Y,X,Z,Q,$,ee,te,ie,oe,ae,me,ne,_e,se,re,le,ce,Se,he,ue,pe,de,ge,Ie,fe,ye,Pe,Le,Ge,Te,Ae,Be,De,We,Ce=null,Re=new Array,ve=new Array(_.m_iLinesCount),Fe=new Array,we=new Array,be=Array(),Ne=new Array(_.m_iItemRow),Me=new Array(2),Ee=[],Oe=new Array,ke=new Array,xe=[],Ke=new Array,je=new Array(4),Ue=new Array(16),Je=new Array(4),ze=new Array(4),qe=[],He=null,Ve=null,Ye=null,Xe=[],Ze=null,Qe=null,$e=null,et=null,tt=[],it=new Array(_.m_iItemResCount-1),ot=new Array(2),at=new Array(10),mt=new Array(12),nt=new Array(12),_t=new Array(12),st=new Array(12),rt=new Array(12),lt=(new Array(12),new Array(13)),ct=new Array(13),St=new Array(4),ht=new Array(12),ut=new Map,pt=new Array(4),dt=[],gt=new Array(12),It=(this.GetGameAsset1("Res/Texure/Num/NumberWhite",n.AT_SpriteAtlas),this.GetGameAsset1("Res/Texure/Special/Tips_Special",n.AT_SpriteAtlas),this.GetGameAsset1("Res/Texure/Num/NumberOrange",n.AT_SpriteAtlas)),ft=0;ft<at.length;ft++)at[ft]=It.getSpriteFrame("NumberOrange_"+ft);var yt=this.GetGameAsset1("Res/Texure/Num/NumberYellow",n.AT_SpriteAtlas);for(ft=0;ft<mt.length;ft++)nt[ft]=yt.getSpriteFrame("NumberYellow_"+ft),st[ft]=yt.getSpriteFrame("NumberYellow_"+ft);var Pt=this.GetGameAsset1("Res/Texure/Num/NumberYellow1",n.AT_SpriteAtlas);for(ft=0;ft<gt.length;ft++)gt[ft]=Pt.getSpriteFrame("NumberYellow1_"+ft),_t[ft]=Pt.getSpriteFrame("NumberYellow1_"+ft),rt[ft]=Pt.getSpriteFrame("NumberYellow1_"+ft);for(ft=0;ft<Ue.length;ft++)Ue[ft]=Pt.getSpriteFrame("NumberYellow1_"+ft);var Lt=this.GetGameAsset1("Res/Texure/Jcakpot/Font_0",n.AT_SpriteAtlas);for(ft=0;ft<ct.length;ft++)ct[ft]=Lt.getSpriteFrame("Font_0_"+ft);var Gt=this.GetGameAsset1("Res/Texure/Jcakpot/Jcakpot",n.AT_SpriteAtlas);for(ft=0;ft<St.length;ft++)St[ft]=Gt.getSpriteFrame("JackpotTitle_"+ft);var Tt=this.GetGameAsset1("Res/Texure/Num/NumberBlue1",n.AT_SpriteAtlas);for(ft=0;ft<ht.length;ft++)ht[ft]=Tt.getSpriteFrame("NumberBlue1_"+ft);var At=this.GetGameAsset1("Res/Texure/Num/NumberSpinLeft",n.AT_SpriteAtlas);for(ft=0;ft<pt.length;ft++)pt[ft]=At.getSpriteFrame("NumberSpinLeft_"+ft);for(ft=0;ft<ze.length;ft++)ze[ft]=At.getSpriteFrame("Tips_"+ft);cc.error("======>\u5f00\u59cb==>22");var Bt=this.GetGameAsset1("Res/Prefab/Panel_TopV",n.AT_Prefab),Dt=this.GetGameAsset1("Res/Prefab/Panel_BelowV",n.AT_Prefab),Wt=this.GetGameAsset1("Res/Prefab/Panel_SpecialSpinPar",n.AT_Prefab),Ct=this.GetGameAsset1("Res/Prefab/Panel_Lock",n.AT_Prefab),Rt=this.GetGameAsset1("Res/Prefab/Panel_Effect",n.AT_Prefab),vt=(this.GetGameAsset1("Res/Prefab/Panel_TransScoreV",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Panel_SettingV",n.AT_Prefab)),Ft=this.GetGameAsset1("Res/Prefab/Panel_BelowRule",n.AT_Prefab),wt=this.GetGameAsset1("Res/Prefab/Panel_LoadingV",n.AT_Prefab);X=this.GetGameAsset1("Res/Prefab/Prefab_NumLock",n.AT_Prefab),Ge=this.GetGameAsset1("Res/Prefab/Prefab_Num",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Prefab_NumGameWin",n.AT_Prefab),Te=this.GetGameAsset1("Res/Prefab/Prefab_NumFreeSpinTime",n.AT_Prefab),this.GetGameAsset1("Res/Prefab/Prefab_NumCJ",n.AT_Prefab),We=this.GetGameAsset("Res/Prefab/Prefab_NumItem",n.AT_Prefab);var bt=this.GetGameAsset("Res/Prefab/Panel_Rule",n.AT_Prefab);Ae=this.GetGameAsset("Res/Prefab/StartSpecialGameAnim",n.AT_Prefab),K=this.GetGameAsset("Res/Prefab/Prefab_ScatterItemAnim",n.AT_Prefab),Be=this.GetGameAsset("Res/Prefab/Prefab_ItemAnim",n.AT_Prefab),De=this.GetGameAsset("Res/Prefab/Prefab_BonusAnim",n.AT_Prefab);var Nt,Mt=this.GetGameAsset("Res/Texure/Icon",n.AT_SpriteAtlas);for(ft=0;ft<=_.m_iItemResCount;ft++)it[ft]=29!=ft?Mt.getSpriteFrame("Item_0_"+ft):this.GetGameAsset("Res/Texure/Item_0_"+ft,n.AT_SpriteFrame);for(ft=0;ft<Me.length;ft++)Me[ft]=this.GetGameAsset("Res/Texure/BG"+ft,n.AT_SpriteFrame);for(ft=0;ft<ot.length;ft++)ot[ft]=this.GetGameAsset("Res/Texure/ItemPanel_"+ft,n.AT_SpriteFrame);ut.set(10,"."),ut.set(11,","),ut.set(12,":"),ut.set(13,"$"),ut.set(14,"k"),ut.set(15,"m");var Et=cc.find("GamePlay",this.node.parent),Ot=this.GetGameAsset1("Res/Texure/Special/Special",n.AT_SpriteAtlas),kt=this.GetGameAsset1("Res/Texure/UI",n.AT_SpriteAtlas);Nt=cc.find("Panel_Baground",Et),a=cc.find("Image_Baground",Nt).getComponent(cc.Sprite),h=cc.find("BGFireBall",Nt);var xt=this.GetGameAsset("Res/Prefab/BGFireBall",n.AT_Prefab);(h=cc.instantiate(xt)).setParent(a.node);var Kt=cc.find("ImageFIreBall/880_Fireball",h).getComponent(cc.Sprite),jt=cc.find("ImageFIreBall_3/880_Fireball",h).getComponent(cc.Sprite),Ut=cc.find("ImageFIreBall_4/880_Fireball",h).getComponent(cc.Sprite),Jt=cc.find("ImageFIreBall_5/880_Fireball",h).getComponent(cc.Sprite);for(Kt.spriteFrame=Ot.getSpriteFrame("880_Fireball"),jt.spriteFrame=Ot.getSpriteFrame("880_Fireball"),Ut.spriteFrame=Ot.getSpriteFrame("880_Fireball"),Jt.spriteFrame=Ot.getSpriteFrame("880_Fireball"),(m=cc.find("ImageLogo",Nt)).getComponent(cc.Sprite).spriteFrame=kt.getSpriteFrame("Logo"),(Ce=cc.instantiate(Bt)).setParent(Et),i=cc.director.getScene().getComponentInChildren("TopBarV"),Se=cc.find("Image_BGCredit/Panel_NumPar",Ce),e=cc.find("Button_TransScore",Ce).getComponent(cc.Button),this.SetBtnEvent(e,!this.iGameBase.isNoWin(),!0),t=cc.find("Button_Exit",Ce).getComponent(cc.Button),this.SetBtnEvent(t,!0,!0),he=cc.find("Image_BGWin/Panel_NumPar",Ce),C=cc.find("GamePlay/Panel_Middle",this.node.parent),S=cc.find("Panel_Trans",C).getComponent(cc.Sprite),Nt=cc.find("Panel_TransItems",S.node),ft=0;ft<_.m_iItemCol;ft++){var zt=cc.find("SlogCol_"+ft,Nt);Re[ft]=[],Oe[ft]=[],dt[ft]=[];for(var qt=0;qt<_.m_iItemRow+2;qt++){Re[ft][qt]=cc.find("SlotItem_"+qt,zt).getComponent(cc.Sprite);var Ht=cc.find("Panel_NumPar",Re[ft][qt].node);dt[ft][qt]=this.iGameBase.NewShowNum(Ht,We,gt,ut,!0,!0),qt>0&&qt<_.m_iItemRow+1&&((Vt=Re[ft][qt].node.position).x=zt.position.x,Oe[ft][_.m_iItemRow-qt]=Vt)}}for(I=cc.find("Image_Mask",C),w=cc.find("Panel_TransAnim/Panel_ItemAnim",C),b=cc.find("Panel_TransAnim/Panel_ItemAnim_Bonus",C),u=cc.find("Panel_Tips",C),d=cc.find("Panel_Effect/particle_coin",C),g=cc.find("Panel_Effect/BigWinEffect",C).getComponent(cc.Animation),f=cc.find("Panel_FreeSpinPar",C),P=cc.find("Panel_IntoFreeSpin",f),L=cc.find("Panel_AddFreeSpin",f),G=cc.find("Panel_AddFSTimesNumPar",L),T=cc.find("Panel_OutFreeSpin",f),y=cc.find("Panel_FSTimesUsed",f),A=cc.find("Panel_FSTimesUsedNumPar",y),B=cc.find("Panel_FSTimesTotalNumPar",y),D=cc.find("Panel_Win/Panel_FSTotalWinNumPar",y),W=cc.find("Panel_Win/Tips",y),R=cc.find("Panel_InfoAnim",f),v=cc.find("Panel_InfoAnim/BGInfo_0",f),F=cc.find("Panel_InfoAnim/BG0",f),x=cc.find("GamePlay/Panel_Middle_1",this.node.parent),E=cc.find("Panel_Trans_1",x).getComponent(cc.Sprite),N=cc.find("Panel_TransItems",E.node),ft=0;ft<_.m_iItemCol;ft++)for(zt=cc.find("SlogCol_"+ft,N),ke[ft]=[],Ke[ft]=[],xe[ft]=[],qt=0;qt<_.m_iItemRow1+2;qt++){var Vt;ke[ft][qt]=cc.find("SlotItem_"+qt,zt).getComponent(cc.Sprite),Ht=cc.find("Panel_NumPar",ke[ft][qt].node),xe[ft][qt]=this.iGameBase.NewShowNum(Ht,We,gt,ut,!0,!0),qt>0&&qt<_.m_iItemRow1+1&&((Vt=ke[ft][qt].node.position).x=zt.position.x,Ke[ft][_.m_iItemRow1-qt]=Vt)}for(O=cc.find("Image_Mask_1",x),M=cc.find("Panel_TransAnim_1",x),k=cc.find("Panel_TransAnim",M),(H=cc.instantiate(Wt)).setParent(x),$=cc.find("Panel_TimesUsedSpecial",H),j=cc.find("Tips",$).getComponent(cc.Sprite),(Ye=cc.instantiate(Ct)).setParent($),ft=0;ft<je.length;ft++)je[ft]=cc.find("Panel_LockLine_"+ft,Ye),Je[ft]=cc.find("Lock/Panel_NumPar",je[ft]);for(q=cc.find("Panel_IntoSpecial",H),z=cc.find("Panel_OutSpecial",H),V=cc.find("Panel_WinSpecial",z),U=cc.find("Panel_NumPar",V),J=cc.find("Tips_End",z),Y=cc.find("Panel_WinScoreAnim",z),ft=0;ft<_.m_WinCount;ft++)qe.push(cc.find("Panel_WinScoreAnim2/Anim_"+ft,z)),qe[ft].active=!1;for(Z=cc.find("Panel_TransEndEffect",x),Q=cc.find("FireBallLight",Z),He=cc.find("FireBallLight/fireBallMask",Z),Ve=cc.find("fireBall",Z),ft=0;ft<_.m_iJackpotCount;ft++)Ee.push(cc.find("JackpotTiles/Tile_"+ft,V)),Ee[ft].active=!1;for(ee=cc.find("Panel_Effect",$),ft=0;ft<4;ft++)Xe.push(cc.find("effect_"+ft,ee).getComponent(cc.ParticleSystem)),Xe[ft].node.active=!1;(Nt=cc.instantiate(Rt)).setParent(x);var Yt=cc.instantiate(Dt);Yt.setParent(Et),o=cc.director.getScene().getComponentInChildren("BelowBarV");var Xt=cc.find("GamePlay/Panel_Page",this.node.parent);(Qe=cc.instantiate(vt)).setParent(Xt),Ze=cc.find("Button_Set",Qe),this.SetBtnEvent(Ze.getComponent(cc.Button),!0,!0),($e=cc.find("Panel_Set",Qe)).active=!1,et=cc.find("Mask_Set",$e),this.SetBtnEvent(et.getComponent(cc.Button),!1,!0),ae=cc.find("Button_Rule",$e).getComponent(cc.Button),this.SetBtnEvent(ae,!0,!0),te=cc.find("Button_Sound",$e).getComponent(cc.Button),this.SetBtnEvent(te,!0,!0),ie=cc.find("Switch/soundOn",te.node),oe=cc.find("Switch/soundOff",te.node),me=cc.find("Button_ToLobby",$e).getComponent(cc.Button),this.SetBtnEvent(me,!0,!0),(_e=cc.instantiate(bt)).setParent(Xt),_e.active=!1;var Zt=cc.instantiate(Ft);for(Zt.setParent(_e),ne=cc.find("Button_RuleClose",Zt).getComponent(cc.Button),this.SetBtnEvent(ne,!0,!0),ft=0;ft<_.m_iRuleCount;ft++)tt.push(cc.find("info_"+ft,_e));for(se=cc.find("Button_RuleRight",Zt).getComponent(cc.Button),this.SetBtnEvent(se,!0,!0),re=cc.find("Button_RuleLeft",Zt).getComponent(cc.Button),this.SetBtnEvent(re,!0,!0),(le=cc.instantiate(wt)).setParent(Xt),le.active=!1,ce=cc.find("Panel_TransScene",Xt),p=cc.find("StartSpecialGameAnim",Xt),ue=cc.find("Button_Spin",Yt).getComponent(cc.Button),this.SetBtnEvent(ue,!0,!0),Le=cc.find("pressParticle",ue.node),pe=cc.find("Button_Stop",Yt).getComponent(cc.Button),this.SetBtnEvent(pe,!1,!0),Ie=cc.find("Button_Auto",Yt).getComponent(cc.Button),this.SetBtnEvent(Ie,!1,!0),fe=cc.find("auto",Ie.node),ye=cc.find("spinleft",Ie.node),Pe=cc.find("spinleft/Num",Ie.node).getComponent(cc.Sprite),de=cc.find("Button_BetAdd",Yt).getComponent(cc.Button),this.SetBtnEvent(de,!0,!0),ge=cc.find("Button_BetSub",Yt).getComponent(cc.Button),this.SetBtnEvent(ge,!0,!0),this.GameLogic.m_DealAutoTrans=new s.default(this.GameLogic),this.GameLogic.m_DealAutoTrans.m_BtnAutoSpin=Ie,this.GameLogic.m_DealAutoTrans.m_BtnSpin=ue,this.GameLogic.m_DealAutoTrans.m_BtnStop=pe,ue.node.on(cc.Node.EventType.TOUCH_START,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchStart,this.GameLogic.m_DealAutoTrans),ue.node.on(cc.Node.EventType.TOUCH_END,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchEnd,this.GameLogic.m_DealAutoTrans),ue.node.on(cc.Node.EventType.TOUCH_CANCEL,this.GameLogic.m_DealAutoTrans.onSpinBtnTouchCancel,this.GameLogic.m_DealAutoTrans),this.GameLogic.m_DealAutoTrans.m_SpinLeftSpriteFrame=pt,this.GameLogic.m_DealAutoTrans.m_autoBtnAutoTag=fe,this.GameLogic.m_DealAutoTrans.m_autoBtnAutoTag.active=!0,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinCountTag=ye,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinCountTag.active=!1,this.GameLogic.m_DealAutoTrans.m_autoBtnSpinLeftCountSprite=Pe,this.GameLogic.m_DealAutoTrans.m_spinBtnPressParticle=Le,this.GameLogic.m_DealItem=new l.default(this.GameLogic),this.GameLogic.m_DealItem.m_ItemCtrl=this.iGameBase.NewItemCtrl_CR_FireRes_Spe(it,Re,dt,this,this.GameLogic.ShowLottery.bind(this.GameLogic),this.GameLogic.m_DealItem.AColStopEvn.bind(this.GameLogic.m_DealItem),this.GameLogic.m_DealItem.GetFireNumStr.bind(this.GameLogic.m_DealItem),2200,!0,40,.3),this.GameLogic.m_DealItem.Init(),this.GameLogic.m_DealBetRel=new r.default(this.GameLogic),this.GameLogic.m_DealBetRel.m_BtnBetAdd=de,this.GameLogic.m_DealBetRel.m_BtnBetSub=ge,this.GameLogic.m_DealWinPro=new c.default(this.GameLogic),this.GameLogic.m_DealWinPro.m_transTotalWinNumP=he,this.GameLogic.m_DealWinPro.m_transCreditNumP=Se,this.GameLogic.m_DealWinPro.m_AnimPlayerBG=void 0,this.GameLogic.m_DealWinPro.m_PlayerBG=a,this.GameLogic.m_DealWinPro.m_ary_imagBG=Me,this.GameLogic.m_DealWinPro.m_ImageTrans=S,this.GameLogic.m_DealWinPro.m_transLinesP=void 0,this.GameLogic.m_DealWinPro.m_ary_transLines=ve,this.GameLogic.m_DealWinPro.m_gLinesMask=I,this.GameLogic.m_DealWinPro.m_transLinesCacheP=void 0,this.GameLogic.m_DealWinPro.m_arys_AnimItems=Fe,this.GameLogic.m_DealWinPro.m_arys_imagItem=we,this.GameLogic.m_DealWinPro.m_arys_AnimItemsBonus=be,this.GameLogic.m_DealWinPro.m_ary_VecLinesScoreNum=Ne,this.GameLogic.m_DealWinPro.m_transLinesScoreNumP=void 0,this.GameLogic.m_DealWinPro.m_gFSPar=f,this.GameLogic.m_DealWinPro.m_gFSUseP=y,this.GameLogic.m_DealWinPro.m_gIntoFS=P,this.GameLogic.m_DealWinPro.m_gAddFS=L,this.GameLogic.m_DealWinPro.m_OutFS=T,this.GameLogic.m_DealWinPro.m_FSTips=W,this.GameLogic.m_DealWinPro.m_ary_SprItems=it,this.GameLogic.m_DealWinPro.m_ary_SprItemPanel=ot,this.GameLogic.m_DealWinPro.m_ShowTotalWinNumCtrl=this.iGameBase.NewShowNum(he,Ge,lt,ut,!0,!0),this.GameLogic.m_DealWinPro.m_FSAddTimesCtrl=this.iGameBase.NewShowNum(G,Ge,at,ut,!1,!1),this.GameLogic.m_DealWinPro.m_FSTimesUsedCtrl=this.iGameBase.NewShowNum(A,Te,at,ut,!1,!1),this.GameLogic.m_DealWinPro.m_FSTotalTimes=this.iGameBase.NewShowNum(B,Te,at,ut,!1,!1),this.GameLogic.m_DealWinPro.m_FSShowTotalWinNumCtrl=this.iGameBase.NewShowNum(D,Ge,rt,ut,!0,!0),this.GameLogic.m_DealWinPro.m_DealSpecial.m_ImageTrans=E,this.GameLogic.m_DealWinPro.m_DealSpecial.m_arys_VecItems=Ke,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gMask=O,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transItemAnimP=k,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root=x,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_gLock=je,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprNumLock=Ue,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_SprItems=it,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gScatterItemAnim=K,this.GameLogic.m_DealWinPro.m_DealSpecial.m_transTip=j,this.GameLogic.m_DealWinPro.m_DealSpecial.m_gNumPrefab=We,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprFireNum=gt,this.GameLogic.m_DealWinPro.m_DealSpecial.m_list_icPairNumSpe=ut,this.GameLogic.m_DealItem1=new l.default(this.GameLogic),this.GameLogic.m_DealItem1.m_ItemCtrl=this.iGameBase.NewItemCtrl_CR_FireRes_Spe(it,ke,xe,this,this.GameLogic.ShowLottery_Special.bind(this.GameLogic),this.GameLogic.m_DealItem1.AColStopEvn.bind(this.GameLogic.m_DealItem1),this.GameLogic.m_DealItem1.GetFireNumStr.bind(this.GameLogic.m_DealItem1),2200,!0,40,.3),this.GameLogic.m_DealItem1.Init(),this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_SpecialSpinPar=H,this.GameLogic.m_DealWinPro.m_DealSpecial.m_ary_SprTips=ze,ft=0;ft<_.m_LockCount;ft++)this.GameLogic.m_DealWinPro.m_DealSpecial.m_NumlockCtrl[ft]=this.iGameBase.NewShowNum(Je[ft],X,rt,ut,!1,!1);this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_IntoSpecial=q,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_OutSpecial=z,this.GameLogic.m_DealWinPro.m_DealSpecial.Tips_End=J,this.GameLogic.m_DealWinPro.m_DealSpecial.Panel_WinSpecial=V,V.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_NumWinCtrl=this.iGameBase.NewShowNum(U,Ge,Ue,ut,!0,!0),this.GameLogic.m_DealWinPro.m_DealSpecial.m_PanelWinScoreAnim=Y,Y.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_PanelWinScoreAnim2=qe,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Root.active=!1,this.GameLogic.m_Root=C,this.GameLogic.m_Root.active=!0,this.GameLogic.m_Image_Logo=m,this.GameLogic.m_BGFireBall=h,this.GameLogic.m_DealWinPro.m_DealSpecial.m_Panel_Jackpot=Ce,this.GameLogic.m_DealWinPro.m_PlayerJPPanel=Ce,this.GameLogic.m_DealWinPro.m_TransScoreCtrl=this.iGameBase.NewTransScoreCtrl(this.GameLogic.m_DealWinPro,this.GameLogic.m_DealWinPro.SubTransScore.bind(this.GameLogic.m_DealWinPro),this.GameLogic.m_DealWinPro.AddTransScore.bind(this.GameLogic.m_DealWinPro),3,2),this.GameLogic.m_DealWinPro.m_PanelTips=u,this.GameLogic.m_DealWinPro.m_StartSpecialGameAnim=p,this.GameLogic.m_DealWinPro.m_StartSpecialPrefab=Ae,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight=Q,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBallMask=He,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall=Ve,this.GameLogic.m_DealWinPro.m_DealSpecial.m_FireBallLight.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_fireBall.active=!1,this.GameLogic.m_DealWinPro.m_DealSpecial.m_PanelLockEffect=Xe,this.GameLogic.m_DealWinPro.m_GameWinScoreParticleNode=d,this.GameLogic.m_DealWinPro.m_GameWinScoreBigWinAnim=g,this.GameLogic.m_DealWinPro.m_DealSpecial.m_winJackpotTile=Ee,this.GameLogic.m_DealWinPro.m_FSIntoAnimNode=R,this.GameLogic.m_DealWinPro.m_FSIntoAnimInfoNode=v,this.GameLogic.m_DealWinPro.m_FSIntoAnimBgNode=F,this.GameLogic.m_DealWinPro.m_offLineLodingPanel=le,this.GameLogic.m_DealWinPro.m_BtnTransScore=e,this.GameLogic.m_DealWinPro.m_PanelRule=_e,this.GameLogic.m_DealWinPro.m_gameInfoImage=tt,this.GameLogic.m_DealWinPro.m_Button_Set=Ze,this.GameLogic.m_DealWinPro.m_Panel_Set=$e,this.GameLogic.m_DealWinPro.m_Mask_Set=et,this.GameLogic.m_DealWinPro.m_Widget_PanelSet=$e.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Widget_m_ButtonSet=Ze.getComponent(cc.Widget),this.GameLogic.m_DealWinPro.m_Toggle_SoundOn=ie,this.GameLogic.m_DealWinPro.m_Toggle_SoundOff=oe,this.GameLogic.m_DealWinPro.InitSound(),this.GameLogic.m_DealWinPro.m_TransScenePanel=ce,this.GameLogic.m_DealWinPro.m_arys_VecItems=Oe,this.GameLogic.m_DealWinPro.m_gItemAnim=Be,this.GameLogic.m_DealWinPro.m_gBounsAnimPrefab=De,this.GameLogic.m_DealWinPro.m_transItemAnimP=w,this.GameLogic.m_DealWinPro.m_transBounsAnimP=b,this.GameLogic.m_DealWinPro.m_ITopBar=i,this.GameLogic.m_DealWinPro.m_IBelowBar=o,cc.log("==================\u521d\u59cb\u5316\u5b8c\u6210========================"),this.iGameBase.isNoWin()&&(cc.find("Image_BGWin",Ce).active=!1,cc.find("BGMessageField copy",Ce).active=!1,e.node.active=!1),Xt.setSiblingIndex(Et.childrenCount-1),He.getComponent(cc.Sprite).spriteFrame=Ot.getSpriteFrame("fireBallMask"),Ve.getComponent(cc.Sprite).spriteFrame=Ot.getSpriteFrame("fireballAnim")},t.prototype.StageUpdate=function(){this.m_bIsStartUpdate&&this.GameLogic.UpdateGameSlot()},t.prototype.Leave=function(){cc.log("====Leave====",this.m_bIsStartUpdate),this.m_bIsStartUpdate=!1},t.prototype.SetSound=function(){this.m_SoundSystem=this.iGameBase.NewSoundSystem();for(var e=new _.AudioData,t=0;t<e.ary_AudioNames.length;t++){var i=this.GetGameAsset("Res/Sounds/"+e.ary_AudioNames[t],n.AT_AudioClip);this.m_SoundSystem.SEAdd(i,e.ary_AudioVolume[t]),t<3&&this.m_SoundSystem.BGMAdd(i,e.ary_AudioVolume[t])}},t.prototype.SetBtnEvent=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),null!=e){var o=new cc.Component.EventHandler;o.target=this.node,o.component=this.scriptName,o.handler="BtnEventCallback",e.clickEvents.push(o),e.node.active=t,e.interactable=i}},t.prototype.BtnEventCallback=function(e){var t=e.target;this.GameLogic.OnClickBtn(t)},t.prototype.GetGameAsset=function(e,t){return this.iGameBase.GetGameAsset(this.handlerName,e,t)},t.prototype.GetGameAsset1=function(e,t){return this.iGameBase.GetGameAsset1(e,t)},t.prototype.SettingClick=function(){this.iGameBase.SettingClick()},m([u],t)}(cc.Component);i.default=p,cc._RF.pop()},{"./DataManager_FIREBALL":"DataManager_FIREBALL","./DealAutoTrans_FIREBALL":"DealAutoTrans_FIREBALL","./DealBetRelevant_FIREBALL":"DealBetRelevant_FIREBALL","./DealItemRelevant_FIREBALL":"DealItemRelevant_FIREBALL","./DealWinProcess_FIREBALL":"DealWinProcess_FIREBALL","./GameLogic_FIREBALL":"GameLogic_FIREBALL"}]},{},["DataManager_FIREBALL","DealAutoTrans_FIREBALL","DealBetRelevant_FIREBALL","DealItemRelevant_FIREBALL","DealSpecial_FIREBALL","DealWinProcess_FIREBALL","GameLogic_FIREBALL","Game_FIREBALL"]);